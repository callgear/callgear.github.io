{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Interactive calls processing This technology allows you to: automate keeping track of your incoming calls in the outside system (CRM); your CRM system can dictate a virtual PBX how to process calls; personalize calls processing. Outside system settings On the side of an outside system, you should use http-server, that's going to receive requests about incoming calls from a virtual PBX and send instructions on how to process them. Request is a query to a certain URL with call parameters, their type http://crm11.getsandbox.com/crm_integration?cdr_id=123&start_time=1200&input_result=None&numa=74952345678&numb=74951234567 where: http://crm11.getsandbox.com/crm_integration \u2014 URL of a call processor in a virtual PBX; cdr_id \u2014 call ID; start_time \u2014 call start time; input_result \u2014 DTMF codes entered by a caller; numa \u2014 caller's number; numb \u2014 dialed number. Server should send a successful http-reply (with the status 200),which should contain instructions for the virtual PBX \u2014 JSON-structure in one of the following formats: Transferring { \"phones\": list of numbers, \"message_name\": file name in a base or \"text\": text to be read } Is used when the external system uses a scenario to transfer call to another number and to play a message to a user. For example: { \"phones\": [\"74959876543\", \"79031505050\", \"74951234567\"], \"message_name\": \"10sec.mp3\" } { \"text\": \"Hello\", \"phones\": [\"79031204040\", \"79651234567\"] } { \"message_name\": \"10sec.mp3\" } { \"text\": \"Hi\" } { \"phones\": [\"79037897878\", \"74951234567\"] } { \"phones\": [\"74959876543\", \"79031505050\", \"74951234567\"], \"message_name\": \"10sec.mp3\", \"operator_message\": \"op_hint.mp3\" } A message to an employee, before a conversation begins, can be played via an operation settings in the client area or via a reply from an outside system. Operator_message can be of two types: operator_media \u2014 play a fragment from a files base, or operator_text \u2014 convert message to a voice recording. If two instructions, operator_media and operator_text, are dictated at the same time, the operator_media will be played. At the same time, a reply from an outside system has priority over setting up a message to an employee in your client area. Instructions on how to transition inside a scenario of a virtual PBX { \"returned_code\": returned code } Use when you need to direct call processing in one of the associated scenarios. You can select multiple return codes that are processed sequentially. Virtual PBX settings In a virtual PBX scenario, create an interactive call processing operation. In this scenario, you should specify: * URL, where you can contact the request processor; * request method: GET or POST; * parameters to be included in the request ( cdr_id , start_time , input_result , numa , numb ); * length of the access code, if you want to receive from a DTMF from the caller. Also, if you will use the instructions on how to transition inside the virtual PBX scenario, specify the related operations. Then the system will route the call along a related branch within the scenario. We strongly recommend that you configure the virtual PBX in case an outside system does not give an answer for some reason.","title":"Interactive calls processing"},{"location":"#interactive-calls-processing","text":"This technology allows you to: automate keeping track of your incoming calls in the outside system (CRM); your CRM system can dictate a virtual PBX how to process calls; personalize calls processing.","title":"Interactive calls processing"},{"location":"#outside-system-settings","text":"On the side of an outside system, you should use http-server, that's going to receive requests about incoming calls from a virtual PBX and send instructions on how to process them. Request is a query to a certain URL with call parameters, their type http://crm11.getsandbox.com/crm_integration?cdr_id=123&start_time=1200&input_result=None&numa=74952345678&numb=74951234567 where: http://crm11.getsandbox.com/crm_integration \u2014 URL of a call processor in a virtual PBX; cdr_id \u2014 call ID; start_time \u2014 call start time; input_result \u2014 DTMF codes entered by a caller; numa \u2014 caller's number; numb \u2014 dialed number. Server should send a successful http-reply (with the status 200),which should contain instructions for the virtual PBX \u2014 JSON-structure in one of the following formats: Transferring { \"phones\": list of numbers, \"message_name\": file name in a base or \"text\": text to be read } Is used when the external system uses a scenario to transfer call to another number and to play a message to a user. For example: { \"phones\": [\"74959876543\", \"79031505050\", \"74951234567\"], \"message_name\": \"10sec.mp3\" } { \"text\": \"Hello\", \"phones\": [\"79031204040\", \"79651234567\"] } { \"message_name\": \"10sec.mp3\" } { \"text\": \"Hi\" } { \"phones\": [\"79037897878\", \"74951234567\"] } { \"phones\": [\"74959876543\", \"79031505050\", \"74951234567\"], \"message_name\": \"10sec.mp3\", \"operator_message\": \"op_hint.mp3\" } A message to an employee, before a conversation begins, can be played via an operation settings in the client area or via a reply from an outside system. Operator_message can be of two types: operator_media \u2014 play a fragment from a files base, or operator_text \u2014 convert message to a voice recording. If two instructions, operator_media and operator_text, are dictated at the same time, the operator_media will be played. At the same time, a reply from an outside system has priority over setting up a message to an employee in your client area. Instructions on how to transition inside a scenario of a virtual PBX { \"returned_code\": returned code } Use when you need to direct call processing in one of the associated scenarios. You can select multiple return codes that are processed sequentially.","title":"Outside system settings"},{"location":"#virtual-pbx-settings","text":"In a virtual PBX scenario, create an interactive call processing operation. In this scenario, you should specify: * URL, where you can contact the request processor; * request method: GET or POST; * parameters to be included in the request ( cdr_id , start_time , input_result , numa , numb ); * length of the access code, if you want to receive from a DTMF from the caller. Also, if you will use the instructions on how to transition inside the virtual PBX scenario, specify the related operations. Then the system will route the call along a related branch within the scenario. We strongly recommend that you configure the virtual PBX in case an outside system does not give an answer for some reason.","title":"Virtual PBX settings"}]}