{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Data API Agreements The following agreements are accepted when using Data API: Empty fields always returns with the value null . In case of a data bulk the an empty bulk returns. In case of an object, an empty object returns; All the fields related to time and date are transferred in the format YYYY-MM-DD hh:mm:ss; Requests to API are always made via the POST method; All the parameters in requests/replies, as well as in JSON data structures and methods titles are named in the Snake Case style - words are divided by underscores; Data returns only in the JSON format ass according to the specification RFC 7159. The title Accept should be ignored; Data coding UTF-8; Title Content-Type should be \"application/json; charset=UTF-8\" ; Title Content-Length should have correct message length, in line with the specification HTTP/1.1 Adding IP-addresses to the whitelist By default, access to API is denied for anyone. To make a request you need to add to the whitelist an IP-address used for the request. You can do this in your client area \"Administrator -> Account -> Rules and security settings\" tab \"API\". If you need for all the IP-addresses to have access, add 0.0.0.0/0 to the whitelist. If the request is made via agent, his or hers IP address should be added to the whitelist in a customer account. API users and authentication Access rules similar to the ones in the client area applies to users and access keys. Access by key Keys are generated on a user level in the client area \"Account\" \u2192 \"Managing Users\" There are two types of keys: permanent; temporary; Permanent keys have unlimited lifetime. Temporary keys have specified expiration time. Access by login and password Authentication using sessions Session lifetime is 1 hour. Requests to API report You can make reports about requests to API in the client area \"Reports\"->\"Service reports\"->\"Requests to API\" Base URL to access API Base URL to access API complies with the following template: <protocol> :// <hostname> / <version> <protocol> - https; <hostname> - dataapi.callgear.com; <version> - API version (refer to Versioning ) https://dataapi.callgear.com/<version> Versioning Current version of Data API 2.0 Data API supports versioning. Version is specified in a base URL as vX.Y , where X - is a major version number, and Y is a minor version number If a new version is released the previous one is considered outdated. Consequently, when referring to an old version of API in the meta parameters (refer to Meta-parameters ) the parameter \"current_version_deprecated\" with value \"true\" will return. Maximum number of supported versions is 2 Support period for old versions is 2 months Limits and restrictions Points are only written off after successful requests, i.e. the ones that are marked as successful in the requests to API report (refer to Report about requests to API ). Information about limits returns in all replies in the meta parameters (refer to Meta-Parameters ) except when the limits are not applied; Limits are based on points system, i.e. each method has its weight. Calling a method reduces available points per day/per minute by the weight of a called method. Information about limits in the meta parameters: Parameter title Description day_limit Current limit points per day day_remaining Points remaining until daily limit day_reset Seconds left till the daily limit is reset minute_limit Current limit points per minute minute_remaining Points left till the limit per minute is reached minute_reset Seconds left till the limit per minute is reset Methods and their weight in points Operation type Weight in points All operations 1 Expanding limits You can expand the limits in your client area \"Account\" -> \"Rates and options\". Processing errors Parameters of a message about error Title Type Required Description error object yes Object containing error code number yes A non-unique error code (refer to Groups of errors codes ) message string yes Message about error data object yes Object containing details of an error mnemonic string yes Unique text code of an error. It is recommended to use this parameter when processing errors. value string no Contains information transferred from a user without any changes In certain cases it's absent. For example, a required parameter might not be filled in. extended_helper string no Link to an extended description of an error and possible way to solve it. params object no Map of the parameters' substitutes for templates with texts about errors. I.e. it contains dynamically varying values, such as limits. Values stated in this parameter can be used in messages about errors in a Data API based interface. field string no Title of a parameter, associated with an error Embedded parameters are displayed with dividing symbols \".\" For example: \"employee.phone_number\" JSON error structure { \"jsonrpc\": \"2.0\", \"id\": null, \"error\": { \"code\": \"number\", \"message\": \"string\", \"data\": { \"mnemonic\": \"string\", \"field\": \"string\", \"value\": \"string\", \"params\": { \"object\": \"string\" }, \"extended_helper\": \"string\", \"metadata\": { } } } } Errors codes groups Error code Description -32700 Errors associated with JSON validation -32600 Errors associated with validation of request parameters id and jsonrpc -32601 Errors associated with method -32602 Errors associated with validation of parameters in a called method -32603 Internal errors of a JSON RPC server -32001 Authentication errors and errors associated with keys -32003 Errors associated with access rights - ip address is not on the whitelist, user doesn't have access -32004 Errors associated with the wrong order of called methods -32007 Errors associated with virtual number -32008 Errors associated with a component -32009 Errors associated with account -32029 Errors associated with limits -32099 Errors associated with the support of various JSON RPC 2.0 specifications - Batch operations, Notifications List of errors common for all methods Text message Code Mnemonics Description Invalid Request The JSON sent is not a valid Request object -32600 invalid_request Errors associated with validation of request parameters id and jsonrpc Access token has been expired -32001 access_token_expired Is only applied to a permanent token. If lifetime of a permanent token is up, this error returns Access token has been blocked -32001 access_token_blocked If a permanent token is blocked, this error returns Access token is invalid -32001 access_token_invalid This error returns if a permanent/temporary token is not found Limit per {limit_type} has been exceeded. Value of current limit per {limit_type} is {limit_max_value} -32029 limit_exceeded Limit is exceeded You need at least one of the following components to access this method: {components} -32008 method_component_disabled If a component, required for a method to work, is not switched on You need at least on of the following components to access this parameter: {components} -32008 parameter_component_disabled If a component, required to fill in a parameter or to create an entity, is not switched on Your IP {ip} is not whitelisted -32003 ip_not_whitelisted IP address, used to make a request, is not on the whitelist. If a request is made from an agent, your IP address should be in the whitelist in a client's account Login or password is wrong -32001 auth_error Wrong login or password Your account has been disabled, contact the support service -32009 account_inactive Account is blocked Internal error, contact the support service -32603 internal_error Internal error, enquire with technical support Data supplied is of wrong type -32602 data_type_error For example, if string is expected and int was The method does not exist / is not available -32601 method_not_found Method not found Permission denied -32003 forbidden No rights to access method or API, or denied permission to perform an activity Invalid JSON was received by the server. -32700 parse_error JSON validation error Batch operations not supported -32099 batch_opreations_not_supported Batch operations are not supported Notifications not supported -32099 notifications_not_supported The parameter id is lost in request. refer to Parameters common for all methods\" The required parameter has been missed -32602 required_parameter_missed A required parameter is missed Invalid parameter value -32602 invalid_parameter_value Always returns when an invalid parameter's value is transferred, or when the value does not comply with the required spelling standard Unexpected method parameter(s) -32602 unexpected_parameters Used when the \"params\" has parameters not provided in JSON method structure , or when a filtering, sorting, selection parameter doesn't exist The combination of parameters is not permitted -32602 invalid_parameters_combination Used when combination of parameters in a method is invalid, or when those parameters depend on each other. It is advised to consult documentation on the method and its parameters. {error_message} -32602 error Dynamic errors List of errors for methods with the verb get Error text Code Mnemonics Description Invalid parameter value -32602 invalid_parameter_value When the filters contain invalid value for regexp, jsquery or any other values that do not comply with the documentation Sort by parameter is prohibited -32602 sort_prohibited Sorting by a parameter is prohibited or impossible, because a sorting parameter is not among the ones allowed for sorting Filter by parameter is prohibited -32602 filter_prohibited Filtering by a parameter is prohibited or impossible, because a filtering parameter is not among the ones allowed for filtering Max value of requested date interval is 3 months -32602 date_interval_limit_reached If the time period between date_from and date_till in a request exceeds 3 months. Usually this error only returns in the methods you use to get reports, but not in all of them. List of errors common for methods with the verb delete Error text Code Mnemonics Description Entity not found -32602 entity_not_found If you receive an ID of an entity that's not found You have interdependent entities -32602 dependency_error An entity to delete is used in another entities. To delete it, you need to exclude the entity, that's to be deleted, from all other fields it is used in Permission denied -32602 forbidden You can not delete an entity as it belongs to the system, such as \"Blacklist\" in the address book List or errors common for methods withe the verbs create and update, set, unset Error text Code Mnemonics Description Entity not found -32602 entity_not_found If you receive an ID of an entity that's not found Duplicate entity -32602 duplicate_entity If an entity already excists Campaign is inactive -32602 campaign_is_inactive Advertising campaign is inactive Invalid date time -32602 invalid_date_time Invalid date or time, refer to a method's description A new data limit has been exceeded -32602 data_limit_exceeded Error returns if you exceed the data limit. Action is not allowed for your tariff plan. You need contact support service or change your tariff plan settings in your account -32602 tariff_restrictions Any service plan limits This value is already used by another entity -32602 already_in_use The parameter's value is already in use in another entity. For example, a virtual number is already used in another advertising campaign. Batch operations Functionality is not supported Principle of methods naming Name of a JSON-RPC method consists of two parts divided by a dot: a verb and an object's name. An object's name is chosen as a noun in the plural, that expresses a business entity such as subscribers . A method's name should begin with a verb, expressing an operation. Verbs used in methods' names Verb Description create Creates an entity get Returns a list of sorted and filtered data by using filtering criteria and sorting methods. When making a request you can set a limit or paging for the amount of the data you receive (refer to Paging ). By applying filtering criteria you can also get the one entry you need. Use its unique ID (refer to Filters ). General number of entries returns in a special meta parameter (refer to Meta parameters ). By using a special parameter you van point on the fields that should be returned in a reply message (refer to Viewing returned data ). update Updates an entity with a certain ID. Partial parameters update is possible When you update a bulk of data, it is updated in a whole, i.e. all the elements, that were not transferred, are deleted. To reset an additional parameter you need to transfer null delete Deletes an entity with a certain ID. add Connects an object with another one. enable Enables an object disable Disables an object set Sets an aspect for another object, such as tagging an inquiry unset Unsets an aspect for another object, such as deleting a tag of an inquiry Filters You can only filter data applicable to the verb \"get\" (refer to \"Verbs used in methods' names\" . To do so you can use the unrequired primitive \"filter\" , which may be an object containing: Simple filter; Filters tree with simple filters and conditions. A simple filter is an object that contains the following required primitives: field - field of an entity that's to be filtered (the list of such entities is pre determined for each method); operator - filtering operator. You can access the list of all the operators in the section \"Filter operators\" ; value - value for filter operator. Unrequired field. If it's absent, it shall be considered empty. Filters tree contains a special primitive \"filters\" , that may contain both simple filters and a filters tree. Possible errors when filtering Text Code Mnemonics Description Filter by parameter is prohibited -32602 filter_prohibited Filtering by parameter is prohibited or impossible, as the filtering parameter is not on the filtering whitelist Unexpected method parameter(s) -32602 unexpected_parameters A wrong parameter is transferred or the parameter doesn't exist Example of a simple filter's JSON structure Receiving a list of entries that have \"Bob\" in the field \"name\" { \"jsonrpc\":\"2.0\", \"id\":1, \"method\":\"get.entity\", \"params\":{ \"filter\":{ \"field\":\"name\", \"operator\":\"=\", \"value\":\"Bob\" } } } Example of a JSON structure of a filter tree with one nesting level Receiving a list of entries that have \"Bob\" in the field \"name\" and the age - 25 years { \"jsonrpc\":\"2.0\", \"id\":1, \"method\":\"get.entity\", \"params\":{ \"filter\":{ \"filters\":[ { \"field\":\"name\", \"operator\":\"=\", \"value\":\"Bob\" }, { \"field\":\"age\", \"operator\":\"=\", \"value\":25 } ], \"condition\":\"and\" } } } Example of a JSON structure of a filter tree with two nesting levels Receiving a list of entries that have \"Bob\" in the field \"name\" and the age - 25 years, or a list of entries that have \"Dexter\" in the field \"name\" and the age - 2 years { \"jsonrpc\":\"2.0\", \"id\":1, \"method\":\"get.entity\", \"params\":{ \"filter\":{ \"filters\":[ { \"filters\":[ { \"field\":\"name\", \"operator\":\"=\", \"value\":\"Bob\" }, { \"field\":\"age\", \"operator\":\"=\", \"value\":25 } ], \"condition\":\"and\" }, { \"filters\":[ { \"field\":\"name\", \"operator\":\"=\", \"value\":\"Dexter\" }, { \"field\":\"age\", \"operator\":\"=\", \"value\":2 } ], \"condition\":\"and\" } ], \"condition\":\"or\" } } } Example of a JSON structure of a filter tree with three nesting levels Request condition ((addv_comp_id = 10 or addv_comp_id = 12) and (tag_id = 1 or tag_id = 5)) or visitor_id = 14 or (date_from = 2015-12-14 and date_till = 2015-12-16) { \"filter\":{ \"filters\":[ { \"filters\":[ { \"filters\":[ { \"field\":\"addv_comp_id\", \"operator\":\"=\", \"value\":10 }, { \"field\":\"addv_comp_id\", \"operator\":\"=\", \"value\":12 } ], \"condition\":\"or\" }, { \"filters\":[ { \"field\":\"tag_id\", \"operator\":\"=\", \"value\":1 }, { \"field\":\"tag_id\", \"operator\":\"=\", \"value\":5 } ], \"condition\":\"or\" } ], \"condition\":\"and\" }, { \"field\":\"visitor_id\", \"value\":14, \"operator\":\"=\" }, { \"filters\":[ { \"field\":\"date_from\", \"value\":\"2015-12-14 12:00:00\", \"operator\":\"=\" }, { \"field\":\"date_till\", \"value\":\"2015-12-16 15:00:00\", \"operator\":\"=\" } ], \"condition\":\"and\" } ], \"condition\":\"or\" } } Filter operators Filters null or not null is =null, !=null Operator Description Case sensitivity of lines Data type = Equal yes number, string, null, boolean, iso8601, enum != Not equal yes number, string, null, boolean, iso8601, enum < Less than - number, iso8601 > More than - number, iso8601 <= Less than or equal - number, iso8601 >= More than or equal - number, iso8601 like Begins with, Ends with, Contains Use \"%\" yes string regexp Posix yes string jsquery PostgreSQL jsquery yes object, array in Data bulk relating to \"or\" yes number, string, enum Data sorting You can only sort data applicable to the verb \"get\" (refer to \"Verbs used in methods' names\" ). To do so you need to use a v bulk of sorting objects with the following primitives: field - field used for sorting; order - sorting order. Possible values are \"asc\" / \"desc\" . \"asc\" - in ascending order, \"desc\" - in descending order. An unrequired parameter. Default value is \"asc\" . List of fields that can be used for sorting is defined for each method separately. Possible errors when sorting Error text Code Mnemonics Description Sort by parameter is prohibited -32602 sort_prohibited Sorting by parameter is prohibited or impossible, as the sorting parameter is not on the sorting whitelist Unexpected method parameter(s) -32602 unexpected_parameters A wrong parameter is transferred or the parameter doesn't exist JSON structure: { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"string\", \"params\":{ \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ] } } Paging Paging can only be applied to the verb \"get\" (refer to \"Verbs used in methods' names\" ). When paging data, you can use the following parameters: Parameter Default value Possible value description offset 0 100 000 Offset that defines from which entry number to return the entries' \"limit\" limit 1000 10 000 Returning data size (number of entries) JSON structure: { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"string\", \"params\":{ \"offset\":\"number\", \"limit\":\"number\" } } Meta parameters Return when using the verb \"get\" (refer to \"Verbs used in methods' names\" ). Appear both in a wrong and a right replies Parameter \"api_version\" returns only in versions that are deprecated. JSON structure: { \"metadata\":{ \"api_version\":{ \"current_version_deprecated\":\"boolean\", \"current_version\":\"string\", \"latest_version\":\"string\" }, \"limits\":{ \"day_limit\":\"number\", \"day_remaining\":\"number\", \"day_reset\":\"number\", \"minute_limit\":\"number\", \"minute_remaining\":\"number\", \"minute_reset\":\"number\" }, \"total_items\":\"number\" } } Viewing returning data A separate list of the returning columns A special unrequired primitive \"fields\" of a bulk type, containing a list of fields to be used in the output, may be stated in the data returning verb \"get\" (refer to \"Verbs used in methods' names\" ). If the primitive \"fields\" is not in use, all the method's default fields are displayed in the output. Each method has its own list of fields. JSON structure: { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"string\", \"params\":{ \"fields\":[ \"string\" ] } } Possible errors in displaying the returning data Text Code Mnemonics Description Unexpected method parameter(s) -32602 unexpected_parameters A wrong parameter is transferred or the parameter doesn't exist Common fields for all methods Title Type Required Valid value Description id string or number yes Unique request to API ID, which is used to connect a request with the reply. It is recommended to use unique hash or an accidental number . method string yes Called method jsonrpc string yes 2.0 JSON-RPC specification number params object yes Contains request to API body. Depending on the method the request's body changes. Authentication Method Description \"login.user\" Login and receiving authentication session key. \"logout.user\" Logout and deleting an authentication session key.","title":"General Information"},{"location":"#data-api","text":"","title":"Data API"},{"location":"#agreements","text":"The following agreements are accepted when using Data API: Empty fields always returns with the value null . In case of a data bulk the an empty bulk returns. In case of an object, an empty object returns; All the fields related to time and date are transferred in the format YYYY-MM-DD hh:mm:ss; Requests to API are always made via the POST method; All the parameters in requests/replies, as well as in JSON data structures and methods titles are named in the Snake Case style - words are divided by underscores; Data returns only in the JSON format ass according to the specification RFC 7159. The title Accept should be ignored; Data coding UTF-8; Title Content-Type should be \"application/json; charset=UTF-8\" ; Title Content-Length should have correct message length, in line with the specification HTTP/1.1","title":"Agreements"},{"location":"#adding-ip-addresses-to-the-whitelist","text":"By default, access to API is denied for anyone. To make a request you need to add to the whitelist an IP-address used for the request. You can do this in your client area \"Administrator -> Account -> Rules and security settings\" tab \"API\". If you need for all the IP-addresses to have access, add 0.0.0.0/0 to the whitelist. If the request is made via agent, his or hers IP address should be added to the whitelist in a customer account.","title":"Adding IP-addresses to the whitelist"},{"location":"#api-users-and-authentication","text":"Access rules similar to the ones in the client area applies to users and access keys.","title":"API users and authentication"},{"location":"#access-by-key","text":"Keys are generated on a user level in the client area \"Account\" \u2192 \"Managing Users\" There are two types of keys: permanent; temporary; Permanent keys have unlimited lifetime. Temporary keys have specified expiration time.","title":"Access by key"},{"location":"#access-by-login-and-password","text":"Authentication using sessions Session lifetime is 1 hour.","title":"Access by login and password"},{"location":"#requests-to-api-report","text":"You can make reports about requests to API in the client area \"Reports\"->\"Service reports\"->\"Requests to API\"","title":"Requests to API report"},{"location":"#base-url-to-access-api","text":"Base URL to access API complies with the following template: <protocol> :// <hostname> / <version> <protocol> - https; <hostname> - dataapi.callgear.com; <version> - API version (refer to Versioning ) https://dataapi.callgear.com/<version>","title":"Base URL to access API"},{"location":"#versioning","text":"Current version of Data API 2.0 Data API supports versioning. Version is specified in a base URL as vX.Y , where X - is a major version number, and Y is a minor version number If a new version is released the previous one is considered outdated. Consequently, when referring to an old version of API in the meta parameters (refer to Meta-parameters ) the parameter \"current_version_deprecated\" with value \"true\" will return. Maximum number of supported versions is 2 Support period for old versions is 2 months","title":"Versioning"},{"location":"#limits-and-restrictions","text":"Points are only written off after successful requests, i.e. the ones that are marked as successful in the requests to API report (refer to Report about requests to API ). Information about limits returns in all replies in the meta parameters (refer to Meta-Parameters ) except when the limits are not applied; Limits are based on points system, i.e. each method has its weight. Calling a method reduces available points per day/per minute by the weight of a called method. Information about limits in the meta parameters: Parameter title Description day_limit Current limit points per day day_remaining Points remaining until daily limit day_reset Seconds left till the daily limit is reset minute_limit Current limit points per minute minute_remaining Points left till the limit per minute is reached minute_reset Seconds left till the limit per minute is reset","title":"Limits and restrictions"},{"location":"#methods-and-their-weight-in-points","text":"Operation type Weight in points All operations 1","title":"Methods and their weight in points"},{"location":"#expanding-limits","text":"You can expand the limits in your client area \"Account\" -> \"Rates and options\".","title":"Expanding limits"},{"location":"#processing-errors","text":"","title":"Processing errors"},{"location":"#parameters-of-a-message-about-error","text":"Title Type Required Description error object yes Object containing error code number yes A non-unique error code (refer to Groups of errors codes ) message string yes Message about error data object yes Object containing details of an error mnemonic string yes Unique text code of an error. It is recommended to use this parameter when processing errors. value string no Contains information transferred from a user without any changes In certain cases it's absent. For example, a required parameter might not be filled in. extended_helper string no Link to an extended description of an error and possible way to solve it. params object no Map of the parameters' substitutes for templates with texts about errors. I.e. it contains dynamically varying values, such as limits. Values stated in this parameter can be used in messages about errors in a Data API based interface. field string no Title of a parameter, associated with an error Embedded parameters are displayed with dividing symbols \".\" For example: \"employee.phone_number\"","title":"Parameters of a message about error"},{"location":"#json-error-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": null, \"error\": { \"code\": \"number\", \"message\": \"string\", \"data\": { \"mnemonic\": \"string\", \"field\": \"string\", \"value\": \"string\", \"params\": { \"object\": \"string\" }, \"extended_helper\": \"string\", \"metadata\": { } } } }","title":"JSON error structure"},{"location":"#errors-codes-groups","text":"Error code Description -32700 Errors associated with JSON validation -32600 Errors associated with validation of request parameters id and jsonrpc -32601 Errors associated with method -32602 Errors associated with validation of parameters in a called method -32603 Internal errors of a JSON RPC server -32001 Authentication errors and errors associated with keys -32003 Errors associated with access rights - ip address is not on the whitelist, user doesn't have access -32004 Errors associated with the wrong order of called methods -32007 Errors associated with virtual number -32008 Errors associated with a component -32009 Errors associated with account -32029 Errors associated with limits -32099 Errors associated with the support of various JSON RPC 2.0 specifications - Batch operations, Notifications","title":"Errors codes groups"},{"location":"#list-of-errors-common-for-all-methods","text":"Text message Code Mnemonics Description Invalid Request The JSON sent is not a valid Request object -32600 invalid_request Errors associated with validation of request parameters id and jsonrpc Access token has been expired -32001 access_token_expired Is only applied to a permanent token. If lifetime of a permanent token is up, this error returns Access token has been blocked -32001 access_token_blocked If a permanent token is blocked, this error returns Access token is invalid -32001 access_token_invalid This error returns if a permanent/temporary token is not found Limit per {limit_type} has been exceeded. Value of current limit per {limit_type} is {limit_max_value} -32029 limit_exceeded Limit is exceeded You need at least one of the following components to access this method: {components} -32008 method_component_disabled If a component, required for a method to work, is not switched on You need at least on of the following components to access this parameter: {components} -32008 parameter_component_disabled If a component, required to fill in a parameter or to create an entity, is not switched on Your IP {ip} is not whitelisted -32003 ip_not_whitelisted IP address, used to make a request, is not on the whitelist. If a request is made from an agent, your IP address should be in the whitelist in a client's account Login or password is wrong -32001 auth_error Wrong login or password Your account has been disabled, contact the support service -32009 account_inactive Account is blocked Internal error, contact the support service -32603 internal_error Internal error, enquire with technical support Data supplied is of wrong type -32602 data_type_error For example, if string is expected and int was The method does not exist / is not available -32601 method_not_found Method not found Permission denied -32003 forbidden No rights to access method or API, or denied permission to perform an activity Invalid JSON was received by the server. -32700 parse_error JSON validation error Batch operations not supported -32099 batch_opreations_not_supported Batch operations are not supported Notifications not supported -32099 notifications_not_supported The parameter id is lost in request. refer to Parameters common for all methods\" The required parameter has been missed -32602 required_parameter_missed A required parameter is missed Invalid parameter value -32602 invalid_parameter_value Always returns when an invalid parameter's value is transferred, or when the value does not comply with the required spelling standard Unexpected method parameter(s) -32602 unexpected_parameters Used when the \"params\" has parameters not provided in JSON method structure , or when a filtering, sorting, selection parameter doesn't exist The combination of parameters is not permitted -32602 invalid_parameters_combination Used when combination of parameters in a method is invalid, or when those parameters depend on each other. It is advised to consult documentation on the method and its parameters. {error_message} -32602 error Dynamic errors","title":"List of errors common for all methods"},{"location":"#list-of-errors-for-methods-with-the-verb-get","text":"Error text Code Mnemonics Description Invalid parameter value -32602 invalid_parameter_value When the filters contain invalid value for regexp, jsquery or any other values that do not comply with the documentation Sort by parameter is prohibited -32602 sort_prohibited Sorting by a parameter is prohibited or impossible, because a sorting parameter is not among the ones allowed for sorting Filter by parameter is prohibited -32602 filter_prohibited Filtering by a parameter is prohibited or impossible, because a filtering parameter is not among the ones allowed for filtering Max value of requested date interval is 3 months -32602 date_interval_limit_reached If the time period between date_from and date_till in a request exceeds 3 months. Usually this error only returns in the methods you use to get reports, but not in all of them.","title":"List of errors for methods with the verb get"},{"location":"#list-of-errors-common-for-methods-with-the-verb-delete","text":"Error text Code Mnemonics Description Entity not found -32602 entity_not_found If you receive an ID of an entity that's not found You have interdependent entities -32602 dependency_error An entity to delete is used in another entities. To delete it, you need to exclude the entity, that's to be deleted, from all other fields it is used in Permission denied -32602 forbidden You can not delete an entity as it belongs to the system, such as \"Blacklist\" in the address book","title":"List of errors common for methods with the verb delete"},{"location":"#list-or-errors-common-for-methods-withe-the-verbs-create-and-update-set-unset","text":"Error text Code Mnemonics Description Entity not found -32602 entity_not_found If you receive an ID of an entity that's not found Duplicate entity -32602 duplicate_entity If an entity already excists Campaign is inactive -32602 campaign_is_inactive Advertising campaign is inactive Invalid date time -32602 invalid_date_time Invalid date or time, refer to a method's description A new data limit has been exceeded -32602 data_limit_exceeded Error returns if you exceed the data limit. Action is not allowed for your tariff plan. You need contact support service or change your tariff plan settings in your account -32602 tariff_restrictions Any service plan limits This value is already used by another entity -32602 already_in_use The parameter's value is already in use in another entity. For example, a virtual number is already used in another advertising campaign.","title":"List or errors common for methods withe the verbs create and update, set, unset"},{"location":"#batch-operations","text":"Functionality is not supported","title":"Batch operations"},{"location":"#principle-of-methods-naming","text":"Name of a JSON-RPC method consists of two parts divided by a dot: a verb and an object's name. An object's name is chosen as a noun in the plural, that expresses a business entity such as subscribers . A method's name should begin with a verb, expressing an operation.","title":"Principle of methods naming"},{"location":"#verbs-used-in-methods-names","text":"Verb Description create Creates an entity get Returns a list of sorted and filtered data by using filtering criteria and sorting methods. When making a request you can set a limit or paging for the amount of the data you receive (refer to Paging ). By applying filtering criteria you can also get the one entry you need. Use its unique ID (refer to Filters ). General number of entries returns in a special meta parameter (refer to Meta parameters ). By using a special parameter you van point on the fields that should be returned in a reply message (refer to Viewing returned data ). update Updates an entity with a certain ID. Partial parameters update is possible When you update a bulk of data, it is updated in a whole, i.e. all the elements, that were not transferred, are deleted. To reset an additional parameter you need to transfer null delete Deletes an entity with a certain ID. add Connects an object with another one. enable Enables an object disable Disables an object set Sets an aspect for another object, such as tagging an inquiry unset Unsets an aspect for another object, such as deleting a tag of an inquiry","title":"Verbs used in methods' names"},{"location":"#filters","text":"You can only filter data applicable to the verb \"get\" (refer to \"Verbs used in methods' names\" . To do so you can use the unrequired primitive \"filter\" , which may be an object containing: Simple filter; Filters tree with simple filters and conditions. A simple filter is an object that contains the following required primitives: field - field of an entity that's to be filtered (the list of such entities is pre determined for each method); operator - filtering operator. You can access the list of all the operators in the section \"Filter operators\" ; value - value for filter operator. Unrequired field. If it's absent, it shall be considered empty. Filters tree contains a special primitive \"filters\" , that may contain both simple filters and a filters tree.","title":"Filters"},{"location":"#possible-errors-when-filtering","text":"Text Code Mnemonics Description Filter by parameter is prohibited -32602 filter_prohibited Filtering by parameter is prohibited or impossible, as the filtering parameter is not on the filtering whitelist Unexpected method parameter(s) -32602 unexpected_parameters A wrong parameter is transferred or the parameter doesn't exist","title":"Possible errors when filtering"},{"location":"#example-of-a-simple-filters-json-structure","text":"Receiving a list of entries that have \"Bob\" in the field \"name\" { \"jsonrpc\":\"2.0\", \"id\":1, \"method\":\"get.entity\", \"params\":{ \"filter\":{ \"field\":\"name\", \"operator\":\"=\", \"value\":\"Bob\" } } }","title":"Example of a simple filter's JSON structure"},{"location":"#example-of-a-json-structure-of-a-filter-tree-with-one-nesting-level","text":"Receiving a list of entries that have \"Bob\" in the field \"name\" and the age - 25 years { \"jsonrpc\":\"2.0\", \"id\":1, \"method\":\"get.entity\", \"params\":{ \"filter\":{ \"filters\":[ { \"field\":\"name\", \"operator\":\"=\", \"value\":\"Bob\" }, { \"field\":\"age\", \"operator\":\"=\", \"value\":25 } ], \"condition\":\"and\" } } }","title":"Example of a JSON structure of a filter tree with one nesting level"},{"location":"#example-of-a-json-structure-of-a-filter-tree-with-two-nesting-levels","text":"Receiving a list of entries that have \"Bob\" in the field \"name\" and the age - 25 years, or a list of entries that have \"Dexter\" in the field \"name\" and the age - 2 years { \"jsonrpc\":\"2.0\", \"id\":1, \"method\":\"get.entity\", \"params\":{ \"filter\":{ \"filters\":[ { \"filters\":[ { \"field\":\"name\", \"operator\":\"=\", \"value\":\"Bob\" }, { \"field\":\"age\", \"operator\":\"=\", \"value\":25 } ], \"condition\":\"and\" }, { \"filters\":[ { \"field\":\"name\", \"operator\":\"=\", \"value\":\"Dexter\" }, { \"field\":\"age\", \"operator\":\"=\", \"value\":2 } ], \"condition\":\"and\" } ], \"condition\":\"or\" } } }","title":"Example of a JSON structure of a filter tree with two nesting levels"},{"location":"#example-of-a-json-structure-of-a-filter-tree-with-three-nesting-levels","text":"Request condition ((addv_comp_id = 10 or addv_comp_id = 12) and (tag_id = 1 or tag_id = 5)) or visitor_id = 14 or (date_from = 2015-12-14 and date_till = 2015-12-16) { \"filter\":{ \"filters\":[ { \"filters\":[ { \"filters\":[ { \"field\":\"addv_comp_id\", \"operator\":\"=\", \"value\":10 }, { \"field\":\"addv_comp_id\", \"operator\":\"=\", \"value\":12 } ], \"condition\":\"or\" }, { \"filters\":[ { \"field\":\"tag_id\", \"operator\":\"=\", \"value\":1 }, { \"field\":\"tag_id\", \"operator\":\"=\", \"value\":5 } ], \"condition\":\"or\" } ], \"condition\":\"and\" }, { \"field\":\"visitor_id\", \"value\":14, \"operator\":\"=\" }, { \"filters\":[ { \"field\":\"date_from\", \"value\":\"2015-12-14 12:00:00\", \"operator\":\"=\" }, { \"field\":\"date_till\", \"value\":\"2015-12-16 15:00:00\", \"operator\":\"=\" } ], \"condition\":\"and\" } ], \"condition\":\"or\" } }","title":"Example of a JSON structure of a filter tree with three nesting levels"},{"location":"#filter-operators","text":"Filters null or not null is =null, !=null Operator Description Case sensitivity of lines Data type = Equal yes number, string, null, boolean, iso8601, enum != Not equal yes number, string, null, boolean, iso8601, enum < Less than - number, iso8601 > More than - number, iso8601 <= Less than or equal - number, iso8601 >= More than or equal - number, iso8601 like Begins with, Ends with, Contains Use \"%\" yes string regexp Posix yes string jsquery PostgreSQL jsquery yes object, array in Data bulk relating to \"or\" yes number, string, enum","title":"Filter operators"},{"location":"#data-sorting","text":"You can only sort data applicable to the verb \"get\" (refer to \"Verbs used in methods' names\" ). To do so you need to use a v bulk of sorting objects with the following primitives: field - field used for sorting; order - sorting order. Possible values are \"asc\" / \"desc\" . \"asc\" - in ascending order, \"desc\" - in descending order. An unrequired parameter. Default value is \"asc\" . List of fields that can be used for sorting is defined for each method separately.","title":"Data sorting"},{"location":"#possible-errors-when-sorting","text":"Error text Code Mnemonics Description Sort by parameter is prohibited -32602 sort_prohibited Sorting by parameter is prohibited or impossible, as the sorting parameter is not on the sorting whitelist Unexpected method parameter(s) -32602 unexpected_parameters A wrong parameter is transferred or the parameter doesn't exist JSON structure: { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"string\", \"params\":{ \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ] } }","title":"Possible errors when sorting"},{"location":"#paging","text":"Paging can only be applied to the verb \"get\" (refer to \"Verbs used in methods' names\" ). When paging data, you can use the following parameters: Parameter Default value Possible value description offset 0 100 000 Offset that defines from which entry number to return the entries' \"limit\" limit 1000 10 000 Returning data size (number of entries) JSON structure: { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"string\", \"params\":{ \"offset\":\"number\", \"limit\":\"number\" } }","title":"Paging"},{"location":"#meta-parameters","text":"Return when using the verb \"get\" (refer to \"Verbs used in methods' names\" ). Appear both in a wrong and a right replies Parameter \"api_version\" returns only in versions that are deprecated. JSON structure: { \"metadata\":{ \"api_version\":{ \"current_version_deprecated\":\"boolean\", \"current_version\":\"string\", \"latest_version\":\"string\" }, \"limits\":{ \"day_limit\":\"number\", \"day_remaining\":\"number\", \"day_reset\":\"number\", \"minute_limit\":\"number\", \"minute_remaining\":\"number\", \"minute_reset\":\"number\" }, \"total_items\":\"number\" } }","title":"Meta parameters"},{"location":"#viewing-returning-data","text":"","title":"Viewing returning data"},{"location":"#a-separate-list-of-the-returning-columns","text":"A special unrequired primitive \"fields\" of a bulk type, containing a list of fields to be used in the output, may be stated in the data returning verb \"get\" (refer to \"Verbs used in methods' names\" ). If the primitive \"fields\" is not in use, all the method's default fields are displayed in the output. Each method has its own list of fields. JSON structure: { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"string\", \"params\":{ \"fields\":[ \"string\" ] } }","title":"A separate list of the returning columns"},{"location":"#possible-errors-in-displaying-the-returning-data","text":"Text Code Mnemonics Description Unexpected method parameter(s) -32602 unexpected_parameters A wrong parameter is transferred or the parameter doesn't exist","title":"Possible errors in displaying the returning data"},{"location":"#common-fields-for-all-methods","text":"Title Type Required Valid value Description id string or number yes Unique request to API ID, which is used to connect a request with the reply. It is recommended to use unique hash or an accidental number . method string yes Called method jsonrpc string yes 2.0 JSON-RPC specification number params object yes Contains request to API body. Depending on the method the request's body changes.","title":"Common fields for all methods"},{"location":"#authentication","text":"Method Description \"login.user\" Login and receiving authentication session key. \"logout.user\" Logout and deleting an authentication session key.","title":"Authentication"},{"location":"account/","text":"List of available methods Method Description \"get.account\" Getting information about account.","title":"Account"},{"location":"account/#list-of-available-methods","text":"Method Description \"get.account\" Getting information about account.","title":"List of available methods"},{"location":"campaigns/","text":"List of parameters and their operators campaign_parameter Title operator value entrance_page Entrance page sub, =, ~ Filled in by hand Source of traffic referrer_domain Referrer domain sub, =, ~ Filled in by hand search_engine Search engine = askcom bing.com google.com mail.ru nigma rambler.ru yahoo.com yandex search_query Search query sub, =, ~ Filled in by hand engine Advertising engine = 5 - Aport 2 - Google AdWords 3 - Begun 1 - Yandex.Direct 4 - Yandex.Market referrer Referrer sub, =, ~ Filled in by hand channel Channel = display paid affiliate messenger social email organic internal recommendation cashed referral direct Geography of visitors country Country sub, =, ~ Filled in by hand city City sub, =, ~ Filled in by hand region Region sub, =, ~ Filled in by hand UTMs utm_source UTM source sub, =, ~ Filled in by hand utm_medium UTM medium sub, =, ~ Filled in by hand utm_campaign UTM campaign sub, =, ~ Filled in by hand utm_term UTM term sub, =, ~ Filled in by hand utm_content UTM content sub, =, ~ Filled in by hand Openstats openstat_service ID of a service sub, =, ~ Filled in by hand openstat_campaign ID of an advertising campaign sub, =, ~ Filled in by hand openstat_source ID of a channel, a section, a page, a place on a page, where a respective ad was shown sub, =, ~ Filled in by hand openstat_ad ID of an ad sub, =, ~ Filled in by hand Other url tags ef_id Is used to mark links in AdLense contextual advertising management system sub, =, ~ Filled in by hand yclid Yandex Click Identifier sub, =, ~ Filled in by hand gclid Google Click Identifier sub, =, ~ Filled in by hand ymclid Yandex Metric Click Identifier sub, =, ~ Filled in by hand Extended UTMs static_utm_source Static UTM Source sub, =, ~ Filled in by hand static_utm_medium Static UTM Medium sub, =, ~ Filled in by hand static_utm_campaign Static UTM Campaign sub, =, ~ Filled in by hand static_utm_content Static UTM Term sub, =, ~ Filled in by hand static_utm_term Static UTM Content sub, =, ~ Filled in by hand static_utm_referrer Static UTM Referrer sub, =, ~ Filled in by hand static_utm_expid Static UTM Expid sub, =, ~ Filled in by hand List of available methods Method Description \"create.campaigns\" Creating advertising campaigns. \"delete.campaigns\" Deleting advertising campaigns. \"get.campaign_available_phone_numbers\" Getting a list of all virtual numbers available to adjust the parameter phone_number_id when creating/updating a campaign. \"get.campaign_available_redirection_phone_numbers\" Getting a list of redirection phone numbers available for setting the parameter redirection_phone_number_id when creating/updating campaigns (only hosted PBX numbers). \"get.campaign_parameter_weights\" Getting advertising campaign parameter weights. System of weights is needed to specify which campaign should be linked to a visit. If a visit is linked to several campaigns, the system will choose a campaign with the highest value as according to the weights scale. \"get.campaigns\" Getting a list of all the advertising campaigns - integrated, basic and system. \"update.campaign_parameter_weights\" Updating advertising campaign parameter weights. The system defines which campaign should be linked to a visit. If a visit is linked to several campaigns, the system will choose a campaign with the highest value as according to the weights scale. \"update.campaigns\" Updating an advertising campaign.","title":"Ad Campaigns"},{"location":"campaigns/#list-of-parameters-and-their-operators","text":"campaign_parameter Title operator value entrance_page Entrance page sub, =, ~ Filled in by hand Source of traffic referrer_domain Referrer domain sub, =, ~ Filled in by hand search_engine Search engine = askcom bing.com google.com mail.ru nigma rambler.ru yahoo.com yandex search_query Search query sub, =, ~ Filled in by hand engine Advertising engine = 5 - Aport 2 - Google AdWords 3 - Begun 1 - Yandex.Direct 4 - Yandex.Market referrer Referrer sub, =, ~ Filled in by hand channel Channel = display paid affiliate messenger social email organic internal recommendation cashed referral direct Geography of visitors country Country sub, =, ~ Filled in by hand city City sub, =, ~ Filled in by hand region Region sub, =, ~ Filled in by hand UTMs utm_source UTM source sub, =, ~ Filled in by hand utm_medium UTM medium sub, =, ~ Filled in by hand utm_campaign UTM campaign sub, =, ~ Filled in by hand utm_term UTM term sub, =, ~ Filled in by hand utm_content UTM content sub, =, ~ Filled in by hand Openstats openstat_service ID of a service sub, =, ~ Filled in by hand openstat_campaign ID of an advertising campaign sub, =, ~ Filled in by hand openstat_source ID of a channel, a section, a page, a place on a page, where a respective ad was shown sub, =, ~ Filled in by hand openstat_ad ID of an ad sub, =, ~ Filled in by hand Other url tags ef_id Is used to mark links in AdLense contextual advertising management system sub, =, ~ Filled in by hand yclid Yandex Click Identifier sub, =, ~ Filled in by hand gclid Google Click Identifier sub, =, ~ Filled in by hand ymclid Yandex Metric Click Identifier sub, =, ~ Filled in by hand Extended UTMs static_utm_source Static UTM Source sub, =, ~ Filled in by hand static_utm_medium Static UTM Medium sub, =, ~ Filled in by hand static_utm_campaign Static UTM Campaign sub, =, ~ Filled in by hand static_utm_content Static UTM Term sub, =, ~ Filled in by hand static_utm_term Static UTM Content sub, =, ~ Filled in by hand static_utm_referrer Static UTM Referrer sub, =, ~ Filled in by hand static_utm_expid Static UTM Expid sub, =, ~ Filled in by hand","title":"List of parameters and their operators"},{"location":"campaigns/#list-of-available-methods","text":"Method Description \"create.campaigns\" Creating advertising campaigns. \"delete.campaigns\" Deleting advertising campaigns. \"get.campaign_available_phone_numbers\" Getting a list of all virtual numbers available to adjust the parameter phone_number_id when creating/updating a campaign. \"get.campaign_available_redirection_phone_numbers\" Getting a list of redirection phone numbers available for setting the parameter redirection_phone_number_id when creating/updating campaigns (only hosted PBX numbers). \"get.campaign_parameter_weights\" Getting advertising campaign parameter weights. System of weights is needed to specify which campaign should be linked to a visit. If a visit is linked to several campaigns, the system will choose a campaign with the highest value as according to the weights scale. \"get.campaigns\" Getting a list of all the advertising campaigns - integrated, basic and system. \"update.campaign_parameter_weights\" Updating advertising campaign parameter weights. The system defines which campaign should be linked to a visit. If a visit is linked to several campaigns, the system will choose a campaign with the highest value as according to the weights scale. \"update.campaigns\" Updating an advertising campaign.","title":"List of available methods"},{"location":"changelog/","text":"2019-11-14 Added to \"Upload communications\" Upload/delete offline messages upload.offline_messages Upload/delete chats upload.chats [2.0.9] - 2019-10-03 Added Getting account get.account [2.0.8] - 2019-01-10 Added Creating a site create.sites Deleting a site delete.sites Updating a site update.sites [2.0.7] - 2018-11-29 Added Get campaign daily statistics. Method get.campaign_daily_stat Get a list of available virtual numbers get.available_virtual_numbers\" Enable virtual number enable.virtual_numbers Disable virtual number disable.virtual_numbers Added the parameter include_ongoing_calls \"Include ongoing calls\" for the method get.calls_report [2.0.6] - 2018-08-10 Added Added to methods create.employees , get.employees , update.employees are parameters to manage employees statuses and calling permissions: status , allowed_in_call_types , allowed_out_call_types ; Parameter calls_available will be deleted from the methods create.employees , get.employees , update.employees in 2 months. It is not recommended to use this parameter. [2.0.5] - 2018-07-12 Added Added the parameter: time to process lost calls \"lost_call_processing_duration\" to the method get.calls_report ; Added a new method to get a list of scenarios get.scenarios ; Added a new method to get media files - system, user get.media_files . [2.0.4] - 2018-02-15 Added Added an option to get a list of sites. Method get.sites ; Added an option to get a list of site numbers blocks. Method get.site_blocks ; The maximum length of extension numbers is now 5 symbols for the method Creating an employee and a group of employees; Added an option to manage SIP-lines. Methods get.sip_lines , create.sip_lines , update.sip_lines , delete.sip_lines , update.sip_line_password . [2.0.3] - 2018-02-07 Added Added an option to get a list of active virtual numbers. Method get.virtual_numbers ; Added information about integrated goals to the method get.goals_report . Parameters type , source , ext_id ; Added a region of a subscriber's number to the method get.calls_report . Parameter cpn_region_id , cpn_region_name ; Added information about a group within which a call was made to the method get.call_legs_report . Parameters group_id , group_name , action_id , action_name . [2.0.2] - 2018-01-29 Added Methods to manage advertising campaigns - creating, deleting, getting, updating; Added information about integrated campaigns to the method \"Managing reports -> get.visitor_sessions_report\". Parameter integrated_campaign_data ; Expanded valid value of the parameter finish_reason in the method get.calls_report .","title":"Changelog"},{"location":"changelog/#2019-11-14","text":"","title":"2019-11-14"},{"location":"changelog/#added-to-upload-communications","text":"Upload/delete offline messages upload.offline_messages Upload/delete chats upload.chats","title":"Added to \"Upload communications\""},{"location":"changelog/#209-2019-10-03","text":"","title":"[2.0.9] - 2019-10-03"},{"location":"changelog/#added","text":"Getting account get.account","title":"Added"},{"location":"changelog/#208-2019-01-10","text":"","title":"[2.0.8] - 2019-01-10"},{"location":"changelog/#added_1","text":"Creating a site create.sites Deleting a site delete.sites Updating a site update.sites","title":"Added"},{"location":"changelog/#207-2018-11-29","text":"","title":"[2.0.7] - 2018-11-29"},{"location":"changelog/#added_2","text":"Get campaign daily statistics. Method get.campaign_daily_stat Get a list of available virtual numbers get.available_virtual_numbers\" Enable virtual number enable.virtual_numbers Disable virtual number disable.virtual_numbers Added the parameter include_ongoing_calls \"Include ongoing calls\" for the method get.calls_report","title":"Added"},{"location":"changelog/#206-2018-08-10","text":"","title":"[2.0.6] - 2018-08-10"},{"location":"changelog/#added_3","text":"Added to methods create.employees , get.employees , update.employees are parameters to manage employees statuses and calling permissions: status , allowed_in_call_types , allowed_out_call_types ; Parameter calls_available will be deleted from the methods create.employees , get.employees , update.employees in 2 months. It is not recommended to use this parameter.","title":"Added"},{"location":"changelog/#205-2018-07-12","text":"","title":"[2.0.5] - 2018-07-12"},{"location":"changelog/#added_4","text":"Added the parameter: time to process lost calls \"lost_call_processing_duration\" to the method get.calls_report ; Added a new method to get a list of scenarios get.scenarios ; Added a new method to get media files - system, user get.media_files .","title":"Added"},{"location":"changelog/#204-2018-02-15","text":"","title":"[2.0.4] - 2018-02-15"},{"location":"changelog/#added_5","text":"Added an option to get a list of sites. Method get.sites ; Added an option to get a list of site numbers blocks. Method get.site_blocks ; The maximum length of extension numbers is now 5 symbols for the method Creating an employee and a group of employees; Added an option to manage SIP-lines. Methods get.sip_lines , create.sip_lines , update.sip_lines , delete.sip_lines , update.sip_line_password .","title":"Added"},{"location":"changelog/#203-2018-02-07","text":"","title":"[2.0.3] - 2018-02-07"},{"location":"changelog/#added_6","text":"Added an option to get a list of active virtual numbers. Method get.virtual_numbers ; Added information about integrated goals to the method get.goals_report . Parameters type , source , ext_id ; Added a region of a subscriber's number to the method get.calls_report . Parameter cpn_region_id , cpn_region_name ; Added information about a group within which a call was made to the method get.call_legs_report . Parameters group_id , group_name , action_id , action_name .","title":"Added"},{"location":"changelog/#202-2018-01-29","text":"","title":"[2.0.2] - 2018-01-29"},{"location":"changelog/#added_7","text":"Methods to manage advertising campaigns - creating, deleting, getting, updating; Added information about integrated campaigns to the method \"Managing reports -> get.visitor_sessions_report\". Parameter integrated_campaign_data ; Expanded valid value of the parameter finish_reason in the method get.calls_report .","title":"Added"},{"location":"communications/","text":"List of available methods Calls Method Description \"upload.calls\" Uploading calls and communications for end-to-end and voice analysis. Offline messages Method Description \"upload.offline_messages\" Upload offline messages. \"delete.offline_messages\" Delete offline messages. \"get.offline_messages_report\" Get offline messages report. Chats Method Description \"upload.chats\" Upload chats. \"delete.chats\" Delete chats. \"get.chats_report\" Get chat information. \"get.chat_messages_report\" Get all messages from a chat.","title":"Communications"},{"location":"communications/#list-of-available-methods","text":"","title":"List of available methods"},{"location":"communications/#calls","text":"Method Description \"upload.calls\" Uploading calls and communications for end-to-end and voice analysis.","title":"Calls"},{"location":"communications/#offline-messages","text":"Method Description \"upload.offline_messages\" Upload offline messages. \"delete.offline_messages\" Delete offline messages. \"get.offline_messages_report\" Get offline messages report.","title":"Offline messages"},{"location":"communications/#chats","text":"Method Description \"upload.chats\" Upload chats. \"delete.chats\" Delete chats. \"get.chats_report\" Get chat information. \"get.chat_messages_report\" Get all messages from a chat.","title":"Chats"},{"location":"contacts/","text":"List of available methods Method Description \"create.contact_organizations\" Creating contact organization. \"create.contacts\" Adding contacts to address book. \"create.group_contacts\" Creating contact groups in address book. \"delete.contact_organizations\" Deleting contact organizations. \"delete.contacts\" Deleting contacts from address book. \"delete.group_contacts\" Deleting contact lists in address book. \"get.contact_organizations\" Getting list of organization's contacts. \"get.contacts\" Getting contact list in address book. \"get.group_contacts\" Getting contact groups list in address book. \"update.contact_organizations\" Updating contact organizations. \"update.contacts\" Updating contact in address book. \"update.group_contacts\" Updating contact groups in address book.","title":"Contacts"},{"location":"contacts/#list-of-available-methods","text":"Method Description \"create.contact_organizations\" Creating contact organization. \"create.contacts\" Adding contacts to address book. \"create.group_contacts\" Creating contact groups in address book. \"delete.contact_organizations\" Deleting contact organizations. \"delete.contacts\" Deleting contacts from address book. \"delete.group_contacts\" Deleting contact lists in address book. \"get.contact_organizations\" Getting list of organization's contacts. \"get.contacts\" Getting contact list in address book. \"get.group_contacts\" Getting contact groups list in address book. \"update.contact_organizations\" Updating contact organizations. \"update.contacts\" Updating contact in address book. \"update.group_contacts\" Updating contact groups in address book.","title":"List of available methods"},{"location":"customers/","text":"List of available methods Method Description \"create.customers\" Creating agent's customers. \"get.customer_users\" Getting a list of customer users for client area from under which requests to API are made. It is important to take into account whether or not a user has access rights. \"get.customers\" Getting agent's customers. \"get.tariff_plans\" Getting tariff plans available to an agent. \"update.customer_status\" Updating agent's customer status. \"update.customer_tariff_plans\" Updating agent's customer tariff plan. \"update.customers\" Updating agent's customers parameters.","title":"Agents\u2019 Customers"},{"location":"customers/#list-of-available-methods","text":"Method Description \"create.customers\" Creating agent's customers. \"get.customer_users\" Getting a list of customer users for client area from under which requests to API are made. It is important to take into account whether or not a user has access rights. \"get.customers\" Getting agent's customers. \"get.tariff_plans\" Getting tariff plans available to an agent. \"update.customer_status\" Updating agent's customer status. \"update.customer_tariff_plans\" Updating agent's customer tariff plan. \"update.customers\" Updating agent's customers parameters.","title":"List of available methods"},{"location":"employees/","text":"List of available methods Method Description \"create.employee_positions\" Creating employees positions. \"create.employees\" Creating employees. \"create.group_employees\" Creating groups of employees. \"delete.employee_positions\" Deleting employees positionst. \"delete.employees\" Deleting an employee. \"delete.group_employees\" GDeleting groups of employees. \"get.employee_positions\" Getting the list of employees positions. \"get.employees\" Getting employees list. \"get.group_employees\" Getting a list of employees groups. \"update.employee_positions\" Updating employees positions. \"update.employees\" Creating employee. \"update.group_employees\" Deleting employee group. \"update.group_employees_numbers\" Updating and priority and availability of an employee's phone number in an employees group.","title":"Employees"},{"location":"employees/#list-of-available-methods","text":"Method Description \"create.employee_positions\" Creating employees positions. \"create.employees\" Creating employees. \"create.group_employees\" Creating groups of employees. \"delete.employee_positions\" Deleting employees positionst. \"delete.employees\" Deleting an employee. \"delete.group_employees\" GDeleting groups of employees. \"get.employee_positions\" Getting the list of employees positions. \"get.employees\" Getting employees list. \"get.group_employees\" Getting a list of employees groups. \"update.employee_positions\" Updating employees positions. \"update.employees\" Creating employee. \"update.group_employees\" Deleting employee group. \"update.group_employees_numbers\" Updating and priority and availability of an employee's phone number in an employees group.","title":"List of available methods"},{"location":"persons/","text":"List of available methods Persons Method Description \"getobj.person_for_visitor\" Getting person_id by visitor_id. \"get.person_visitors\" Getting all visitors with their contact information by person_id.","title":"Persons"},{"location":"persons/#list-of-available-methods","text":"","title":"List of available methods"},{"location":"persons/#persons","text":"Method Description \"getobj.person_for_visitor\" Getting person_id by visitor_id. \"get.person_visitors\" Getting all visitors with their contact information by person_id.","title":"Persons"},{"location":"reports/","text":"Maximum report upload period is 90 days List of available methods Method Description \"campaign.daily_stat\" Getting advertising campaign daily statistics. \"get.call_legs_report\" Getting a list of CDR for call session. \"get.calls_report\" Getting call session reports \"List of queries\" -> \"Calls\". \"get.chat_messages_report\" Getting all messages from a chat. \"get.chats_report\" Getting information about chats. \"get.communications_report\" Getting a list of all communications. \"get.financial_call_legs_report\" Getting detailed reports about charge-off history on all the call sessions legs. \"get.goals_report\" Getting a list of achieved goals. \"get.offline_messages_report\" Getting information about offline messages. \"get.visitor_sessions_report\" Getting information about visitors sessions.","title":"Reports"},{"location":"reports/#list-of-available-methods","text":"Method Description \"campaign.daily_stat\" Getting advertising campaign daily statistics. \"get.call_legs_report\" Getting a list of CDR for call session. \"get.calls_report\" Getting call session reports \"List of queries\" -> \"Calls\". \"get.chat_messages_report\" Getting all messages from a chat. \"get.chats_report\" Getting information about chats. \"get.communications_report\" Getting a list of all communications. \"get.financial_call_legs_report\" Getting detailed reports about charge-off history on all the call sessions legs. \"get.goals_report\" Getting a list of achieved goals. \"get.offline_messages_report\" Getting information about offline messages. \"get.visitor_sessions_report\" Getting information about visitors sessions.","title":"List of available methods"},{"location":"scenarios/","text":"List of available methods Method Description \"get.scenarios\" Getting a list of scenarios.","title":"Scenarios"},{"location":"scenarios/#list-of-available-methods","text":"Method Description \"get.scenarios\" Getting a list of scenarios.","title":"List of available methods"},{"location":"schedules/","text":"List of available methods Method Description \"create.schedules\" Creating activity schedules. \"delete_schedules\" Deleting activity schedules. \"get.schedules\" Getting a list of activity schedules. \"update.schedules\" Updating activity schedules.","title":"Schedules"},{"location":"schedules/#list-of-available-methods","text":"Method Description \"create.schedules\" Creating activity schedules. \"delete_schedules\" Deleting activity schedules. \"get.schedules\" Getting a list of activity schedules. \"update.schedules\" Updating activity schedules.","title":"List of available methods"},{"location":"sip/","text":"List of available methods Method Description \"create_sip_lines\" Creating SIP-lines. \"delete.sip_lines\" Deleting a SIP-line. \"get.sip_line_virtual_numbers\" Getting a list of virtual numbers that can be used when setting a SIP-line. \"get.sip_lines\" Getting a list of SIP-lines. \"update.sip_line_password\" Generating a new password for a SIP-line. \"update.sip_lines\" Updating a SIP-line.","title":"SIP-lines"},{"location":"sip/#list-of-available-methods","text":"Method Description \"create_sip_lines\" Creating SIP-lines. \"delete.sip_lines\" Deleting a SIP-line. \"get.sip_line_virtual_numbers\" Getting a list of virtual numbers that can be used when setting a SIP-line. \"get.sip_lines\" Getting a list of SIP-lines. \"update.sip_line_password\" Generating a new password for a SIP-line. \"update.sip_lines\" Updating a SIP-line.","title":"List of available methods"},{"location":"sites/","text":"List of available methods Method Description \"create.sites\" Creating websites. \"delete.sites\" Deleting websites. \"update.sites\" Updating websites . \"get.sites\" Getting list of websites. \"create.site_blocks\" Creating numbers blocks for a website. \"get.site_blocks\" Getting a list of numbers blocks for a website. \"delete.site_blocks\" Creating numbers blocks from a website. \"update.site_blocks\" Updating numbers blocks for a website.","title":"Sites"},{"location":"sites/#list-of-available-methods","text":"Method Description \"create.sites\" Creating websites. \"delete.sites\" Deleting websites. \"update.sites\" Updating websites . \"get.sites\" Getting list of websites. \"create.site_blocks\" Creating numbers blocks for a website. \"get.site_blocks\" Getting a list of numbers blocks for a website. \"delete.site_blocks\" Creating numbers blocks from a website. \"update.site_blocks\" Updating numbers blocks for a website.","title":"List of available methods"},{"location":"tags/","text":"List of available methods Method Description \"create.tags\" Creating tags. \"delete.tags\" Deleting tags. \"get_tags\" Getting a list of tags. \"set.tag_communications\" Setting communications tags. \"set.tag_sales\" Setting sales tags for communications. \"unset.tag_communications\" Unsetting communications tags (is also used to unset sales tags). \"update.tags\" Updating tags.","title":"Tags"},{"location":"tags/#list-of-available-methods","text":"Method Description \"create.tags\" Creating tags. \"delete.tags\" Deleting tags. \"get_tags\" Getting a list of tags. \"set.tag_communications\" Setting communications tags. \"set.tag_sales\" Setting sales tags for communications. \"unset.tag_communications\" Unsetting communications tags (is also used to unset sales tags). \"update.tags\" Updating tags.","title":"List of available methods"},{"location":"user_media/","text":"List of available methods Method Description \"get.media_files\" Getting media files.","title":"Media"},{"location":"user_media/#list-of-available-methods","text":"Method Description \"get.media_files\" Getting media files.","title":"List of available methods"},{"location":"vn/","text":"List of available methods Method Description \"get.virtual_numbers\" Getting a list of connected virtual numbers. \"get.available_virtual_numbers\" Getting a list of virtual available for connection. \"get.virtual_number_groups\" Getting a list of virtual number groups. \"enable.virtual_numbers\" Connecting virtual numbers. \"disable.virtual_numbers\" Disabling virtual numbers.","title":"Virtual Numbers"},{"location":"vn/#list-of-available-methods","text":"Method Description \"get.virtual_numbers\" Getting a list of connected virtual numbers. \"get.available_virtual_numbers\" Getting a list of virtual available for connection. \"get.virtual_number_groups\" Getting a list of virtual number groups. \"enable.virtual_numbers\" Connecting virtual numbers. \"disable.virtual_numbers\" Disabling virtual numbers.","title":"List of available methods"},{"location":"account/get_account/","text":"Getting information about account Method get.account Description Getting information about account Who has access Client Parameters of a request Title Type Required Description access_token string yes Authentication session key Parameters of a reply Title Type Valid value Filtering Sorting Description app_id number Account unique ID name string Client's name timezone string Format IANA zoneinfo Current time zone of an account JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.account\", \"params\":{ \"access_token\":\"string\" } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"meta_data\": {}, \"data\": [ { \"app_id\": \"number\", \"name\": \"string\", \"timezone\": \"string\" } ] } } List of returning errors Refer to section \"List of errors in methods with the verb get\"","title":"Getting information about account"},{"location":"account/get_account/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key","title":"Parameters of a request"},{"location":"account/get_account/#parameters-of-a-reply","text":"Title Type Valid value Filtering Sorting Description app_id number Account unique ID name string Client's name timezone string Format IANA zoneinfo Current time zone of an account","title":"Parameters of a reply"},{"location":"account/get_account/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.account\", \"params\":{ \"access_token\":\"string\" } }","title":"JSON request structure"},{"location":"account/get_account/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"meta_data\": {}, \"data\": [ { \"app_id\": \"number\", \"name\": \"string\", \"timezone\": \"string\" } ] } }","title":"JSON reply structure"},{"location":"account/get_account/#list-of-returning-errors","text":"Refer to section \"List of errors in methods with the verb get\"","title":"List of returning errors"},{"location":"authentication/login_user/","text":"Login Method login.user Description Login and receiving authentication session key Who has access Partner, Customer Parameters of a request Title Type Required Valid value Description login string yes User login password string yes User password Parameters of a reply Title Type Required Description access_token string yes Authentication session key expire_at number yes Timestamp when a given token is not valid anymore app_id number yes Customer unique ID Lifespan of an authentication session key after calling the method \"login.user\" is 1 hour. After that you need to request an authentication session key again, i.e. call the method \"login.user\" . To make a request to API, you can use a permanent authentication key that you can access in your client area at a user's level. JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"login.user\", \"params\":{ \"login\":\"string\", \"password\":\"string\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"data\":{ \"access_token\":\"string\", \"expire\":\"number\", \"app_id\":\"number\" } } }","title":"Login user"},{"location":"authentication/login_user/#login","text":"Method login.user Description Login and receiving authentication session key Who has access Partner, Customer","title":"Login"},{"location":"authentication/login_user/#parameters-of-a-request","text":"Title Type Required Valid value Description login string yes User login password string yes User password","title":"Parameters of a request"},{"location":"authentication/login_user/#parameters-of-a-reply","text":"Title Type Required Description access_token string yes Authentication session key expire_at number yes Timestamp when a given token is not valid anymore app_id number yes Customer unique ID Lifespan of an authentication session key after calling the method \"login.user\" is 1 hour. After that you need to request an authentication session key again, i.e. call the method \"login.user\" . To make a request to API, you can use a permanent authentication key that you can access in your client area at a user's level.","title":"Parameters of a reply"},{"location":"authentication/login_user/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"login.user\", \"params\":{ \"login\":\"string\", \"password\":\"string\" } }","title":"JSON request structure"},{"location":"authentication/login_user/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"data\":{ \"access_token\":\"string\", \"expire\":\"number\", \"app_id\":\"number\" } } }","title":"JSON reply structure"},{"location":"authentication/logout_user/","text":"Logout Method logout.user Description Logout and deleting an authentication session key Who has access Partner, Customer Method parameters Name Type Required Description access_token string yes Authentication session key JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"logout.user\", \"params\":{ \"access_token\":\"string\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"data\":{ } } }","title":"Logout user"},{"location":"authentication/logout_user/#logout","text":"Method logout.user Description Logout and deleting an authentication session key Who has access Partner, Customer","title":"Logout"},{"location":"authentication/logout_user/#method-parameters","text":"Name Type Required Description access_token string yes Authentication session key","title":"Method parameters"},{"location":"authentication/logout_user/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"logout.user\", \"params\":{ \"access_token\":\"string\" } }","title":"JSON request structure"},{"location":"authentication/logout_user/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"data\":{ } } }","title":"JSON reply structure"},{"location":"campaign/create_campaigns/","text":"Creating campaigns Method create.campaigns Description Creating advertising campaigns. Allows creating 'basic' campaigns only. Who has access Agent, Customer You can manage the number of campaigns available to you depending on your service plan Parameter of a request Title Type Required Valid value Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is required for an agent. To a get a list of customer users you need to use the method \"get.customer_users\" name string yes Campaign name description string no Maximum 255 symbols Descriprion of advertising campaign status enum no active inactive Status of advertising campaign site_id number yes Unique ID of a website campaign_conditions object no Conditions of advertising campaign Settings to connect a number to a website's block site_blocks array no Settings to connect a number to a website's block If blocks of numbers on a website are not indicated, they are can't be set, i.e. are not considered set If site_blocks is given alongside with status = inactive , the error `invalid_parameters_combination` will be returned site_block_id number yes Unique block of numbers ID phone_number_id number yes Unique ID of a virtual number. To get a list of available virtual numbers, you need to use the method get.campaign_available_phone_numbers If an id is not returned via the get.campaign_available_phone_numbers method, an error with mnemonics \"entity_not_found\" will be returned. Number with type = call_tracking can only be used in a single advertising campaign. If a number is already in use in a campaign, the error `already_in_use` will return. redirection_phone_number_id number no Unique ID of a derirection number. A derirection number can only be used in case the parameter phone_number_id has type `call_tracking`. You can get a list of available numbers by using the method get.campaign_available_redirection_phone_numbers . Is required if the parameter phone_number_id has virtual number with the type \"call_tracking\". If it's not the case, an error with mnemonics \"required_parameter_missed\" will return. If the parameter is given, and phone_number_id has a virtual number with the type \"va\", the error `invalid_parameters_combination` will return. A parameter can have only redirection numbers returned via the method get.campaign_available_redirection_phone_numbers . If it's not the case, an error with mnemonics \"invalid_parameter_value\" will return Is availiable if the component \"va\" is activated. If the parameter is filled and you don't have the component \"va\", an error with mnemonics \"parameter_component_disabled\" returns dynamic_call_tracking_enabled boolean no true, false Dynamic call tracking enabled. You can only add vacant numbers without the flag \"Use in hosted PBX\" to the dynamic call tracking pool. By default, you can do this in the same code as a campaign's block number. If you don't have enough numbers, they will be automatically purchased. By default, calls to numbers from the dynamic call tracking pool will be processed according to the rules of processing the calls to a block number of an advertising campaign. Can have value \"true\", if the parameter phone_number_id = va | call_tracking . If it's not the case, an error with mnemonics \"invalid_parameters_combination\" will return If you use this parameter, but you don't have the component dynamic_call_tracking\", an error with mnemonics \"parameter_component_disabled\" will return If at the same time the parameter status = inactive is given, the error `invalid_parameters_combination` will return If the parameter dynamic_call_tracking_enabled has value \"true\", the parameter dynamic_call_tracking must be filled in. Otherwise th error \"invalid_parameters_combination\" will return. Dynamic call tracking dynamic_call_tracking object no Setting dynamic call tracking. Must be filled in, if the parameter dynamic_call_tracking_enabled in one block at least has value \"true\". Otherwise an error with mnemonics \"invalid_parameters_combination\" will return If you use this parameter but don't have the component \"dynamic_call_tracking\", an error with mnemonics \"parameter_component_disabled\" will return reservation_time enum no 5m 10m 15m 20m 30m 1h 2h 4h 8h 1d 1w Default value is \"15m\". Time period, for which a number will be appointed to a website visitor. As the time is up, the number gets appointed to another visitor (or, if there are some vacant call tracking numbers left, it stays the same). count_virtual_numbers number yes minimum value 1 Quantity of numbers required for call tracking to work in a block. The numbers will be purchased. count_visits number yes minimum value is 1 A number of visits from a campaign per day Setting group conditions group_conditions array yes Maximum number of groups is 30 Group of campaign's conditions Conditions settings conditions array yes Maximum number of conditions per group is 50 Advertising campaign's conditions in a group of conditions type enum yes include exclude Advertising campaign's conditions in a group of conditions include - includes exclude - excludes campaign_parameter enum yes For a list of valid values and possible operators refer to a tab \"List of parameters and their operators\" value string yes Value. Some of campaign_parameter may have their own list of valid values. Refer to the tab \"List of parameters and their operators\" operator enum yes =, sub, ~ Operator in a condition. Depends on the current parameter campaign_parameter . Refer to \"List of parameters and their operators\" \"=\" - closely matches \"sub\" - includes \"~\" - regular expression Parameters of a reply Title Type Required Description id number yes Unique ID of an advertising campaign JSON request structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"create.campaigns\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"description\": \"string\", \"name\": \"string\", \"status\": \"enum\", \"site_id\": \"number\", \"site_blocks\": [ { \"site_block_id\": \"number\", \"phone_number_id\": \"number\", \"redirection_phone_number_id\": \"number\", \"dynamic_call_tracking_enabled\": \"boolean\" } ], \"dynamic_call_tracking\": { \"reservation_time\": \"enum\", \"count_virtual_numbers\": \"number\", \"count_visits\": \"number\" }, \"campaign_conditions\": { \"group_conditions\": [ { \"conditions\": [ { \"type\": \"enum\", \"campaign_parameter\": \"enum\", \"operator\": \"enum\", \"value\": \"string\" } ] } ] } } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"data\": { \"id\": \"number\" }, \"metadata\": { } } } List of returning errors Refer to the section \"List of errors for the methods with the verb create\"","title":"Create campaigns"},{"location":"campaign/create_campaigns/#creating-campaigns","text":"Method create.campaigns Description Creating advertising campaigns. Allows creating 'basic' campaigns only. Who has access Agent, Customer You can manage the number of campaigns available to you depending on your service plan","title":"Creating campaigns"},{"location":"campaign/create_campaigns/#parameter-of-a-request","text":"Title Type Required Valid value Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is required for an agent. To a get a list of customer users you need to use the method \"get.customer_users\" name string yes Campaign name description string no Maximum 255 symbols Descriprion of advertising campaign status enum no active inactive Status of advertising campaign site_id number yes Unique ID of a website campaign_conditions object no Conditions of advertising campaign Settings to connect a number to a website's block site_blocks array no Settings to connect a number to a website's block If blocks of numbers on a website are not indicated, they are can't be set, i.e. are not considered set If site_blocks is given alongside with status = inactive , the error `invalid_parameters_combination` will be returned site_block_id number yes Unique block of numbers ID phone_number_id number yes Unique ID of a virtual number. To get a list of available virtual numbers, you need to use the method get.campaign_available_phone_numbers If an id is not returned via the get.campaign_available_phone_numbers method, an error with mnemonics \"entity_not_found\" will be returned. Number with type = call_tracking can only be used in a single advertising campaign. If a number is already in use in a campaign, the error `already_in_use` will return. redirection_phone_number_id number no Unique ID of a derirection number. A derirection number can only be used in case the parameter phone_number_id has type `call_tracking`. You can get a list of available numbers by using the method get.campaign_available_redirection_phone_numbers . Is required if the parameter phone_number_id has virtual number with the type \"call_tracking\". If it's not the case, an error with mnemonics \"required_parameter_missed\" will return. If the parameter is given, and phone_number_id has a virtual number with the type \"va\", the error `invalid_parameters_combination` will return. A parameter can have only redirection numbers returned via the method get.campaign_available_redirection_phone_numbers . If it's not the case, an error with mnemonics \"invalid_parameter_value\" will return Is availiable if the component \"va\" is activated. If the parameter is filled and you don't have the component \"va\", an error with mnemonics \"parameter_component_disabled\" returns dynamic_call_tracking_enabled boolean no true, false Dynamic call tracking enabled. You can only add vacant numbers without the flag \"Use in hosted PBX\" to the dynamic call tracking pool. By default, you can do this in the same code as a campaign's block number. If you don't have enough numbers, they will be automatically purchased. By default, calls to numbers from the dynamic call tracking pool will be processed according to the rules of processing the calls to a block number of an advertising campaign. Can have value \"true\", if the parameter phone_number_id = va | call_tracking . If it's not the case, an error with mnemonics \"invalid_parameters_combination\" will return If you use this parameter, but you don't have the component dynamic_call_tracking\", an error with mnemonics \"parameter_component_disabled\" will return If at the same time the parameter status = inactive is given, the error `invalid_parameters_combination` will return If the parameter dynamic_call_tracking_enabled has value \"true\", the parameter dynamic_call_tracking must be filled in. Otherwise th error \"invalid_parameters_combination\" will return. Dynamic call tracking dynamic_call_tracking object no Setting dynamic call tracking. Must be filled in, if the parameter dynamic_call_tracking_enabled in one block at least has value \"true\". Otherwise an error with mnemonics \"invalid_parameters_combination\" will return If you use this parameter but don't have the component \"dynamic_call_tracking\", an error with mnemonics \"parameter_component_disabled\" will return reservation_time enum no 5m 10m 15m 20m 30m 1h 2h 4h 8h 1d 1w Default value is \"15m\". Time period, for which a number will be appointed to a website visitor. As the time is up, the number gets appointed to another visitor (or, if there are some vacant call tracking numbers left, it stays the same). count_virtual_numbers number yes minimum value 1 Quantity of numbers required for call tracking to work in a block. The numbers will be purchased. count_visits number yes minimum value is 1 A number of visits from a campaign per day Setting group conditions group_conditions array yes Maximum number of groups is 30 Group of campaign's conditions Conditions settings conditions array yes Maximum number of conditions per group is 50 Advertising campaign's conditions in a group of conditions type enum yes include exclude Advertising campaign's conditions in a group of conditions include - includes exclude - excludes campaign_parameter enum yes For a list of valid values and possible operators refer to a tab \"List of parameters and their operators\" value string yes Value. Some of campaign_parameter may have their own list of valid values. Refer to the tab \"List of parameters and their operators\" operator enum yes =, sub, ~ Operator in a condition. Depends on the current parameter campaign_parameter . Refer to \"List of parameters and their operators\" \"=\" - closely matches \"sub\" - includes \"~\" - regular expression","title":"Parameter of a request"},{"location":"campaign/create_campaigns/#parameters-of-a-reply","text":"Title Type Required Description id number yes Unique ID of an advertising campaign","title":"Parameters of a reply"},{"location":"campaign/create_campaigns/#json-request-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"create.campaigns\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"description\": \"string\", \"name\": \"string\", \"status\": \"enum\", \"site_id\": \"number\", \"site_blocks\": [ { \"site_block_id\": \"number\", \"phone_number_id\": \"number\", \"redirection_phone_number_id\": \"number\", \"dynamic_call_tracking_enabled\": \"boolean\" } ], \"dynamic_call_tracking\": { \"reservation_time\": \"enum\", \"count_virtual_numbers\": \"number\", \"count_visits\": \"number\" }, \"campaign_conditions\": { \"group_conditions\": [ { \"conditions\": [ { \"type\": \"enum\", \"campaign_parameter\": \"enum\", \"operator\": \"enum\", \"value\": \"string\" } ] } ] } } }","title":"JSON request structure"},{"location":"campaign/create_campaigns/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"data\": { \"id\": \"number\" }, \"metadata\": { } } }","title":"JSON reply structure"},{"location":"campaign/create_campaigns/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb create\"","title":"List of returning errors"},{"location":"campaign/delete_campaigns/","text":"Deleting advertising campaigns Method delete.campaigns Description Deleting advertising campaigns Who has access Agent , Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key id number yes Unique ID of an advertising campaign user_id number no Unique user ID of a customer or an agent that makes a request. Is mandatory for agent To get a list of a customer's users you need to use the method \"get.customer_users\" It is forbidden to delete system advertising campaigns id = -1 neither the integrated ones type = integrated . An error with mnemonics \"forbidden\" will return. JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"delete.campaigns\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\" } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"data\": { }, \"metadata\": { } } } List of returning errors Refer to \"List of errors for methods with the verb delete\"","title":"Delete campaigns"},{"location":"campaign/delete_campaigns/#deleting-advertising-campaigns","text":"Method delete.campaigns Description Deleting advertising campaigns Who has access Agent , Customer","title":"Deleting advertising campaigns"},{"location":"campaign/delete_campaigns/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key id number yes Unique ID of an advertising campaign user_id number no Unique user ID of a customer or an agent that makes a request. Is mandatory for agent To get a list of a customer's users you need to use the method \"get.customer_users\" It is forbidden to delete system advertising campaigns id = -1 neither the integrated ones type = integrated . An error with mnemonics \"forbidden\" will return.","title":"Parameters of a request"},{"location":"campaign/delete_campaigns/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"delete.campaigns\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\" } }","title":"JSON request structure"},{"location":"campaign/delete_campaigns/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"data\": { }, \"metadata\": { } } }","title":"JSON reply structure"},{"location":"campaign/delete_campaigns/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb delete\"","title":"List of returning errors"},{"location":"campaign/get_campaign_available_phone_numbers/","text":"Getting a list of virtual numbers available for advertising campaigns adjustments Method get.campaign_available_phone_numbers Description Getting a list of all virtual numbers available to adjust the parameter phone_number_id when creating/updating a campaign Who has access Agent, Customer Examples of a request Title Type Required Description access_token string yes Authentication session key user_id number no Unique ID of an advertising campaign user_id number no Unique user ID of a customer or an agent that makes a request. Is mandatory for agent To get a list of a customer's users you need to use the method \"get.customer_users\" Number of returning entries . Refer to \"Page-oriented output\" offset number no Offset, that defines: entries from which number to return, \"limit\" of entries. Default value is \"0\". Refer to \"Page-oriented output\" filter object no Refer to \"Filtering criteria\" fields array no Refer to \"Providing returning data\" sort array no Refer to \"Data sorting\" Parameters of reply Title Type Valid value Filtering Sorting Description id number yes Unique ID of a virtual number. This ID should be used in the parameter phone_number_id , method create.campaign or update.campaign phone_number string yes Virtual number type enum va call_tracking user yes Type of a virtual number va - hosted PBX number call_tracking - Analytics number user - user number JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.campaign_available_phone_numbers\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"metadata\": { }, \"data\": [ { \"id\": \"number\", \"phone_number\": \"string\", \"type\": \"enum\" } ] } } List of returning errors Refer to \"List of errors for methods with the verb get\"","title":"Get campaign available phone numbers"},{"location":"campaign/get_campaign_available_phone_numbers/#getting-a-list-of-virtual-numbers-available-for-advertising-campaigns-adjustments","text":"Method get.campaign_available_phone_numbers Description Getting a list of all virtual numbers available to adjust the parameter phone_number_id when creating/updating a campaign Who has access Agent, Customer","title":"Getting a list of virtual numbers available for advertising campaigns adjustments"},{"location":"campaign/get_campaign_available_phone_numbers/#examples-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Unique ID of an advertising campaign user_id number no Unique user ID of a customer or an agent that makes a request. Is mandatory for agent To get a list of a customer's users you need to use the method \"get.customer_users\" Number of returning entries . Refer to \"Page-oriented output\" offset number no Offset, that defines: entries from which number to return, \"limit\" of entries. Default value is \"0\". Refer to \"Page-oriented output\" filter object no Refer to \"Filtering criteria\" fields array no Refer to \"Providing returning data\" sort array no Refer to \"Data sorting\"","title":"Examples of a request"},{"location":"campaign/get_campaign_available_phone_numbers/#parameters-of-reply","text":"Title Type Valid value Filtering Sorting Description id number yes Unique ID of a virtual number. This ID should be used in the parameter phone_number_id , method create.campaign or update.campaign phone_number string yes Virtual number type enum va call_tracking user yes Type of a virtual number va - hosted PBX number call_tracking - Analytics number user - user number","title":"Parameters of reply"},{"location":"campaign/get_campaign_available_phone_numbers/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.campaign_available_phone_numbers\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"campaign/get_campaign_available_phone_numbers/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"metadata\": { }, \"data\": [ { \"id\": \"number\", \"phone_number\": \"string\", \"type\": \"enum\" } ] } }","title":"JSON reply structure"},{"location":"campaign/get_campaign_available_phone_numbers/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb get\"","title":"List of returning errors"},{"location":"campaign/get_campaign_available_redirection_phone_numbers/","text":"Getting a list of redirection phone numbers available for campaign's adjustments Method get.campaign_available_redirection_phone_numbers Description Getting a list of redirection phone numbers available for setting the parameter redirection_phone_number_id when creating/updating campaigns (only hosted PBX numbers). Who has access Agent, Customer Parameters of request Title Type Required Description access_token string yes Authentication session key user_id number no Unique ID of an advertising campaign user_id number no Unique user ID of a customer or an agent that makes a request. Is mandatory for agent To get a list of a customer's users you need to use the method \"get.customer_users\" Number of returning entries . Refer to \"Page-oriented output\" offset number no Offset, that defines: entries from which number to return, \"limit\" of entries. Default value is \"0\". Refer to \"Page-oriented output\" filter object no Refer to \"Filtering criteria\" fields array no Refer to \"Providing returning data\" sort array no Refer to \"Data sorting\" Parameters of a reply Title Type Valid value Filtering Sorting Description id number yes Unique ID of a redirection phone number. This ID should be used in the parameter redirection_phone_number_id phone_number string yes Redirection phone number JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.campaign_available_redirection_phone_numbers\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"metadata\": { }, \"data\": [ { \"id\": \"number\", \"phone_number\": \"string\" } ] } } List of returning errors Refer to \"List of errors for methods with the verb get\"","title":"Get campaign available redirection phone numbers"},{"location":"campaign/get_campaign_available_redirection_phone_numbers/#getting-a-list-of-redirection-phone-numbers-available-for-campaigns-adjustments","text":"Method get.campaign_available_redirection_phone_numbers Description Getting a list of redirection phone numbers available for setting the parameter redirection_phone_number_id when creating/updating campaigns (only hosted PBX numbers). Who has access Agent, Customer","title":"Getting a list of redirection phone numbers available for campaign's adjustments"},{"location":"campaign/get_campaign_available_redirection_phone_numbers/#parameters-of-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Unique ID of an advertising campaign user_id number no Unique user ID of a customer or an agent that makes a request. Is mandatory for agent To get a list of a customer's users you need to use the method \"get.customer_users\" Number of returning entries . Refer to \"Page-oriented output\" offset number no Offset, that defines: entries from which number to return, \"limit\" of entries. Default value is \"0\". Refer to \"Page-oriented output\" filter object no Refer to \"Filtering criteria\" fields array no Refer to \"Providing returning data\" sort array no Refer to \"Data sorting\"","title":"Parameters of request"},{"location":"campaign/get_campaign_available_redirection_phone_numbers/#parameters-of-a-reply","text":"Title Type Valid value Filtering Sorting Description id number yes Unique ID of a redirection phone number. This ID should be used in the parameter redirection_phone_number_id phone_number string yes Redirection phone number","title":"Parameters of a reply"},{"location":"campaign/get_campaign_available_redirection_phone_numbers/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.campaign_available_redirection_phone_numbers\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"campaign/get_campaign_available_redirection_phone_numbers/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"metadata\": { }, \"data\": [ { \"id\": \"number\", \"phone_number\": \"string\" } ] } }","title":"JSON reply structure"},{"location":"campaign/get_campaign_available_redirection_phone_numbers/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb get\"","title":"List of returning errors"},{"location":"campaign/get_campaign_parameter_weights/","text":"Getting advertising campaign parameter weights Method get.campaign_parameter_weights Description Getting advertising campaign parameter weights. System of weights is needed to specify which campaign should be linked to a visit. If a visit is linked to several campaigns, the system will choose a campaign with the highest value as according to the weights scale. Who has access Agent, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is required for an agent. To a get a list of customer users you need to use the method \"get.customer_user\" limit number no Number of returning entries. Refer to \"Pagination\" offset number no Offset, that defines: entries from which number to return, \"limit\" of entries. Default value is \"0\". Refer to \"Page-oriented output\" filter object no Refer to \"Filtering criteria\" fields array no Refer to \"Providing returning data\" sort array no Refer to \"Data sorting\" Parameters of a reply Title Type Valid value Filtering Sorting Description site_id number yes yes Unique website ID site_domain_name string yes Website address without protocol - \"http://\" or \"https://\" entrance_page number from 0 to 100 Default value is \"10\". Entrance page referrer_domain number from 0 to 100 Default value is \"20\". Referrer domain search_engine number from 0 to 100 Default value is \"20\". Search engine search_query number from 0 to 100 Default value is \"40\". Search query engine number from 0 to 100 Default value is \"25\". Advertising engine referrer number from 0 to 100 Default value is \"30\". Referrer channel number from 0 to 100 Default value is \"15\". Channel location number from 0 to 100 Default value is \"5\". Value for weight of the following parameters: city, region, country utm_tags number from 0 ro 100 Default value is \"60\". Value for weight of the following parameters: utm_source, utm_medium, utm_campaign, utm_term, utm_content os_tags number from 0 to 100 Default value is \"50\". Value for weight of the following parameters: openstat_service, openstat_campaign, openstat_source, openstat_ad other_tags number from 0 to 100 Default value is \"60\". Value for weight of the following parameters: ef_id, yclid, gclid, ymclid JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.campaign_parameter_weights\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"metadata\": { }, \"data\": [ { \"site_id\": \"number\", \"site_domain_name\": \"string\", \"entrance_page\": \"number\", \"referrer_domain\": \"number\", \"search_engine\": \"number\", \"search_query\": \"number\", \"engine\": \"number\", \"referrer\": \"number\", \"channel\": \"number\", \"location\": \"number\", \"utm_tags\": \"number\", \"os_tags\": \"number\", \"other_tags\": \"number\" } ] } } List of returning errors Refer to \"List of errors common for methods with the verb get\"","title":"Get campaign parameter weights"},{"location":"campaign/get_campaign_parameter_weights/#getting-advertising-campaign-parameter-weights","text":"Method get.campaign_parameter_weights Description Getting advertising campaign parameter weights. System of weights is needed to specify which campaign should be linked to a visit. If a visit is linked to several campaigns, the system will choose a campaign with the highest value as according to the weights scale. Who has access Agent, Customer","title":"Getting advertising campaign parameter weights"},{"location":"campaign/get_campaign_parameter_weights/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is required for an agent. To a get a list of customer users you need to use the method \"get.customer_user\" limit number no Number of returning entries. Refer to \"Pagination\" offset number no Offset, that defines: entries from which number to return, \"limit\" of entries. Default value is \"0\". Refer to \"Page-oriented output\" filter object no Refer to \"Filtering criteria\" fields array no Refer to \"Providing returning data\" sort array no Refer to \"Data sorting\"","title":"Parameters of a request"},{"location":"campaign/get_campaign_parameter_weights/#parameters-of-a-reply","text":"Title Type Valid value Filtering Sorting Description site_id number yes yes Unique website ID site_domain_name string yes Website address without protocol - \"http://\" or \"https://\" entrance_page number from 0 to 100 Default value is \"10\". Entrance page referrer_domain number from 0 to 100 Default value is \"20\". Referrer domain search_engine number from 0 to 100 Default value is \"20\". Search engine search_query number from 0 to 100 Default value is \"40\". Search query engine number from 0 to 100 Default value is \"25\". Advertising engine referrer number from 0 to 100 Default value is \"30\". Referrer channel number from 0 to 100 Default value is \"15\". Channel location number from 0 to 100 Default value is \"5\". Value for weight of the following parameters: city, region, country utm_tags number from 0 ro 100 Default value is \"60\". Value for weight of the following parameters: utm_source, utm_medium, utm_campaign, utm_term, utm_content os_tags number from 0 to 100 Default value is \"50\". Value for weight of the following parameters: openstat_service, openstat_campaign, openstat_source, openstat_ad other_tags number from 0 to 100 Default value is \"60\". Value for weight of the following parameters: ef_id, yclid, gclid, ymclid","title":"Parameters of a reply"},{"location":"campaign/get_campaign_parameter_weights/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.campaign_parameter_weights\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"campaign/get_campaign_parameter_weights/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"metadata\": { }, \"data\": [ { \"site_id\": \"number\", \"site_domain_name\": \"string\", \"entrance_page\": \"number\", \"referrer_domain\": \"number\", \"search_engine\": \"number\", \"search_query\": \"number\", \"engine\": \"number\", \"referrer\": \"number\", \"channel\": \"number\", \"location\": \"number\", \"utm_tags\": \"number\", \"os_tags\": \"number\", \"other_tags\": \"number\" } ] } }","title":"JSON reply structure"},{"location":"campaign/get_campaign_parameter_weights/#list-of-returning-errors","text":"Refer to \"List of errors common for methods with the verb get\"","title":"List of returning errors"},{"location":"campaign/get_campaigns/","text":"Getting a list of advertising campaigns Method get.campaigns Description Getting a list of all the advertising campaigns - integrated, basic and system Who gets Agent, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent that makes a request. Is mandatory for agent To get a list of a customer's users you need to use the method \"get.customer_users\" limit number no Number of returning entries . Refer to \"Page-oriented output\" offset number no Offset, that defines: entries from which number to return, \"limit\" of entries. Default value is \"0\". Refer to \"Page-oriented output\" filter object no Refer to \"Filtering criteria\" fields array no Refer to \"Providing returning data\" sort array no Refer to \"Data sorting\" Parameters of a reply Title Type Valid value Filtering Sorting Description id number yes Unique ID of a campaign name string yes yes Name of a campaign description string 255 symbols max Description of a campaign status enum active inactive yes Status of a campaign creation_time iso8601 YYYY-MM-DD hh:mm:ss yes yes Date and time of a campaign's implementation campaign_conditions object no Conditions of a campaign. Is absent if the field type = integrated | system engine enum yandex.direct google.adwords yes yes Engine for integrated campaigns type enum basic system integrated yes yes Types of campaigns. system - system advertising campaign \"Users without advertising campaigns\". Can't be deleted integrated - integrated advertising campaign. Can't be deleted basic - basic advertising campaign, created in CallGear costs number yes yes Advertising campaign costs cost_ratio number minimum value 1 Default value is 1. Coefficient, that influences the parameter `costs` cost_ratio_operator enum wo_changes multiply divide Default value is `wo_changes`. Operator, that is used to calculate `costs` with consideration to `cost_ratio` Website site_id number yes yes Website unique ID site_domain_name string yes Website's internet address. Without protocol - \"http://\" or \"https://\" Settings to associate a number to a website's block site_blocks array yes Settings to associate a number to a website's block site_block_id number Unique ID of a block of numbers site_block_name string Name of a block of numbers phone_number_type enum user va call_tracking Virtual number type (refer to the method get.campaign_available_phone_numbers ) for the parameter phone_number_id : user - user va - Hosted PBX number call_tracking - Analytics number phone_number_id number Unique ID of a virtual number depending on the parameter phone_number_type . To get a list of available virtual numbers, you need to use the method get.campaign_available_phone_numbers phone_number string Number that complies with the parameter phone_number_id redirection_phone_number_id number Redirection number, that is used in case a number's type from the parameter phone_number_id has value call_tracking . To get a list of available redirection numbers you need to use the method get.campaign_available_redirection_phone_numbers redirection_phone_number string Number that complies with the parameter redirection_phone_number_id dynamic_call_tracking_enabled boolean true, false Dynamic call tracking. Can have value \"true\" if the parameter phone_number_type = va | call_tracking Dynamic call tracking dynamic_call_tracking object yes Dynamic call tracking settings. By default, calls from numbers, that are included in the dynamic call tracking pool, will be treated as according to the rules of processing calls to an advertising campaign block number. reservation_time enum 5m 10m 15m 20m 30m 1h 2h 4h 8h 1d 1w Default value is \"15m\". Time period, for which a number will be appointed to a website visitor. As the time is up, the number gets appointed to another visitor (or, if there are some vacant call tracking numbers left, it stays the same. count_virtual_numbers number minimum value 1 Quantity of numbers required for call tracking to work in a block. The numbers will be purchased. count_visits number minimum value 1 Number of visits from a campaign per day coverage_visitors number Percentage of website visitors, that will see a dynamic call tracking number Group conditions settings group_conditions array Group conditions of an advertising campaign Conditions settings conditions array Advertising campaign conditions in a group of conditions type enum include exclude Advertising campaign conditions in a group of conditions campaign_parameter enum For List of acceptable values and operators refer to the tab \"List of parameters and their operators\" value string Value for campaign_parameter . Some campaign_parameter can have their own list of acceptable values. Refer to the tab \"List of parameters and their operators\" operator enum =, sub, ~ Operator if \"=\" - closely matches \"sub\" - includes \"~\" - regular expression JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.campaigns\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"metadata\": { }, \"data\": [ { \"id\": \"number\", \"status\": \"enum\", \"creation_time\": \"iso8601\", \"description\": \"string\", \"site_id\": \"number\", \"site_domain_name\": \"string\", \"costs\": \"number\", \"cost_ratio\": \"number\", \"cost_ratio_operator\": \"enum\", \"engine\": \"enum\", \"type\": \"enum\", \"name\": \"string\", \"site_blocks\": [ { \"site_block_id\": \"number\", \"site_block_name\": \"string\", \"phone_number_type\": \"enum\", \"phone_number_id\": \"number\", \"phone_number\": \"string\", \"redirection_phone_number_id\": \"number\", \"redirection_phone_number\": \"string\", \"dynamic_call_tracking_enabled\": \"boolean\" } ], \"dynamic_call_tracking\": { \"reservation_time\": \"enum\", \"count_virtual_numbers\": \"number\", \"count_visits\": \"number\" }, \"campaign_conditions\": { \"group_conditions\": [ { \"conditions\": [ { \"type\": \"enum\", \"campaign_parameter\": \"enum\", \"operator\": \"enum\", \"value\": \"string\" } ] } ] } } ] } } List of returning errors Refer to \"List of errors for methods with the verb get\"","title":"Get campaigns"},{"location":"campaign/get_campaigns/#getting-a-list-of-advertising-campaigns","text":"Method get.campaigns Description Getting a list of all the advertising campaigns - integrated, basic and system Who gets Agent, Customer","title":"Getting a list of advertising campaigns"},{"location":"campaign/get_campaigns/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent that makes a request. Is mandatory for agent To get a list of a customer's users you need to use the method \"get.customer_users\" limit number no Number of returning entries . Refer to \"Page-oriented output\" offset number no Offset, that defines: entries from which number to return, \"limit\" of entries. Default value is \"0\". Refer to \"Page-oriented output\" filter object no Refer to \"Filtering criteria\" fields array no Refer to \"Providing returning data\" sort array no Refer to \"Data sorting\"","title":"Parameters of a request"},{"location":"campaign/get_campaigns/#parameters-of-a-reply","text":"Title Type Valid value Filtering Sorting Description id number yes Unique ID of a campaign name string yes yes Name of a campaign description string 255 symbols max Description of a campaign status enum active inactive yes Status of a campaign creation_time iso8601 YYYY-MM-DD hh:mm:ss yes yes Date and time of a campaign's implementation campaign_conditions object no Conditions of a campaign. Is absent if the field type = integrated | system engine enum yandex.direct google.adwords yes yes Engine for integrated campaigns type enum basic system integrated yes yes Types of campaigns. system - system advertising campaign \"Users without advertising campaigns\". Can't be deleted integrated - integrated advertising campaign. Can't be deleted basic - basic advertising campaign, created in CallGear costs number yes yes Advertising campaign costs cost_ratio number minimum value 1 Default value is 1. Coefficient, that influences the parameter `costs` cost_ratio_operator enum wo_changes multiply divide Default value is `wo_changes`. Operator, that is used to calculate `costs` with consideration to `cost_ratio` Website site_id number yes yes Website unique ID site_domain_name string yes Website's internet address. Without protocol - \"http://\" or \"https://\" Settings to associate a number to a website's block site_blocks array yes Settings to associate a number to a website's block site_block_id number Unique ID of a block of numbers site_block_name string Name of a block of numbers phone_number_type enum user va call_tracking Virtual number type (refer to the method get.campaign_available_phone_numbers ) for the parameter phone_number_id : user - user va - Hosted PBX number call_tracking - Analytics number phone_number_id number Unique ID of a virtual number depending on the parameter phone_number_type . To get a list of available virtual numbers, you need to use the method get.campaign_available_phone_numbers phone_number string Number that complies with the parameter phone_number_id redirection_phone_number_id number Redirection number, that is used in case a number's type from the parameter phone_number_id has value call_tracking . To get a list of available redirection numbers you need to use the method get.campaign_available_redirection_phone_numbers redirection_phone_number string Number that complies with the parameter redirection_phone_number_id dynamic_call_tracking_enabled boolean true, false Dynamic call tracking. Can have value \"true\" if the parameter phone_number_type = va | call_tracking Dynamic call tracking dynamic_call_tracking object yes Dynamic call tracking settings. By default, calls from numbers, that are included in the dynamic call tracking pool, will be treated as according to the rules of processing calls to an advertising campaign block number. reservation_time enum 5m 10m 15m 20m 30m 1h 2h 4h 8h 1d 1w Default value is \"15m\". Time period, for which a number will be appointed to a website visitor. As the time is up, the number gets appointed to another visitor (or, if there are some vacant call tracking numbers left, it stays the same. count_virtual_numbers number minimum value 1 Quantity of numbers required for call tracking to work in a block. The numbers will be purchased. count_visits number minimum value 1 Number of visits from a campaign per day coverage_visitors number Percentage of website visitors, that will see a dynamic call tracking number Group conditions settings group_conditions array Group conditions of an advertising campaign Conditions settings conditions array Advertising campaign conditions in a group of conditions type enum include exclude Advertising campaign conditions in a group of conditions campaign_parameter enum For List of acceptable values and operators refer to the tab \"List of parameters and their operators\" value string Value for campaign_parameter . Some campaign_parameter can have their own list of acceptable values. Refer to the tab \"List of parameters and their operators\" operator enum =, sub, ~ Operator if \"=\" - closely matches \"sub\" - includes \"~\" - regular expression","title":"Parameters of a reply"},{"location":"campaign/get_campaigns/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.campaigns\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"campaign/get_campaigns/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"metadata\": { }, \"data\": [ { \"id\": \"number\", \"status\": \"enum\", \"creation_time\": \"iso8601\", \"description\": \"string\", \"site_id\": \"number\", \"site_domain_name\": \"string\", \"costs\": \"number\", \"cost_ratio\": \"number\", \"cost_ratio_operator\": \"enum\", \"engine\": \"enum\", \"type\": \"enum\", \"name\": \"string\", \"site_blocks\": [ { \"site_block_id\": \"number\", \"site_block_name\": \"string\", \"phone_number_type\": \"enum\", \"phone_number_id\": \"number\", \"phone_number\": \"string\", \"redirection_phone_number_id\": \"number\", \"redirection_phone_number\": \"string\", \"dynamic_call_tracking_enabled\": \"boolean\" } ], \"dynamic_call_tracking\": { \"reservation_time\": \"enum\", \"count_virtual_numbers\": \"number\", \"count_visits\": \"number\" }, \"campaign_conditions\": { \"group_conditions\": [ { \"conditions\": [ { \"type\": \"enum\", \"campaign_parameter\": \"enum\", \"operator\": \"enum\", \"value\": \"string\" } ] } ] } } ] } }","title":"JSON reply structure"},{"location":"campaign/get_campaigns/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb get\"","title":"List of returning errors"},{"location":"campaign/update_campaign_parameter_weights/","text":"Updating advertising campaign parameter weights Method update.campaign_parameter_weights Description Updating advertising campaign parameter weights. The system defines which campaign should be linked to a visit. If a visit is linked to several campaigns, the system will choose a campaign with the highest value as according to the weights scale. Who has access Agent, Customer Parameters of a request Title Type Required Valid value Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent that makes a request. Is mandatory for agent To get a list of a customer's users you need to use the method \"get.customer_users\" site_id number yes Unique website ID entrance_page number no from 0 to 100 Entrance page referrer_domain number no from 0 to 100 Referrer domain search_engine number no from 0 to 100 Search engine search_query number no from 0 to 100 Search query engine number no from 0 to 100 Advertising engine referrer number no from 0 to 100 Referrer channel number no from 0 to 100 Channel location number no from 0 to 100 Value for weight of the following parameters: city, region, country utm_tags number no from 0 to 100 Value for weight of the following parameters: utm_source, utm_medium, utm_campaign, utm_term, utm_content os_tags number no from 0 to 100 Value for weight of the following parameters: openstat_service, openstat_campaign, openstat_source, openstat_ad other_tags number no from 0 to 100 Value for weight of the following parameters: ef_id, yclid, gclid, ymclid JSON request structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"update.campaign_parameter_weights\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"site_id\": \"number\", \"other_tags\": \"number\", \"search_query\": \"number\", \"ad_engine\": \"number\", \"referrer\": \"number\", \"channel\": \"number\", \"entrance_page\": \"number\", \"location\": \"number\", \"utm_tags\": \"number\", \"os_tags\": \"number\", \"referrer_domain\": \"number\", \"search_engine\": \"number\" } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"data\": { }, \"metadata\": { } } } List of returning errors Refer to section \"List of errors common for methods with the verb update\"","title":"Update campaign parameter weights"},{"location":"campaign/update_campaign_parameter_weights/#updating-advertising-campaign-parameter-weights","text":"Method update.campaign_parameter_weights Description Updating advertising campaign parameter weights. The system defines which campaign should be linked to a visit. If a visit is linked to several campaigns, the system will choose a campaign with the highest value as according to the weights scale. Who has access Agent, Customer","title":"Updating advertising campaign parameter weights"},{"location":"campaign/update_campaign_parameter_weights/#parameters-of-a-request","text":"Title Type Required Valid value Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent that makes a request. Is mandatory for agent To get a list of a customer's users you need to use the method \"get.customer_users\" site_id number yes Unique website ID entrance_page number no from 0 to 100 Entrance page referrer_domain number no from 0 to 100 Referrer domain search_engine number no from 0 to 100 Search engine search_query number no from 0 to 100 Search query engine number no from 0 to 100 Advertising engine referrer number no from 0 to 100 Referrer channel number no from 0 to 100 Channel location number no from 0 to 100 Value for weight of the following parameters: city, region, country utm_tags number no from 0 to 100 Value for weight of the following parameters: utm_source, utm_medium, utm_campaign, utm_term, utm_content os_tags number no from 0 to 100 Value for weight of the following parameters: openstat_service, openstat_campaign, openstat_source, openstat_ad other_tags number no from 0 to 100 Value for weight of the following parameters: ef_id, yclid, gclid, ymclid","title":"Parameters of a request"},{"location":"campaign/update_campaign_parameter_weights/#json-request-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"update.campaign_parameter_weights\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"site_id\": \"number\", \"other_tags\": \"number\", \"search_query\": \"number\", \"ad_engine\": \"number\", \"referrer\": \"number\", \"channel\": \"number\", \"entrance_page\": \"number\", \"location\": \"number\", \"utm_tags\": \"number\", \"os_tags\": \"number\", \"referrer_domain\": \"number\", \"search_engine\": \"number\" } }","title":"JSON request structure"},{"location":"campaign/update_campaign_parameter_weights/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"data\": { }, \"metadata\": { } } }","title":"JSON reply structure"},{"location":"campaign/update_campaign_parameter_weights/#list-of-returning-errors","text":"Refer to section \"List of errors common for methods with the verb update\"","title":"List of returning errors"},{"location":"campaign/update_campaigns/","text":"Updating advertising campaigns Method update.campaigns Description Updating an advertising campaign. You can only update 'basic' advertising campaigns. Who has access Agent, Customer You can update campaigns partially. If you're updating a data bulk, it will replace an existing one. In system advertising campaigns (with id = -1 ) as well as in integrated campaigns you can only update the fields site_blocks and dynamic_call_tracking Parameters of a request Title Type Required Valid value Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent that makes a request. Is mandatory for agent To get a list of a customer's users you need to use the method \"get.customer_users\" id number yes Unique ID of an advertising campaign name string no Name of an advertising campaign description string no Maximum 255 symbol Description of an advertising campaign status enum no active inactive Status of an advertising campaign If a campaign with set blocks has been marked as \"inactive\", all the blocks' settings will be reset. site_id number yes Unique ID of a website You can not update site_id for exsisting advertising campaign. campaign_conditions object no Conditions of an advertising campaign. Settings to bind a number to a site block site_blocks array no Settings to bind a number to a site block If there is no set block in a list, it will be reset when you update an advertising campaign. If a campaign is inactive ( status = inactive ), you can not change this parameter. The error `invalid_parameters_combination` will return. site_block_id number yes Unique ID of a site block phone_number_id number yes Unique Id of a virtual number. To receive a list of availibale virtual numbers, you need to use the method get.campaign_available_phone_numbers If an id does not return via the method get.campaign_available_phone_numbers , an error with mnemonics \"entity_not_found\" will return. Number with type = call_tracking can only be used in a single advertising campaign. If the number is already in use in another campaign, the error `already_in_use` will return. redirection_phone_number_id number no Unique ID of a redirection number. A redirection number is used only if the parameter phone_number_id has value `call_tracking`. You can access a list of available numbers via the method get.campaign_available_redirection_phone_numbers . Must be filled in if the parameter phone_number_id has virtual number with the type \"call_tracking\". If it's not the case, an error with mnemonics \"required_parameter_missed\" will return. If the parameter is given, and phone_number_id has a virtual number with the type \"va\", the error `invalid_parameters_combination` will return. A parameter can contain only redirection numbers that return via the method get.campaign_available_redirection_phone_numbers . If it's not the case, an error with mnemonics \"invalid_parameter_value\" will return Is availiable if the component \"va\" is active. If a parameter is filled and, and you don't have the component \"va\", an error with mnemonics \"parameter_component_disabled\" will return dynamic_call_tracking_enabled boolean no true, false Enabling dynamic call tracking. You can only add vacant numbers, without a flag \"used in hosted PBX\", into your dynamic call tracking pool. By default, you can do this in the same code as a campaign's block number. If you don't have enough numbers, they will be purchased automatically. By default, calls to numbers from the dynamic call tracking pool will be processed according to the rules of processing the calls to a block number of an advertising campaign. Can have value \"true\", if the parameter phone_number_id = va | call_tracking . If it's not the case, an error with mnemonics \"invalid_parameters_combination\" will return If you use this parameter, but you don't have the component dynamic_call_tracking\", an error with mnemonics \"parameter_component_disabled\" will return If at the same time the parameter status = inactive is given, the error `invalid_parameters_combination` will return If the parameter dynamic_call_tracking_enabled has value \"true\", the parameter dynamic_call_tracking must be filled in. Otherwise th error \"invalid_parameters_combination\" will return. cost_ratio number minimum value 1 Ratio that influence `costs` cost_ratio_operator enum wo_changes multiply divide Operator is ised in the paramatr `costs` with `cost_ratio` Dynamic call tracking dynamic_call_tracking object no Dynamic call tracking. Must be filled in if the parameter dynamic_call_tracking_enabled of at least one block has value \"true\". Otherwuse an error with mnemonics \"invalid_parameters_combination\" will return. If you use this parameter, but you don't have the component dynamic_call_tracking\", an error with mnemonics \"parameter_component_disabled\" will return. reservation_time enum no 5m 10m 15m 20m 30m 1h 2h 4h 8h 1d 1w Time period, for which a number will be appointed to a website visitor. As the time is up, the number gets appointed to another visitor (or, if there are some vacant call tracking numbers left, it stays the same). count_virtual_numbers number yes minimum value 1 Quantity of numbers required for call tracking to work in a block. The numbers will be purchased. count_visits number yes minimum value 1 Number of visits from the campaign per day Group conditions settings group_conditions array yes Maximum number of groups is 30 Group of advertising campaign conditions Setting conditions conditions array yes Maximum number of conditions for a group is 50 Advertising campaign conditions in a group of conditions type enum yes include exclude Advertising campaign conditions in a group of conditions include - includes exclude - excludes campaign_parameter enum yes For a list of valid values and their operators refer to the tab \"List of parameters and their operators\" value string yes Value. Some campaign_parameter can have their own list of acceptable values. Refer to the tab \"List of parameters and their operators\" operator enum yes =, sub, ~ Operator in a condition. Depends on the current parameter campaign_parameter . Refer to \"List of parameters and their operators\" \"=\" - closely matches \"sub\" - includes \"~\" - regular expression JSON request structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"update.campaigns\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"description\": \"string\", \"name\": \"string\", \"status\": \"enum\", \"cost_ratio\": \"number\", \"cost_ratio_operator\": \"enum\", \"id\": \"number\", \"site_id\": \"number\", \"site_blocks\": [ { \"site_block_id\": \"number\", \"phone_number_id\": \"number\", \"redirection_phone_number_id\": \"number\", \"dynamic_call_tracking_enabled\": \"boolean\" } ], \"dynamic_call_tracking\": { \"reservation_time\": \"enum\", \"count_virtual_numbers\": \"number\", \"count_visits\": \"number\" }, \"campaign_conditions\": { \"group_conditions\": [ { \"conditions\": [ { \"type\": \"enum\", \"campaign_parameter\": \"enum\", \"operator\": \"enum\", \"value\": \"string\" } ] } ] } } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"data\": { }, \"metadata\": { } } } List of returning errors Refer to \"List of errors for methods with the verb update\"","title":"Update campaigns"},{"location":"campaign/update_campaigns/#updating-advertising-campaigns","text":"Method update.campaigns Description Updating an advertising campaign. You can only update 'basic' advertising campaigns. Who has access Agent, Customer You can update campaigns partially. If you're updating a data bulk, it will replace an existing one. In system advertising campaigns (with id = -1 ) as well as in integrated campaigns you can only update the fields site_blocks and dynamic_call_tracking","title":"Updating advertising campaigns"},{"location":"campaign/update_campaigns/#parameters-of-a-request","text":"Title Type Required Valid value Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent that makes a request. Is mandatory for agent To get a list of a customer's users you need to use the method \"get.customer_users\" id number yes Unique ID of an advertising campaign name string no Name of an advertising campaign description string no Maximum 255 symbol Description of an advertising campaign status enum no active inactive Status of an advertising campaign If a campaign with set blocks has been marked as \"inactive\", all the blocks' settings will be reset. site_id number yes Unique ID of a website You can not update site_id for exsisting advertising campaign. campaign_conditions object no Conditions of an advertising campaign. Settings to bind a number to a site block site_blocks array no Settings to bind a number to a site block If there is no set block in a list, it will be reset when you update an advertising campaign. If a campaign is inactive ( status = inactive ), you can not change this parameter. The error `invalid_parameters_combination` will return. site_block_id number yes Unique ID of a site block phone_number_id number yes Unique Id of a virtual number. To receive a list of availibale virtual numbers, you need to use the method get.campaign_available_phone_numbers If an id does not return via the method get.campaign_available_phone_numbers , an error with mnemonics \"entity_not_found\" will return. Number with type = call_tracking can only be used in a single advertising campaign. If the number is already in use in another campaign, the error `already_in_use` will return. redirection_phone_number_id number no Unique ID of a redirection number. A redirection number is used only if the parameter phone_number_id has value `call_tracking`. You can access a list of available numbers via the method get.campaign_available_redirection_phone_numbers . Must be filled in if the parameter phone_number_id has virtual number with the type \"call_tracking\". If it's not the case, an error with mnemonics \"required_parameter_missed\" will return. If the parameter is given, and phone_number_id has a virtual number with the type \"va\", the error `invalid_parameters_combination` will return. A parameter can contain only redirection numbers that return via the method get.campaign_available_redirection_phone_numbers . If it's not the case, an error with mnemonics \"invalid_parameter_value\" will return Is availiable if the component \"va\" is active. If a parameter is filled and, and you don't have the component \"va\", an error with mnemonics \"parameter_component_disabled\" will return dynamic_call_tracking_enabled boolean no true, false Enabling dynamic call tracking. You can only add vacant numbers, without a flag \"used in hosted PBX\", into your dynamic call tracking pool. By default, you can do this in the same code as a campaign's block number. If you don't have enough numbers, they will be purchased automatically. By default, calls to numbers from the dynamic call tracking pool will be processed according to the rules of processing the calls to a block number of an advertising campaign. Can have value \"true\", if the parameter phone_number_id = va | call_tracking . If it's not the case, an error with mnemonics \"invalid_parameters_combination\" will return If you use this parameter, but you don't have the component dynamic_call_tracking\", an error with mnemonics \"parameter_component_disabled\" will return If at the same time the parameter status = inactive is given, the error `invalid_parameters_combination` will return If the parameter dynamic_call_tracking_enabled has value \"true\", the parameter dynamic_call_tracking must be filled in. Otherwise th error \"invalid_parameters_combination\" will return. cost_ratio number minimum value 1 Ratio that influence `costs` cost_ratio_operator enum wo_changes multiply divide Operator is ised in the paramatr `costs` with `cost_ratio` Dynamic call tracking dynamic_call_tracking object no Dynamic call tracking. Must be filled in if the parameter dynamic_call_tracking_enabled of at least one block has value \"true\". Otherwuse an error with mnemonics \"invalid_parameters_combination\" will return. If you use this parameter, but you don't have the component dynamic_call_tracking\", an error with mnemonics \"parameter_component_disabled\" will return. reservation_time enum no 5m 10m 15m 20m 30m 1h 2h 4h 8h 1d 1w Time period, for which a number will be appointed to a website visitor. As the time is up, the number gets appointed to another visitor (or, if there are some vacant call tracking numbers left, it stays the same). count_virtual_numbers number yes minimum value 1 Quantity of numbers required for call tracking to work in a block. The numbers will be purchased. count_visits number yes minimum value 1 Number of visits from the campaign per day Group conditions settings group_conditions array yes Maximum number of groups is 30 Group of advertising campaign conditions Setting conditions conditions array yes Maximum number of conditions for a group is 50 Advertising campaign conditions in a group of conditions type enum yes include exclude Advertising campaign conditions in a group of conditions include - includes exclude - excludes campaign_parameter enum yes For a list of valid values and their operators refer to the tab \"List of parameters and their operators\" value string yes Value. Some campaign_parameter can have their own list of acceptable values. Refer to the tab \"List of parameters and their operators\" operator enum yes =, sub, ~ Operator in a condition. Depends on the current parameter campaign_parameter . Refer to \"List of parameters and their operators\" \"=\" - closely matches \"sub\" - includes \"~\" - regular expression","title":"Parameters of a request"},{"location":"campaign/update_campaigns/#json-request-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"update.campaigns\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"description\": \"string\", \"name\": \"string\", \"status\": \"enum\", \"cost_ratio\": \"number\", \"cost_ratio_operator\": \"enum\", \"id\": \"number\", \"site_id\": \"number\", \"site_blocks\": [ { \"site_block_id\": \"number\", \"phone_number_id\": \"number\", \"redirection_phone_number_id\": \"number\", \"dynamic_call_tracking_enabled\": \"boolean\" } ], \"dynamic_call_tracking\": { \"reservation_time\": \"enum\", \"count_virtual_numbers\": \"number\", \"count_visits\": \"number\" }, \"campaign_conditions\": { \"group_conditions\": [ { \"conditions\": [ { \"type\": \"enum\", \"campaign_parameter\": \"enum\", \"operator\": \"enum\", \"value\": \"string\" } ] } ] } } }","title":"JSON request structure"},{"location":"campaign/update_campaigns/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"data\": { }, \"metadata\": { } } }","title":"JSON reply structure"},{"location":"campaign/update_campaigns/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb update\"","title":"List of returning errors"},{"location":"communication/delete_chats/","text":"Uploading communications > Deleting chats Method delete.chats Description Deleting chats Who has access Agent, Customer Components required to work with the method Data API, Uploading offline inquiries from an outside system You can only delete chats uploaded from Data API. They are marked as \"chat_channel_type\": \"dataapi\" in the report \"Getting information about chats\" get.chats_report Parameters of a request Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes a request. Is mandatory for an agent To get a list of customer users you need to use the method \"get.customer_users\" id number yes Unique chat ID JSON request structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"delete.chats\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"id\": \"number\" } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"success\": \"true\" } } List of returning errors Refer to section \"List of errors common for methods with the verb delete\"","title":"Deleting chats"},{"location":"communication/delete_chats/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes a request. Is mandatory for an agent To get a list of customer users you need to use the method \"get.customer_users\" id number yes Unique chat ID","title":"Parameters of a request"},{"location":"communication/delete_chats/#json-request-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"delete.chats\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"id\": \"number\" } }","title":"JSON request structure"},{"location":"communication/delete_chats/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"success\": \"true\" } }","title":"JSON reply structure"},{"location":"communication/delete_chats/#list-of-returning-errors","text":"Refer to section \"List of errors common for methods with the verb delete\"","title":"List of returning errors"},{"location":"communication/delete_offline_messages/","text":"Uploading communications > Deleting offline inquiries Method delete.offline_messages Description Deleting offline inquiries Who has access Agent, Customer Components required to work with the method Data API, Uploading offline inquiries from an outside system You can only delete inquiries uploaded from Data API. They are marked as \"form_type\": \"DataAPI\" in the report \"Getting information about offline inquiries\" get.offline_messages_report Parameters of a request Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or a client who makes a request. Is mandatory for an agent To get a list of customer users you should use the method \"get.customer_users\" id number yes Unique ID of an offline inquiry JSON request structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"delete.offline_messages\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"id\": \"number\" } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"success\": \"true\" } } List of returning errors Refer to \"List of errors common for methods with the verb delete\"","title":"Deleting offline inquiries"},{"location":"communication/delete_offline_messages/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or a client who makes a request. Is mandatory for an agent To get a list of customer users you should use the method \"get.customer_users\" id number yes Unique ID of an offline inquiry","title":"Parameters of a request"},{"location":"communication/delete_offline_messages/#json-request-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"delete.offline_messages\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"id\": \"number\" } }","title":"JSON request structure"},{"location":"communication/delete_offline_messages/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"success\": \"true\" } }","title":"JSON reply structure"},{"location":"communication/delete_offline_messages/#list-of-returning-errors","text":"Refer to \"List of errors common for methods with the verb delete\"","title":"List of returning errors"},{"location":"communication/upload_calls/","text":"Uploading calls and conversations > Uploading conversations Parameter Value Components necessary to work with the method \"Data API for settings\", \"Uploading calls from an outside system\" Components required to work with files in the format wav \"Voice analysis of calls\" Weight of the method 5 points Maximum number of calls per request 500 Maximum JSON size 512 K IP address of a server, you need to have access to in order to upload files 195.211.120.37 Method upload.calls Description Uploading calls and conversations for voice or end-to-end analysis Who has access Agent, Customer Parameters of a request Title Type Required Valid value Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for an agent To get a list of customer users you need to use the method \"get.customer_users\" ext_id string yes Unique ID of a call in your system. Duplicates are dropped out as calls are uploaded into a data base direction enum no in - incoming call out - outgoing call Direction of a call Default value is 'in' calling_phone_number string yes E164 Caller's phone number called_phone_number string yes E164 A dialed number start_time iso8601 yes YYYY-MM-DD hh:mm:ss Date and time of a call session's start Data will be corrected with consideration of a time zone set in your client area. finish_time iso8601 yes YYYY-MM-DD hh:mm:ss Completion time of a call session. Can't be earlier than start_time Data will be corrected with consideration of a time zone set in your client area. is_lost boolean yes Defines whether a call is lost or successful is_transfer boolean no Default value is `false`. Defines whether transfer occured or not Order for employees communications is set in the parameters wav_records and mp3_records wait_duration number no Waiting time for a subscriber before he or she talks to an employee. Value is in seconds. talk_duration number no Conversation time - a time period from the first call of a subsriber to termination of a call with the last employee. Value is in seconds visitor_session_id number no Unique ID of a visitor session from CallGear. The parameter is required if you need to analyze an advertising campaign. campaign_id number no Unique ID of an advertising campaign in CallGear. Parameter should be ignored, if the parameter visitor_session_id is filled in site_id number no Unique website ID in CallGear Parameter should be ignored if the parameter visitor_session_id is filled in or the parameter called_phone_number belongs to another website. comment string no Comment to a call. Can contain name of a service or a form that generated a call. Notification about call processing callback object no Notification about call processing JSON notification format url string yes http/https address a notification about successful call processing will be sent to. events array yes processed - call is successfully processed in_process - call is in progress error - call processing error What notifications about call processing you should get Call tags tags array no Call tags tag_id number no Unique call tag ID in CallGear tag_name string yes Tag name. You can search tags by their name in the system. If you don't find the one you need, you can create it and use it for a call. If you succesfully found it, just use it for a call. Search is case sensitive. To apply the tag \"Sales\" use the method \"set.tag_sales\" This should be ignored if the tag_id is filled in Conversation files for voice analysis wav_records array no Conversation files for voice analysis You can transmit them only if the component \"Voice analysis of calls\" is active. Wav files automatically convert to mp3 records that you can listen to in your client area. employee_id number no Unique ID of an employee in CallGear employee_name string yes Name of an employee (full name) You can search for an employee in the system by his or hers full name. If you don't find them you can create them and connect them to a call. Search is not case sensitive. This should be ignored if employee_id is filled in employee_channel enum yes left - left channel right - right channel Defines which channel an employee use. Values are only left or right record_url string yes Address you can go to to download conversation files. Wait for https only. You can listen to conversation files in your client area mp3_records array no You can listen to conversation files in your client area. It's forbidden to transmit them if the parameter wav_records is filled in employee_name string no Employee's full name, You can search for an employee in the system by his or hers full name. If you don't find them you can create them and connect them to a call. Search is not case sensitive. This should be ignored if employee_id is filled in employee_id number no Employee's unique ID in the CallGear system record_url string yes Address you can go to to download conversation files. Parameters of a reply Title Type Required Description Parameters of a notification about processing status Title Type Required Valid value Description status enum yes processed - processed in_process - in process error - processing error Processing error of an uploaded file ext_id string yes Unique call ID in your system call_session_id number no Unique ID of a call session in CallGear (refer to the method get.calls_report ) timestamp number yes Time zone for event generation is UTC GMT+00:00 error_message string no Error message. Should be filled in, if the parameter status has value \"error\" error_code enum no Error mnemonics. Should be filled in, if the parameter status has value \"error\" Requirements to wav files for voice analysis Call recording in stereo mode with two audio channels: employee's voice in one of the channels, customer's voice in the other. PCM-16 bit Sampling rate: 8000 hz Frequency range not worse than 330-3400 hz; Signal-to-noise ratio at frequency range 330-3400 hz: not less than 15 dB; Minimum duration of a voice signal is 16 seconds; File size not more than 50Mb ### Requirements to a service, that will distribute conversations recordings when they are uploaded via given URL - Reply to a request for uploading wav files should have title Content-Type: audio/wav - Reply to a request for uploading mp3 files should have title Content-Type: audio/mpeg ### JSON request structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"upload.calls\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"calls\": [ { \"callback\": { \"url\": \"string\", \"events\": [ ] }, \"ext_id\": \"string\", \"direction\": \"enum\", \"calling_phone_number\": \"string\", \"called_phone_number\": \"string\", \"start_time\": \"iso8601\", \"finish_time\": \"iso8601\", \"is_lost\": \"boolean\", \"is_transfer\": \"boolean\", \"visitor_session_id\": \"number\", \"site_id\": \"number\", \"campaign_id\": \"number\", \"wait_duration\": \"number\", \"talk_duration\": \"number\", \"comment\": \"string\", \"tags\": [ { \"tag_id\": \"number\", \"tag_name\": \"string\" } ], \"wav_records\": [ { \"employee_channel\": \"enum\", \"employee_name\": \"string\", \"employee_id\": \"number\", \"record_url\": \"string\" } ], \"mp3_records\": [ { \"employee_name\": \"string\", \"employee_id\": \"number\", \"record_url\": \"string\" } ] } ] } } ### JSON reply structure You get a reply as soon as the system saves calls for further processing. As processing is finished, a web-hook with processing status will be ready. { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"data\": { \"success\": \"true\" } } } ### JSON structure about processing status { \"ext_id\": \"string\", \"call_session_id\": \"number\", \"status\": \"enum\", \"timestamp\": \"number\", \"error_message\": \"string\", \"error_code\": \"enum\" } ### Example for a voice analysis, uploading a subscriber's call with several employees in one wav-file Customer uploads a call that includes a transfer and conversations with various employees. { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"upload.calls\", \"params\": { \"access_token\": \"string\", \"calls\": [ { \"ext_id\": \"test1\", \"direction\": \"in\", \"calling_phone_number\": \"89262444397\", \"called_phone_number\": \"84955140576\", \"start_time\": \"2019-07-01 12:00:00\", \"finish_time\": \"2019-07-01 12:00:30\", \"is_lost\": false, \"is_transfer\": true, \"wait_duration\": 10, \"talk_duration\": 20, \"tags\": [ { \"tag_name\": \"Targer\" }, { \"tag_name\": \"Test\" } ], \"wav_records\": [ { \"employee_channel\": \"left\", \"employee_name\": \"Ivan Vasil'yevich\", \"record_url\": \"https://test.ru/shhgad-adjjsdf-ytrh\" }, { \"employee_channel\": \"right\", \"employee_name\": \"Alexander Vasil'yevich\", \"record_url\": \"https://test.ru/shhgad-adjjsdf\" } ] } ] } } ### Example for a voice analysis, uploading a subscriber's call with an employee in one wav-file Customer uploads a call that has a conversation between a subscriber and an employee. { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"upload.calls\", \"params\": { \"access_token\": \"string\", \"calls\": [ { \"ext_id\": \"test1\", \"direction\": \"in\", \"calling_phone_number\": \"89262444397\", \"called_phone_number\": \"84955140576\", \"start_time\": \"2019-07-01 12:00:00\", \"finish_time\": \"2019-07-01 12:00:30\", \"is_lost\": false, \"wait_duration\": 10, \"talk_duration\": 20, \"tags\": [ { \"tag_name\": \"Target\" }, { \"tag_name\": \"Test\" } ], \"wav_records\": [ { \"employee_channel\": \"left\", \"employee_name\": \"Ivan Vasil'yevich\", \"record_url\": \"https://test.ru/shhgad-adjjsdf-xxxx\" } ] } ] } } ### Example of end-to-end analysis, uploading calls from an outside call tracking service { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"upload.calls\", \"params\": { \"access_token\": \"string\", \"calls\": [ { \"ext_id\": \"test1\", \"direction\": \"in\", \"calling_phone_number\": \"89262444397\", \"called_phone_number\": \"84955140576\", \"start_time\": \"2019-07-01 12:00:00\", \"finish_time\": \"2019-07-01 12:00:30\", \"is_lost\": false, \"campaign_id\": 435, \"site_id\": 24, \"tags\": [ { \"tag_name\": \"Target\" }, { \"tag_name\": \"Test\" } ], \"mp3_records\": [ { \"record_url\": \"https://test.ru/shhgad-adjjsdf-xxxx\" } ] } ] } } ### Example of end-to-end analysis, uploading calls from a callback form { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"upload.calls\", \"params\": { \"access_token\": \"string\", \"calls\": [ { \"ext_id\": \"test1\", \"direction\": \"in\", \"calling_phone_number\": \"89262444397\", \"called_phone_number\": \"84955140576\", \"start_time\": \"2019-07-01 12:00:00\", \"finish_time\": \"2019-07-01 12:00:30\", \"is_lost\": false, \"visitor_session_id\": 435, \"tags\": [ { \"tag_name\": \"Target\" }, { \"tag_name\": \"Test\" } ], \"mp3_records\": [ { \"record_url\": \"https://test.ru/shhgad-adjjsdf-xxxx\" } ] } ] } } ### Example of a notification about call processing status { \"ext_id\": \"test1\", \"call_session_id\": \"1564545\", \"status\": \"processed\", \"timestamp\": \"1562156217\" } ### List of returning errors | Parameter | Value | | :-------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------- | | max_file_size_download_error | Exceeded maximum file size. at the moment - 50 MB. | | decode_error | Could not open a conversation file, don't have first bytes in mp3 - ID3 and wav - RIFF files or an error occurred during the decoding process. | | wav_min_duration_processing_error | Downloaded wav file is shorter than 16 seconds. | | wav_channels_processing_error | Downloaded wav file does not have 2 channels. | | wav_processing_error | Error in wav file processing or in decoding a file with the needed parameters. | | connection_download_error | Error while connecting a server. Bad connection. | | http_status_download_error | Server from which you download a file responded at 200. | | http_content_type_download_error | Content-Type does not comply with the specification. | | timeout_download_error | File has been downloading for too long or connection with server took too much time. Maximum time is 30 seconds | Refer to [\"List of errors for methods with the verb create\"](../index.md#_changeErrors)","title":"Uploading calls and conversations"},{"location":"communication/upload_calls/#parameters-of-a-request","text":"Title Type Required Valid value Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for an agent To get a list of customer users you need to use the method \"get.customer_users\" ext_id string yes Unique ID of a call in your system. Duplicates are dropped out as calls are uploaded into a data base direction enum no in - incoming call out - outgoing call Direction of a call Default value is 'in' calling_phone_number string yes E164 Caller's phone number called_phone_number string yes E164 A dialed number start_time iso8601 yes YYYY-MM-DD hh:mm:ss Date and time of a call session's start Data will be corrected with consideration of a time zone set in your client area. finish_time iso8601 yes YYYY-MM-DD hh:mm:ss Completion time of a call session. Can't be earlier than start_time Data will be corrected with consideration of a time zone set in your client area. is_lost boolean yes Defines whether a call is lost or successful is_transfer boolean no Default value is `false`. Defines whether transfer occured or not Order for employees communications is set in the parameters wav_records and mp3_records wait_duration number no Waiting time for a subscriber before he or she talks to an employee. Value is in seconds. talk_duration number no Conversation time - a time period from the first call of a subsriber to termination of a call with the last employee. Value is in seconds visitor_session_id number no Unique ID of a visitor session from CallGear. The parameter is required if you need to analyze an advertising campaign. campaign_id number no Unique ID of an advertising campaign in CallGear. Parameter should be ignored, if the parameter visitor_session_id is filled in site_id number no Unique website ID in CallGear Parameter should be ignored if the parameter visitor_session_id is filled in or the parameter called_phone_number belongs to another website. comment string no Comment to a call. Can contain name of a service or a form that generated a call. Notification about call processing callback object no Notification about call processing JSON notification format url string yes http/https address a notification about successful call processing will be sent to. events array yes processed - call is successfully processed in_process - call is in progress error - call processing error What notifications about call processing you should get Call tags tags array no Call tags tag_id number no Unique call tag ID in CallGear tag_name string yes Tag name. You can search tags by their name in the system. If you don't find the one you need, you can create it and use it for a call. If you succesfully found it, just use it for a call. Search is case sensitive. To apply the tag \"Sales\" use the method \"set.tag_sales\" This should be ignored if the tag_id is filled in Conversation files for voice analysis wav_records array no Conversation files for voice analysis You can transmit them only if the component \"Voice analysis of calls\" is active. Wav files automatically convert to mp3 records that you can listen to in your client area. employee_id number no Unique ID of an employee in CallGear employee_name string yes Name of an employee (full name) You can search for an employee in the system by his or hers full name. If you don't find them you can create them and connect them to a call. Search is not case sensitive. This should be ignored if employee_id is filled in employee_channel enum yes left - left channel right - right channel Defines which channel an employee use. Values are only left or right record_url string yes Address you can go to to download conversation files. Wait for https only. You can listen to conversation files in your client area mp3_records array no You can listen to conversation files in your client area. It's forbidden to transmit them if the parameter wav_records is filled in employee_name string no Employee's full name, You can search for an employee in the system by his or hers full name. If you don't find them you can create them and connect them to a call. Search is not case sensitive. This should be ignored if employee_id is filled in employee_id number no Employee's unique ID in the CallGear system record_url string yes Address you can go to to download conversation files.","title":"Parameters of a request"},{"location":"communication/upload_calls/#parameters-of-a-reply","text":"Title Type Required Description","title":"Parameters of a reply"},{"location":"communication/upload_calls/#parameters-of-a-notification-about-processing-status","text":"Title Type Required Valid value Description status enum yes processed - processed in_process - in process error - processing error Processing error of an uploaded file ext_id string yes Unique call ID in your system call_session_id number no Unique ID of a call session in CallGear (refer to the method get.calls_report ) timestamp number yes Time zone for event generation is UTC GMT+00:00 error_message string no Error message. Should be filled in, if the parameter status has value \"error\" error_code enum no Error mnemonics. Should be filled in, if the parameter status has value \"error\"","title":"Parameters of a notification about processing status"},{"location":"communication/upload_calls/#requirements-to-wav-files-for-voice-analysis","text":"Call recording in stereo mode with two audio channels: employee's voice in one of the channels, customer's voice in the other. PCM-16 bit Sampling rate: 8000 hz Frequency range not worse than 330-3400 hz; Signal-to-noise ratio at frequency range 330-3400 hz: not less than 15 dB; Minimum duration of a voice signal is 16 seconds; File size not more than 50Mb ### Requirements to a service, that will distribute conversations recordings when they are uploaded via given URL - Reply to a request for uploading wav files should have title Content-Type: audio/wav - Reply to a request for uploading mp3 files should have title Content-Type: audio/mpeg ### JSON request structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"upload.calls\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"calls\": [ { \"callback\": { \"url\": \"string\", \"events\": [ ] }, \"ext_id\": \"string\", \"direction\": \"enum\", \"calling_phone_number\": \"string\", \"called_phone_number\": \"string\", \"start_time\": \"iso8601\", \"finish_time\": \"iso8601\", \"is_lost\": \"boolean\", \"is_transfer\": \"boolean\", \"visitor_session_id\": \"number\", \"site_id\": \"number\", \"campaign_id\": \"number\", \"wait_duration\": \"number\", \"talk_duration\": \"number\", \"comment\": \"string\", \"tags\": [ { \"tag_id\": \"number\", \"tag_name\": \"string\" } ], \"wav_records\": [ { \"employee_channel\": \"enum\", \"employee_name\": \"string\", \"employee_id\": \"number\", \"record_url\": \"string\" } ], \"mp3_records\": [ { \"employee_name\": \"string\", \"employee_id\": \"number\", \"record_url\": \"string\" } ] } ] } } ### JSON reply structure You get a reply as soon as the system saves calls for further processing. As processing is finished, a web-hook with processing status will be ready. { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"data\": { \"success\": \"true\" } } } ### JSON structure about processing status { \"ext_id\": \"string\", \"call_session_id\": \"number\", \"status\": \"enum\", \"timestamp\": \"number\", \"error_message\": \"string\", \"error_code\": \"enum\" } ### Example for a voice analysis, uploading a subscriber's call with several employees in one wav-file Customer uploads a call that includes a transfer and conversations with various employees. { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"upload.calls\", \"params\": { \"access_token\": \"string\", \"calls\": [ { \"ext_id\": \"test1\", \"direction\": \"in\", \"calling_phone_number\": \"89262444397\", \"called_phone_number\": \"84955140576\", \"start_time\": \"2019-07-01 12:00:00\", \"finish_time\": \"2019-07-01 12:00:30\", \"is_lost\": false, \"is_transfer\": true, \"wait_duration\": 10, \"talk_duration\": 20, \"tags\": [ { \"tag_name\": \"Targer\" }, { \"tag_name\": \"Test\" } ], \"wav_records\": [ { \"employee_channel\": \"left\", \"employee_name\": \"Ivan Vasil'yevich\", \"record_url\": \"https://test.ru/shhgad-adjjsdf-ytrh\" }, { \"employee_channel\": \"right\", \"employee_name\": \"Alexander Vasil'yevich\", \"record_url\": \"https://test.ru/shhgad-adjjsdf\" } ] } ] } } ### Example for a voice analysis, uploading a subscriber's call with an employee in one wav-file Customer uploads a call that has a conversation between a subscriber and an employee. { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"upload.calls\", \"params\": { \"access_token\": \"string\", \"calls\": [ { \"ext_id\": \"test1\", \"direction\": \"in\", \"calling_phone_number\": \"89262444397\", \"called_phone_number\": \"84955140576\", \"start_time\": \"2019-07-01 12:00:00\", \"finish_time\": \"2019-07-01 12:00:30\", \"is_lost\": false, \"wait_duration\": 10, \"talk_duration\": 20, \"tags\": [ { \"tag_name\": \"Target\" }, { \"tag_name\": \"Test\" } ], \"wav_records\": [ { \"employee_channel\": \"left\", \"employee_name\": \"Ivan Vasil'yevich\", \"record_url\": \"https://test.ru/shhgad-adjjsdf-xxxx\" } ] } ] } } ### Example of end-to-end analysis, uploading calls from an outside call tracking service { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"upload.calls\", \"params\": { \"access_token\": \"string\", \"calls\": [ { \"ext_id\": \"test1\", \"direction\": \"in\", \"calling_phone_number\": \"89262444397\", \"called_phone_number\": \"84955140576\", \"start_time\": \"2019-07-01 12:00:00\", \"finish_time\": \"2019-07-01 12:00:30\", \"is_lost\": false, \"campaign_id\": 435, \"site_id\": 24, \"tags\": [ { \"tag_name\": \"Target\" }, { \"tag_name\": \"Test\" } ], \"mp3_records\": [ { \"record_url\": \"https://test.ru/shhgad-adjjsdf-xxxx\" } ] } ] } } ### Example of end-to-end analysis, uploading calls from a callback form { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"upload.calls\", \"params\": { \"access_token\": \"string\", \"calls\": [ { \"ext_id\": \"test1\", \"direction\": \"in\", \"calling_phone_number\": \"89262444397\", \"called_phone_number\": \"84955140576\", \"start_time\": \"2019-07-01 12:00:00\", \"finish_time\": \"2019-07-01 12:00:30\", \"is_lost\": false, \"visitor_session_id\": 435, \"tags\": [ { \"tag_name\": \"Target\" }, { \"tag_name\": \"Test\" } ], \"mp3_records\": [ { \"record_url\": \"https://test.ru/shhgad-adjjsdf-xxxx\" } ] } ] } } ### Example of a notification about call processing status { \"ext_id\": \"test1\", \"call_session_id\": \"1564545\", \"status\": \"processed\", \"timestamp\": \"1562156217\" } ### List of returning errors | Parameter | Value | | :-------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------- | | max_file_size_download_error | Exceeded maximum file size. at the moment - 50 MB. | | decode_error | Could not open a conversation file, don't have first bytes in mp3 - ID3 and wav - RIFF files or an error occurred during the decoding process. | | wav_min_duration_processing_error | Downloaded wav file is shorter than 16 seconds. | | wav_channels_processing_error | Downloaded wav file does not have 2 channels. | | wav_processing_error | Error in wav file processing or in decoding a file with the needed parameters. | | connection_download_error | Error while connecting a server. Bad connection. | | http_status_download_error | Server from which you download a file responded at 200. | | http_content_type_download_error | Content-Type does not comply with the specification. | | timeout_download_error | File has been downloading for too long or connection with server took too much time. Maximum time is 30 seconds | Refer to [\"List of errors for methods with the verb create\"](../index.md#_changeErrors)","title":"Requirements to wav files for voice analysis"},{"location":"communication/upload_chats/","text":"Uploading communications > Uploading chats Method upload.chats Description Uploading chats Who has access Agent, Customer Components required to work with the method Data API, Uploading offline inquiries from an outside system Maximum number of inquiries per request 500 Required parameters: - session_id, campaign_id or site_id (if several parameters are stated, the data should be consistent) - phone or email Parameters of a request Title Type Required Valid value Description access_token string yes Authentication session key user_id number no Unique user ID of a customer of an agent who makes request. Is mandatory for agent Ypu can get access to a list of customer users via the method \"get.customer_users\" chats array yes List of chats. Maximum 500 start_date_time iso8601 yes YYYY-MM-DD hh:mm:ss Date and time Can't be in the future. Can't be later than in a transmitted visitor's session name string no Username phone string no Visitor's phone number in the format E164 email string no Visitor's email status enum yes lost,succeed, refused Chat status lost (lost); succeed (succeeded); refused (refused) initiator enum no operator, visitor,autoinvite Chat initiator autoinvite (autoinvite), visitor (Visitor), operator(Operator) If the parameter is not given, the first source of a message will be used (\"source\") visitor_session_id number no Unique ID of a visitor's session from CallGear. To get an ID you need to use the method JS API CallGear.getSessionId() campaign_id number no Unique ID of an advertising campaign in CallGear. To get campaign_id you can use Data API \"get.campaigns\" site_id number no Unique website ID messages array yes List of messages in a chat date_time iso8601 yes YYYY-MM-DD hh:mm:ss Date and time when a message was sent Can't be in the future. Must be later than start_date_time. If the parameter is not given, time of a call will be used source enum yes operator, visitor,system Message source system (autoinvite), visitor (Visitor), operator(Operator) employee_id number no Unique ID of an employee, required if source = operator(Operator) Chat will be appointed to the last employee who sent a message message string yes Message JSON request structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"upload.chats\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"chats\": [ { \"start_date_time\": \"iso8601\", \"name\": \"string\", \"phone\": \"string\", \"email\": \"string\", \"status\": \"enum [lost,succeed, refused]\", \"initiator\": \"enum [operator, visitor,autoinvite]\", \"visitor_session_id\": \"number\", \"campaign_id\": \"number\", \"site_id\": \"number\", \"messages\": [ { \"date_time\": \"iso8601\", \"source\": \"enum [operator, visitor, system]\", \"employee_id\": \"number\", \"message\": \"string\" } ] } ] } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"data\": [ { \"id\": \"number\" } ], \"metadata\": \"object\" } } List of returning errors Refer to \"List of errors common for methods with the verb upload\"","title":"Uploading chats"},{"location":"communication/upload_chats/#parameters-of-a-request","text":"Title Type Required Valid value Description access_token string yes Authentication session key user_id number no Unique user ID of a customer of an agent who makes request. Is mandatory for agent Ypu can get access to a list of customer users via the method \"get.customer_users\" chats array yes List of chats. Maximum 500 start_date_time iso8601 yes YYYY-MM-DD hh:mm:ss Date and time Can't be in the future. Can't be later than in a transmitted visitor's session name string no Username phone string no Visitor's phone number in the format E164 email string no Visitor's email status enum yes lost,succeed, refused Chat status lost (lost); succeed (succeeded); refused (refused) initiator enum no operator, visitor,autoinvite Chat initiator autoinvite (autoinvite), visitor (Visitor), operator(Operator) If the parameter is not given, the first source of a message will be used (\"source\") visitor_session_id number no Unique ID of a visitor's session from CallGear. To get an ID you need to use the method JS API CallGear.getSessionId() campaign_id number no Unique ID of an advertising campaign in CallGear. To get campaign_id you can use Data API \"get.campaigns\" site_id number no Unique website ID messages array yes List of messages in a chat date_time iso8601 yes YYYY-MM-DD hh:mm:ss Date and time when a message was sent Can't be in the future. Must be later than start_date_time. If the parameter is not given, time of a call will be used source enum yes operator, visitor,system Message source system (autoinvite), visitor (Visitor), operator(Operator) employee_id number no Unique ID of an employee, required if source = operator(Operator) Chat will be appointed to the last employee who sent a message message string yes Message","title":"Parameters of a request"},{"location":"communication/upload_chats/#json-request-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"upload.chats\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"chats\": [ { \"start_date_time\": \"iso8601\", \"name\": \"string\", \"phone\": \"string\", \"email\": \"string\", \"status\": \"enum [lost,succeed, refused]\", \"initiator\": \"enum [operator, visitor,autoinvite]\", \"visitor_session_id\": \"number\", \"campaign_id\": \"number\", \"site_id\": \"number\", \"messages\": [ { \"date_time\": \"iso8601\", \"source\": \"enum [operator, visitor, system]\", \"employee_id\": \"number\", \"message\": \"string\" } ] } ] } }","title":"JSON request structure"},{"location":"communication/upload_chats/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"data\": [ { \"id\": \"number\" } ], \"metadata\": \"object\" } }","title":"JSON reply structure"},{"location":"communication/upload_chats/#list-of-returning-errors","text":"Refer to \"List of errors common for methods with the verb upload\"","title":"List of returning errors"},{"location":"communication/upload_offline_messages/","text":"Upload communications > Upload offline messages Method upload.offline_messages Description Upload offline messages Who has access Agent, Customer Components required to work with the method Data API, Upload offline messages from an outside system Maximum number of inquiries per request 500 Required parameters: - session_id, campaign_id or site_id (if several parameters are stated, the data should be consistent) - phone or email Parameters of a request Title Type Required Valid value Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request Is mandatory for agent To get a list of customer users you should use the method \"get.customer_users\" offline_messages array yes List of offline messages. Maximum 500 date_time iso8601 no YYYY-MM-DD hh:mm:ss Date and time when an inquiry was made. Can't be in the future. Must be later than in a transmitted visitor's session. If the parameter is not given, the time when a call was made will be used name string no Username phone string no User phone number in the format E164 email string no Visitor's email message string no Visitor's message visitor_session_id number no Unique ID of a visitor's session from CallGear. to get an ID you need to use the method the method JS API CallGear.getSessionId() campaign_id number no Unique ID of an advertising campaign in CallGear. To get campaign_id you can use the method Data API \"get.campaigns\" site_id number no Unique website ID. JSON request structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"upload.offline_messages\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"offline_messages\": [ { \"date_time\": \"iso8601\", \"name\": \"string\", \"phone\": \"string\", \"email\": \"string\", \"message\": \"string\", \"visitor_session_id\": \"number\", \"campaign_id\": \"number\", \"site_id\": \"number\" } ] } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"data\": [ { \"id\": \"number\" } ], \"metadata\": \"object\" } } List of returning errors Refer to section \"List of errors for methods with the verb upload\"","title":"Upload offline messages"},{"location":"communication/upload_offline_messages/#parameters-of-a-request","text":"Title Type Required Valid value Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request Is mandatory for agent To get a list of customer users you should use the method \"get.customer_users\" offline_messages array yes List of offline messages. Maximum 500 date_time iso8601 no YYYY-MM-DD hh:mm:ss Date and time when an inquiry was made. Can't be in the future. Must be later than in a transmitted visitor's session. If the parameter is not given, the time when a call was made will be used name string no Username phone string no User phone number in the format E164 email string no Visitor's email message string no Visitor's message visitor_session_id number no Unique ID of a visitor's session from CallGear. to get an ID you need to use the method the method JS API CallGear.getSessionId() campaign_id number no Unique ID of an advertising campaign in CallGear. To get campaign_id you can use the method Data API \"get.campaigns\" site_id number no Unique website ID.","title":"Parameters of a request"},{"location":"communication/upload_offline_messages/#json-request-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"upload.offline_messages\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"offline_messages\": [ { \"date_time\": \"iso8601\", \"name\": \"string\", \"phone\": \"string\", \"email\": \"string\", \"message\": \"string\", \"visitor_session_id\": \"number\", \"campaign_id\": \"number\", \"site_id\": \"number\" } ] } }","title":"JSON request structure"},{"location":"communication/upload_offline_messages/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"data\": [ { \"id\": \"number\" } ], \"metadata\": \"object\" } }","title":"JSON reply structure"},{"location":"communication/upload_offline_messages/#list-of-returning-errors","text":"Refer to section \"List of errors for methods with the verb upload\"","title":"List of returning errors"},{"location":"contact/create_contact_organizations/","text":"Creating contact organization Method create.contact_organizations Description Creating contact organization Who has access Agent, Customer Parameters of the requests Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for the agent To access a list of customer users you need to use the method \"get.customer_users\" name string yes Name of organization Parameters of reply Title Type Required Description id number yes Unique ID of organization JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"create.contact_organizations\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"name\":\"string\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"id\":\"number\" } } List of returning errors Refer to \"List of errors for methods with the verb create\"","title":"Create contact organizations"},{"location":"contact/create_contact_organizations/#creating-contact-organization","text":"Method create.contact_organizations Description Creating contact organization Who has access Agent, Customer","title":"Creating contact organization"},{"location":"contact/create_contact_organizations/#parameters-of-the-requests","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for the agent To access a list of customer users you need to use the method \"get.customer_users\" name string yes Name of organization","title":"Parameters of the requests"},{"location":"contact/create_contact_organizations/#parameters-of-reply","text":"Title Type Required Description id number yes Unique ID of organization","title":"Parameters of reply"},{"location":"contact/create_contact_organizations/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"create.contact_organizations\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"name\":\"string\" } }","title":"JSON request structure"},{"location":"contact/create_contact_organizations/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"id\":\"number\" } }","title":"JSON reply structure"},{"location":"contact/create_contact_organizations/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb create\"","title":"List of returning errors"},{"location":"contact/create_contacts/","text":"Adding contacts to address book Method create.contacts Description Adding contacts to address book Who has access Agent, Customer Parameters of request Title Type Required Valid value Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for the agent To access a list of customer users you need to use the method \"get.customer_users\" first_name string no Contact first name last_name string yes Contact last name patronymic string no Contact patronymic name emails array no Maximum 10 addresses Contact email. E-mail should be unique for a list. phone_numbers array yes Maximum 10 addresses List of contact numbers in the format E164 Number should be unique for a list. personal_manager_id number no Personal manager is an employee, responsible for customer relations. When you create a scenario \"Redirection to a personal manager\" calls from customers will reach personal managers without any additional settings of a calling subscriber's phone numbers list or employees phone numbers list. To get a list of employees use the method \"get.employees\" organization_id number no Unique ID of an organization. To get a list of organizations use the method \"get.contact_organizations\" . groups array no For a List of unique group IDs a contact belongs to refer to the method \"get.group_contacts\" Parameters of reply Title Type Required Description id number yes Unique ID of a contact in address book JSON request structure { \"jsonrpc\":\"2.0\", \"method\":\"create.contacts\", \"id\":\"number\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"last_name\":\"string\", \"first_name\":\"string\", \"patronymic\":\"string\", \"emails\":[ \"email\" ], \"groups\":[ \"group_id\" ], \"phone_numbers\":[ \"number\" ], \"personal_manager_id\":\"number\", \"organization_id\":\"number\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"id\":\"number\" } } List of returning errors Refer to \"List of errors for methods with the verb create\"","title":"Create contacts"},{"location":"contact/create_contacts/#adding-contacts-to-address-book","text":"Method create.contacts Description Adding contacts to address book Who has access Agent, Customer","title":"Adding contacts to address book"},{"location":"contact/create_contacts/#parameters-of-request","text":"Title Type Required Valid value Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for the agent To access a list of customer users you need to use the method \"get.customer_users\" first_name string no Contact first name last_name string yes Contact last name patronymic string no Contact patronymic name emails array no Maximum 10 addresses Contact email. E-mail should be unique for a list. phone_numbers array yes Maximum 10 addresses List of contact numbers in the format E164 Number should be unique for a list. personal_manager_id number no Personal manager is an employee, responsible for customer relations. When you create a scenario \"Redirection to a personal manager\" calls from customers will reach personal managers without any additional settings of a calling subscriber's phone numbers list or employees phone numbers list. To get a list of employees use the method \"get.employees\" organization_id number no Unique ID of an organization. To get a list of organizations use the method \"get.contact_organizations\" . groups array no For a List of unique group IDs a contact belongs to refer to the method \"get.group_contacts\"","title":"Parameters of request"},{"location":"contact/create_contacts/#parameters-of-reply","text":"Title Type Required Description id number yes Unique ID of a contact in address book","title":"Parameters of reply"},{"location":"contact/create_contacts/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"method\":\"create.contacts\", \"id\":\"number\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"last_name\":\"string\", \"first_name\":\"string\", \"patronymic\":\"string\", \"emails\":[ \"email\" ], \"groups\":[ \"group_id\" ], \"phone_numbers\":[ \"number\" ], \"personal_manager_id\":\"number\", \"organization_id\":\"number\" } }","title":"JSON request structure"},{"location":"contact/create_contacts/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"id\":\"number\" } }","title":"JSON reply structure"},{"location":"contact/create_contacts/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb create\"","title":"List of returning errors"},{"location":"contact/create_group_contacts/","text":"Creating contact groups in address book Method create.group_contacts Description Creating contact groups in address book Who has access Agent, Customer Parameters of request Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for the agent To access a list of customer users you need to use the method \"get.customer_users\" name string yes Name of a contact group members array no List of unique contacts IDs that belong to a group. You can get a list of contacts via the method \"get.contacts\" Parameters of reply Title Type Required Description id number yes Unique ID of a contact group in address book JSON request structure { \"jsonrpc\":\"2.0\", \"method\":\"create.group_contacts\", \"id\":\"number\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"name\":\"string\", \"members\":[ \"contact_id\" ] } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"id\":\"number\" } } List of returning errors Refer to \"List of errors for methods with the verb create\"","title":"Create group contacts"},{"location":"contact/create_group_contacts/#creating-contact-groups-in-address-book","text":"Method create.group_contacts Description Creating contact groups in address book Who has access Agent, Customer","title":"Creating contact groups in address book"},{"location":"contact/create_group_contacts/#parameters-of-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for the agent To access a list of customer users you need to use the method \"get.customer_users\" name string yes Name of a contact group members array no List of unique contacts IDs that belong to a group. You can get a list of contacts via the method \"get.contacts\"","title":"Parameters of request"},{"location":"contact/create_group_contacts/#parameters-of-reply","text":"Title Type Required Description id number yes Unique ID of a contact group in address book","title":"Parameters of reply"},{"location":"contact/create_group_contacts/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"method\":\"create.group_contacts\", \"id\":\"number\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"name\":\"string\", \"members\":[ \"contact_id\" ] } }","title":"JSON request structure"},{"location":"contact/create_group_contacts/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"id\":\"number\" } }","title":"JSON reply structure"},{"location":"contact/create_group_contacts/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb create\"","title":"List of returning errors"},{"location":"contact/delete_contact_organizations/","text":"Deleting contact organizations Method delete.contact_organizations Description Deleting contact organizations Who has access Agent, Customer Parameters of a request Title Type Required Description access_token string yes Session authentication key id number yes Unique contact group ID in address book user_id number no Session authentication key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for the agent To access a list of customer users you need to use the method \"get.customer_users\" JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"delete.contact_organizations\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } } List of returning errors Refer to \"List of errors for methods with the verb delete\"","title":"Delete contact organizations"},{"location":"contact/delete_contact_organizations/#deleting-contact-organizations","text":"Method delete.contact_organizations Description Deleting contact organizations Who has access Agent, Customer","title":"Deleting contact organizations"},{"location":"contact/delete_contact_organizations/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Session authentication key id number yes Unique contact group ID in address book user_id number no Session authentication key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for the agent To access a list of customer users you need to use the method \"get.customer_users\"","title":"Parameters of a request"},{"location":"contact/delete_contact_organizations/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"delete.contact_organizations\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\" } }","title":"JSON request structure"},{"location":"contact/delete_contact_organizations/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } }","title":"JSON reply structure"},{"location":"contact/delete_contact_organizations/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb delete\"","title":"List of returning errors"},{"location":"contact/delete_contacts/","text":"Deleting contacts from address book Method delete.contacts Description Deleting contacts from address book Who has access Agent, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for the agent To access a list of customer users you need to use the method \"get.customer_users\" JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"delete.contacts\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } } List of returning errors Refer to \"List of errors for methods with the verb delete\"","title":"Delete contacts"},{"location":"contact/delete_contacts/#deleting-contacts-from-address-book","text":"Method delete.contacts Description Deleting contacts from address book Who has access Agent, Customer","title":"Deleting contacts from address book"},{"location":"contact/delete_contacts/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for the agent To access a list of customer users you need to use the method \"get.customer_users\"","title":"Parameters of a request"},{"location":"contact/delete_contacts/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"delete.contacts\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\" } }","title":"JSON request structure"},{"location":"contact/delete_contacts/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } }","title":"JSON reply structure"},{"location":"contact/delete_contacts/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb delete\"","title":"List of returning errors"},{"location":"contact/delete_group_contacts/","text":"Deleting contact lists in address book Method delete.group_contacts Description Deleting contact lists in address book Who has access Agent, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key id number yes Unique ID of a contacts group in address book user_id number no Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for the agent To access a list of customer users you need to use the method \"get.customer_users\" JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"delete.group_contacts\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } } List of returning errors Refer to \"List of errors for methods with the verb delete\"","title":"Delete group contacts"},{"location":"contact/delete_group_contacts/#deleting-contact-lists-in-address-book","text":"Method delete.group_contacts Description Deleting contact lists in address book Who has access Agent, Customer","title":"Deleting contact lists in address book"},{"location":"contact/delete_group_contacts/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key id number yes Unique ID of a contacts group in address book user_id number no Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for the agent To access a list of customer users you need to use the method \"get.customer_users\"","title":"Parameters of a request"},{"location":"contact/delete_group_contacts/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"delete.group_contacts\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\" } }","title":"JSON request structure"},{"location":"contact/delete_group_contacts/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } }","title":"JSON reply structure"},{"location":"contact/delete_group_contacts/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb delete\"","title":"List of returning errors"},{"location":"contact/get_contact_organizations/","text":"Getting list of organization's contacts Method get.contact_organizations Description Getting list of organization's contacts Who has access Agent, Customer Parameters of the request Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for the agent To access a list of customer users you need to use the method \"get.customer_users\" limit number no Number of returned records. Refer to \"Paging\" offset number no Offset that defines from which phone number to return \"limit\" of recordings. Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filtering criteria\" fields array no Refer to \"View returning errors\" sort array no Refer to \"Sorting\" Parameters of a reply Name Type Filtering Sorting Description id number yes Unique ID of organization name string yes yes Organization name JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.contact_organizations\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"name\":\"string\" } ] } } List of returning errors Refer to \"List of errors for methods with the verb get\"","title":"Get contact organizations"},{"location":"contact/get_contact_organizations/#getting-list-of-organizations-contacts","text":"Method get.contact_organizations Description Getting list of organization's contacts Who has access Agent, Customer","title":"Getting list of organization's contacts"},{"location":"contact/get_contact_organizations/#parameters-of-the-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for the agent To access a list of customer users you need to use the method \"get.customer_users\" limit number no Number of returned records. Refer to \"Paging\" offset number no Offset that defines from which phone number to return \"limit\" of recordings. Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filtering criteria\" fields array no Refer to \"View returning errors\" sort array no Refer to \"Sorting\"","title":"Parameters of the request"},{"location":"contact/get_contact_organizations/#parameters-of-a-reply","text":"Name Type Filtering Sorting Description id number yes Unique ID of organization name string yes yes Organization name","title":"Parameters of a reply"},{"location":"contact/get_contact_organizations/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.contact_organizations\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"contact/get_contact_organizations/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"name\":\"string\" } ] } }","title":"JSON reply structure"},{"location":"contact/get_contact_organizations/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb get\"","title":"List of returning errors"},{"location":"contact/get_contacts/","text":"Getting contact list in address book Method get.contacts Description Getting contact list in address book Who has access Agent, Customer Parameters of the request Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for the agent To access a list of customer users you need to use the method \"get.customer_users\" limit number no Number of returning inquiries. Refer to \"Paging\" offset number no Offset that defines from which phone number to return \"limit\" of recordings. Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filtering criteria\" fields array no Refer to \"View returning errors\" sort array no Refer to \"Sorting\" Parameters of a reply Title Type Valid value Filtering Sorting Description id number yes Unique ID of a contact first_name string yes yes Contact first name last_name string yes yes Contact last name patronymic string Contact patronymic name full_name string yes yes Contact full name emails array Maximum 10 addresses yes Contact's email. phone_numbers array Maximum 10 addresses yes List of contact's numbers Personal manager personal_manager_id number yes Unique ID of a personal account manager personal_manager_full_name string yes Full name of a personal account manager Organization organization_id number yes Unique ID of an organization organization_name string yes Organization name Groups a contact belongs to groups array yes List of groups a contact belongs to group_id number Unique ID of a group group_name string Name of a group JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.contacts\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"last_name\":\"string\", \"first_name\":\"string\", \"patronymic\":\"string\", \"full_name\":\"string\", \"emails\":[ \"email\" ], \"groups\":[ { \"group_id\":\"number\", \"group_name\":\"string\" } ], \"phone_numbers\":[ \"number\" ], \"personal_manager_id\":\"number\", \"personal_manager_full_name\":\"string\", \"organization_name\":\"string\", \"organization_id\":\"number\" } ] } } List of returning errors Refer to \"List of errors common for methods with the verb get\"","title":"Get contacts"},{"location":"contact/get_contacts/#getting-contact-list-in-address-book","text":"Method get.contacts Description Getting contact list in address book Who has access Agent, Customer","title":"Getting contact list in address book"},{"location":"contact/get_contacts/#parameters-of-the-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for the agent To access a list of customer users you need to use the method \"get.customer_users\" limit number no Number of returning inquiries. Refer to \"Paging\" offset number no Offset that defines from which phone number to return \"limit\" of recordings. Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filtering criteria\" fields array no Refer to \"View returning errors\" sort array no Refer to \"Sorting\"","title":"Parameters of the request"},{"location":"contact/get_contacts/#parameters-of-a-reply","text":"Title Type Valid value Filtering Sorting Description id number yes Unique ID of a contact first_name string yes yes Contact first name last_name string yes yes Contact last name patronymic string Contact patronymic name full_name string yes yes Contact full name emails array Maximum 10 addresses yes Contact's email. phone_numbers array Maximum 10 addresses yes List of contact's numbers Personal manager personal_manager_id number yes Unique ID of a personal account manager personal_manager_full_name string yes Full name of a personal account manager Organization organization_id number yes Unique ID of an organization organization_name string yes Organization name Groups a contact belongs to groups array yes List of groups a contact belongs to group_id number Unique ID of a group group_name string Name of a group","title":"Parameters of a reply"},{"location":"contact/get_contacts/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.contacts\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"contact/get_contacts/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"last_name\":\"string\", \"first_name\":\"string\", \"patronymic\":\"string\", \"full_name\":\"string\", \"emails\":[ \"email\" ], \"groups\":[ { \"group_id\":\"number\", \"group_name\":\"string\" } ], \"phone_numbers\":[ \"number\" ], \"personal_manager_id\":\"number\", \"personal_manager_full_name\":\"string\", \"organization_name\":\"string\", \"organization_id\":\"number\" } ] } }","title":"JSON reply structure"},{"location":"contact/get_contacts/#list-of-returning-errors","text":"Refer to \"List of errors common for methods with the verb get\"","title":"List of returning errors"},{"location":"contact/get_group_contacts/","text":"Getting contact groups list in address book Method get.group_contacts Description Getting contact groups list in address book Who has access Agent, Customer Parameters of request Title Type Required Description access_token string yes Authentication session key user_id number no Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for the agent To access a list of customer users you need to use the method \"get.customer_users\" limit number no Number of returned records. Refer to \"Paging\" offset number no Offset that defines from which phone number to return \"limit\" of recordings. Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filtering criteria\" fields array no Refer to \"View returning errors\" sort array no Refer to \"Sorting\" Parameters of reply Title Type Valid value Filtering Sorting Description id number yes Unique ID of a contact group in address book name string yes yes Contact group name is_system boolean yes It's a system group that cannot be deleted List of contacts that belong to a group members array yes List of unique cintact IDs that belong to a group. contact_id number Unique contact ID refer to \"get.contacts\" contact_full_name string Contact full name JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.group_contacts\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"name\":\"string\", \"is_system\":\"boolean\", \"members\":[ { \"contacts_id\":\"number\", \"contact_full_name\":\"string\" } ] } ] } } List of returning errors Refer to \"List of errors for methods with the verb get\"","title":"Get group contacts"},{"location":"contact/get_group_contacts/#getting-contact-groups-list-in-address-book","text":"Method get.group_contacts Description Getting contact groups list in address book Who has access Agent, Customer","title":"Getting contact groups list in address book"},{"location":"contact/get_group_contacts/#parameters-of-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for the agent To access a list of customer users you need to use the method \"get.customer_users\" limit number no Number of returned records. Refer to \"Paging\" offset number no Offset that defines from which phone number to return \"limit\" of recordings. Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filtering criteria\" fields array no Refer to \"View returning errors\" sort array no Refer to \"Sorting\"","title":"Parameters of request"},{"location":"contact/get_group_contacts/#parameters-of-reply","text":"Title Type Valid value Filtering Sorting Description id number yes Unique ID of a contact group in address book name string yes yes Contact group name is_system boolean yes It's a system group that cannot be deleted List of contacts that belong to a group members array yes List of unique cintact IDs that belong to a group. contact_id number Unique contact ID refer to \"get.contacts\" contact_full_name string Contact full name","title":"Parameters of reply"},{"location":"contact/get_group_contacts/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.group_contacts\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"contact/get_group_contacts/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"name\":\"string\", \"is_system\":\"boolean\", \"members\":[ { \"contacts_id\":\"number\", \"contact_full_name\":\"string\" } ] } ] } }","title":"JSON reply structure"},{"location":"contact/get_group_contacts/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb get\"","title":"List of returning errors"},{"location":"contact/update_contact_organizations/","text":"Updating contact organizations Method update.contact_organizations Description Updating contact organizations Who has access Agent, customer Parameters of the request Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for the agent To access a list of customer users you need to use the method \"get.customer_users\" name string yes Name of organization id number yes Unique ID of organization JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"update.contact_organizations\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"name\":\"string\", \"id\":\"number\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } } List of returning errors Refer to \"List of errors for methods with the verb update\"","title":"Update contact organizations"},{"location":"contact/update_contact_organizations/#updating-contact-organizations","text":"Method update.contact_organizations Description Updating contact organizations Who has access Agent, customer","title":"Updating contact organizations"},{"location":"contact/update_contact_organizations/#parameters-of-the-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for the agent To access a list of customer users you need to use the method \"get.customer_users\" name string yes Name of organization id number yes Unique ID of organization","title":"Parameters of the request"},{"location":"contact/update_contact_organizations/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"update.contact_organizations\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"name\":\"string\", \"id\":\"number\" } }","title":"JSON request structure"},{"location":"contact/update_contact_organizations/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } }","title":"JSON reply structure"},{"location":"contact/update_contact_organizations/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb update\"","title":"List of returning errors"},{"location":"contact/update_contacts/","text":"Updating contact in address book Method update.contacts Description Updating contact in address book Who has access Agent, Customer You can update partially. If you update a bulk of data the bulk will replace an existing one. Parameters of a request Title Type Required Valid value Description access_token string yes Authentication session key id number yes Unique ID of a contact in address book user_id number no Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for the agent To access a list of customer users you need to use the method \"get.customer_users\" first_name string no Contact first name last_name string yes Contact last name patronymic string no Contact patronymic name emails array no Maximum 10 addresses Contact email E-mail should be unique for a list. phone_numbers array yes Maximum 10 addresses List of contact numbers in the format E164 Number should be unique for a list. personal_manager_id number no List of contact numbers in the format E164 Number should be unique for a list. personal_manager_id number no Personal manager is an employee, responsible for customer relations. When you create a scenario \"Redirection to a personal manager\" calls from customers will reach personal managers without any additional settings of a calling subscriber's phone numbers list or employees phone numbers list. To get a list of employees use the method \"get.employees\" organization_id number no Unique ID of an organization. To get a list of organizations use the method \"get.contact_organizations\" . groups array no For a List of unique group IDs a contact belongs to refer to the method \"get.group_contacts\" JSON request structure { \"jsonrpc\":\"2.0\", \"method\":\"update.contacts\", \"id\":\"number\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\", \"last_name\":\"string\", \"first_name\":\"string\", \"patronymic\":\"string\", \"emails\":[ \"email\" ], \"groups\":[ \"group_id\" ], \"phone_numbers\":[ \"number\" ], \"personal_manager_id\":\"number\", \"organization_id\":\"number\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } } List of returning errors Refer to \"List of errors for methods with the verb update\"","title":"Update contacts"},{"location":"contact/update_contacts/#updating-contact-in-address-book","text":"Method update.contacts Description Updating contact in address book Who has access Agent, Customer You can update partially. If you update a bulk of data the bulk will replace an existing one.","title":"Updating contact in address book"},{"location":"contact/update_contacts/#parameters-of-a-request","text":"Title Type Required Valid value Description access_token string yes Authentication session key id number yes Unique ID of a contact in address book user_id number no Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for the agent To access a list of customer users you need to use the method \"get.customer_users\" first_name string no Contact first name last_name string yes Contact last name patronymic string no Contact patronymic name emails array no Maximum 10 addresses Contact email E-mail should be unique for a list. phone_numbers array yes Maximum 10 addresses List of contact numbers in the format E164 Number should be unique for a list. personal_manager_id number no List of contact numbers in the format E164 Number should be unique for a list. personal_manager_id number no Personal manager is an employee, responsible for customer relations. When you create a scenario \"Redirection to a personal manager\" calls from customers will reach personal managers without any additional settings of a calling subscriber's phone numbers list or employees phone numbers list. To get a list of employees use the method \"get.employees\" organization_id number no Unique ID of an organization. To get a list of organizations use the method \"get.contact_organizations\" . groups array no For a List of unique group IDs a contact belongs to refer to the method \"get.group_contacts\"","title":"Parameters of a request"},{"location":"contact/update_contacts/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"method\":\"update.contacts\", \"id\":\"number\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\", \"last_name\":\"string\", \"first_name\":\"string\", \"patronymic\":\"string\", \"emails\":[ \"email\" ], \"groups\":[ \"group_id\" ], \"phone_numbers\":[ \"number\" ], \"personal_manager_id\":\"number\", \"organization_id\":\"number\" } }","title":"JSON request structure"},{"location":"contact/update_contacts/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } }","title":"JSON reply structure"},{"location":"contact/update_contacts/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb update\"","title":"List of returning errors"},{"location":"contact/update_group_contacts/","text":"Updating contact groups in address book Method update.group_contacts Description Updating contact groups in address book Who has access Agent, Customer You can update partially. If you update a bulk of data the bulk will replace an existing one. Parameters of a request Title Type Required Description access_token string yes Authentication session key id number yes Unique ID of a contacts group in address book user_id number no Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for the agent To access a list of customer users you need to use the method \"get.customer_users\" name string yes Name of contact groups members array no List of unique contact IDs that belong to a group. You can access contact list via the method \"get.contacts\" . JSON request structure { \"jsonrpc\":\"2.0\", \"method\":\"update.group_contacts\", \"id\":\"number\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\", \"name\":\"string\", \"members\":[ \"contact_id\" ] } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } } List of returning errors Refer to \"List of errors for methoda with the verb update\"","title":"Update group contacts"},{"location":"contact/update_group_contacts/#updating-contact-groups-in-address-book","text":"Method update.group_contacts Description Updating contact groups in address book Who has access Agent, Customer You can update partially. If you update a bulk of data the bulk will replace an existing one.","title":"Updating contact groups in address book"},{"location":"contact/update_group_contacts/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key id number yes Unique ID of a contacts group in address book user_id number no Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for the agent To access a list of customer users you need to use the method \"get.customer_users\" name string yes Name of contact groups members array no List of unique contact IDs that belong to a group. You can access contact list via the method \"get.contacts\" .","title":"Parameters of a request"},{"location":"contact/update_group_contacts/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"method\":\"update.group_contacts\", \"id\":\"number\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\", \"name\":\"string\", \"members\":[ \"contact_id\" ] } }","title":"JSON request structure"},{"location":"contact/update_group_contacts/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } }","title":"JSON reply structure"},{"location":"contact/update_group_contacts/#list-of-returning-errors","text":"Refer to \"List of errors for methoda with the verb update\"","title":"List of returning errors"},{"location":"customer/create_customers/","text":"Creating agent's customers Method create.customers Description Creating agent's customers Who has access Partner Parameters of a request Title Type Description Valid values Description access_token string yes Authentication session key name string yes Customer name description string no Description of a customer tariff_plan_id number yes Tariff plan unique ID. You can get a list of available tariff plans using the method \"get.partner_tariffs\" email string yes Customer email password string yes Minimal length is 8 symbol Customer password monthly_base_limit number no Monthly base limit. Value is in costs. monthly_base_notify_limit number no Threshold value of a monthly base limit. When you reach it, a notification is sent to the email specified in the parameter \"monthly_base_notify_email\" monthly_base_notify_emails array yes Maximum 5 emails Emails used to receive the notifications when a monthly base limit is reached monthly_calls_limit number no Monthly calls limit. Value is in calls count. monthly_calls_notify_limit number no Threshold value of monthly calls limit. When you reach it, a notification is sent to the email specified in the parameter \"monthly_calls_notify_email\" monthly_calls_notify_emails array yes Maximum 5 emails Emails used to receive notifications when a monthly calls limit is reached daily_calls_limit number no Daily calls limit. Value is in calls count. daily_calls_notify_limit number no Threshold value of a daily calls limit. When you reach it, a notification is sent to the email specified in the parameter \"daily_calls_notify_email\" daily_calls_notify_emails array yes Maximum 5 emails Emails used to receive notifications when a daily calls limit is reached Parameters of a reply Title Type Required Description id number yes Customer unique ID JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"create.customers\", \"params\":{ \"access_token\":\"string\", \"name\":\"string\", \"description\":\"string\", \"tariff_plan_id\":\"number\", \"email\":\"string\", \"password\":\"string\", \"monthly_base_limit\":\"number\", \"monthly_base_notify_limit\":\"number\", \"monthly_base_notify_emails\":[ \"item\" ], \"monthly_calls_limit\":\"number\", \"monthly_calls_notify_limit\":\"number\", \"monthly_calls_notify_emails\":[ \"item\" ], \"daily_calls_limit\":\"number\", \"daily_calls_notify_limit\":\"number\", \"daily_calls_notify_emails\":[ \"item\" ] } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"id\":\"number\" } } List of returning errors Refer to the section \"List of errors for methods with the verb create\"","title":"Create customers"},{"location":"customer/create_customers/#creating-agents-customers","text":"Method create.customers Description Creating agent's customers Who has access Partner","title":"Creating agent's customers"},{"location":"customer/create_customers/#parameters-of-a-request","text":"Title Type Description Valid values Description access_token string yes Authentication session key name string yes Customer name description string no Description of a customer tariff_plan_id number yes Tariff plan unique ID. You can get a list of available tariff plans using the method \"get.partner_tariffs\" email string yes Customer email password string yes Minimal length is 8 symbol Customer password monthly_base_limit number no Monthly base limit. Value is in costs. monthly_base_notify_limit number no Threshold value of a monthly base limit. When you reach it, a notification is sent to the email specified in the parameter \"monthly_base_notify_email\" monthly_base_notify_emails array yes Maximum 5 emails Emails used to receive the notifications when a monthly base limit is reached monthly_calls_limit number no Monthly calls limit. Value is in calls count. monthly_calls_notify_limit number no Threshold value of monthly calls limit. When you reach it, a notification is sent to the email specified in the parameter \"monthly_calls_notify_email\" monthly_calls_notify_emails array yes Maximum 5 emails Emails used to receive notifications when a monthly calls limit is reached daily_calls_limit number no Daily calls limit. Value is in calls count. daily_calls_notify_limit number no Threshold value of a daily calls limit. When you reach it, a notification is sent to the email specified in the parameter \"daily_calls_notify_email\" daily_calls_notify_emails array yes Maximum 5 emails Emails used to receive notifications when a daily calls limit is reached","title":"Parameters of a request"},{"location":"customer/create_customers/#parameters-of-a-reply","text":"Title Type Required Description id number yes Customer unique ID","title":"Parameters of a reply"},{"location":"customer/create_customers/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"create.customers\", \"params\":{ \"access_token\":\"string\", \"name\":\"string\", \"description\":\"string\", \"tariff_plan_id\":\"number\", \"email\":\"string\", \"password\":\"string\", \"monthly_base_limit\":\"number\", \"monthly_base_notify_limit\":\"number\", \"monthly_base_notify_emails\":[ \"item\" ], \"monthly_calls_limit\":\"number\", \"monthly_calls_notify_limit\":\"number\", \"monthly_calls_notify_emails\":[ \"item\" ], \"daily_calls_limit\":\"number\", \"daily_calls_notify_limit\":\"number\", \"daily_calls_notify_emails\":[ \"item\" ] } }","title":"JSON request structure"},{"location":"customer/create_customers/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"id\":\"number\" } }","title":"JSON reply structure"},{"location":"customer/create_customers/#list-of-returning-errors","text":"Refer to the section \"List of errors for methods with the verb create\"","title":"List of returning errors"},{"location":"customer/get_customer_users/","text":"Getting customer users list for API requests Method get.customer_users Description Getting a list of customer users for client area from under which requests to API are made. It is important to take into account whether or not a user has access rights. Who has access Partner Parameter of a request Title Type Required Description access_token string yes Authentication session key limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" Parameter of a reply Title Type Filtering Sorting Description id number yes User unique ID Is used as user_id in all customer methods login string User login description string Description of a user name string yes yes User name customer_id number yes yes User unique ID JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.customer_users\", \"params\":{ \"access_token\":\"string\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"name\":\"string\", \"description\":\"string\", \"login\":\"string\", \"customer_id\":\"number\" } ] } } List of returning errors Refer to the section \"List of errors for the methods with the verb get\"","title":"Get customer users"},{"location":"customer/get_customer_users/#getting-customer-users-list-for-api-requests","text":"Method get.customer_users Description Getting a list of customer users for client area from under which requests to API are made. It is important to take into account whether or not a user has access rights. Who has access Partner","title":"Getting customer users list for API requests"},{"location":"customer/get_customer_users/#parameter-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\"","title":"Parameter of a request"},{"location":"customer/get_customer_users/#parameter-of-a-reply","text":"Title Type Filtering Sorting Description id number yes User unique ID Is used as user_id in all customer methods login string User login description string Description of a user name string yes yes User name customer_id number yes yes User unique ID","title":"Parameter of a reply"},{"location":"customer/get_customer_users/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.customer_users\", \"params\":{ \"access_token\":\"string\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"customer/get_customer_users/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"name\":\"string\", \"description\":\"string\", \"login\":\"string\", \"customer_id\":\"number\" } ] } }","title":"JSON reply structure"},{"location":"customer/get_customer_users/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb get\"","title":"List of returning errors"},{"location":"customer/get_customers/","text":"If you are not an agent, you don't have access to the methods. Getting agent's customers Method get.customers Description Getting agent's customers Who has access Partner Archive customers are not displayed in the list Parameters of a request Title Type Required Description access_token string yes Authentication session key limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries' \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" Parameters of a reply Title Type Valid value Filtering Sorting Description id number yes Customer unique ID name string yes Customer name description string Description of a customer creation_date_time iso8601 YYYY-MM-DD hh:mm:ss yes Time and date when a customer was created status enum waiting active manual_lock limit_lock debt_lock yes yes Customer status status_change_date_time iso8601 YYYY-MM-DD hh:mm:ss Time and date when a status was changed monthly_base_limit number Monthly base limit. Value is in costs. monthly_base_notify_limit number Threshold value of a monthly base limit. When you reach it, a notification is sent to the email specified in the parameter \"monthly_base_notify_email\" monthly_base_notify_emails array Emails used to receive notifications when a monthly base linit is reached monthly_calls_limit number Monthly calls limits. Value is in calls count. monthly_calls_notify_limit number Threshold value of a monthly calls limit. When you reach it, a notification is sent to the email specified in the parameter \"monthly_calls_notify_email\" monthly_calls_notify_emails array Emails used to receive the notifications when a monthly calls limit is reached daily_calls_limit number Daily calls limit. Value is in calls count. daily_calls_notify_limit number Threshold value of a daily calls limit. When you reach it, a notification is sent to the email specified in the parameter \"daily_calls_notify_email\" daily_calls_notify_emails array Emails used to receive the notifications when a daily calls limit is reached List of customer websites sites array List of customer websites site_id number Website unique ID site_domain_name string Website domain name Tariff plan tariff_plan_id number yes Tariff plan unique ID tariff_plan_name string yes Tariff plan name JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.customers\", \"params\":{ \"access_token\":\"string\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"name\":\"string\", \"description\":\"string\", \"creation_date_time\":\"iso8601\", \"status\":\"enum\", \"status_change_date_time\":\"iso8601\", \"tariff_plan_id\":\"number\", \"tariff_plan_name\":\"string\", \"monthly_base_limit\":\"number\", \"monthly_base_notify_limit\":\"number\", \"monthly_base_notify_emails\":[ \"item\" ], \"monthly_calls_limit\":\"number\", \"monthly_calls_notify_limit\":\"number\", \"monthly_calls_notify_emails\":[ \"item\" ], \"daily_calls_limit\":\"number\", \"daily_calls_notify_limit\":\"number\", \"daily_calls_notify_emails\":[ \"item\" ], \"sites\":[ { \"site_domain_name\":\"string\", \"site_id\":\"number\" } ] } ] } } List of returning errors Refer to the section \"List of errors for methods with the verb get\"","title":"Get customers"},{"location":"customer/get_customers/#getting-agents-customers","text":"Method get.customers Description Getting agent's customers Who has access Partner Archive customers are not displayed in the list","title":"Getting agent's customers"},{"location":"customer/get_customers/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries' \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\"","title":"Parameters of a request"},{"location":"customer/get_customers/#parameters-of-a-reply","text":"Title Type Valid value Filtering Sorting Description id number yes Customer unique ID name string yes Customer name description string Description of a customer creation_date_time iso8601 YYYY-MM-DD hh:mm:ss yes Time and date when a customer was created status enum waiting active manual_lock limit_lock debt_lock yes yes Customer status status_change_date_time iso8601 YYYY-MM-DD hh:mm:ss Time and date when a status was changed monthly_base_limit number Monthly base limit. Value is in costs. monthly_base_notify_limit number Threshold value of a monthly base limit. When you reach it, a notification is sent to the email specified in the parameter \"monthly_base_notify_email\" monthly_base_notify_emails array Emails used to receive notifications when a monthly base linit is reached monthly_calls_limit number Monthly calls limits. Value is in calls count. monthly_calls_notify_limit number Threshold value of a monthly calls limit. When you reach it, a notification is sent to the email specified in the parameter \"monthly_calls_notify_email\" monthly_calls_notify_emails array Emails used to receive the notifications when a monthly calls limit is reached daily_calls_limit number Daily calls limit. Value is in calls count. daily_calls_notify_limit number Threshold value of a daily calls limit. When you reach it, a notification is sent to the email specified in the parameter \"daily_calls_notify_email\" daily_calls_notify_emails array Emails used to receive the notifications when a daily calls limit is reached List of customer websites sites array List of customer websites site_id number Website unique ID site_domain_name string Website domain name Tariff plan tariff_plan_id number yes Tariff plan unique ID tariff_plan_name string yes Tariff plan name","title":"Parameters of a reply"},{"location":"customer/get_customers/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.customers\", \"params\":{ \"access_token\":\"string\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"customer/get_customers/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"name\":\"string\", \"description\":\"string\", \"creation_date_time\":\"iso8601\", \"status\":\"enum\", \"status_change_date_time\":\"iso8601\", \"tariff_plan_id\":\"number\", \"tariff_plan_name\":\"string\", \"monthly_base_limit\":\"number\", \"monthly_base_notify_limit\":\"number\", \"monthly_base_notify_emails\":[ \"item\" ], \"monthly_calls_limit\":\"number\", \"monthly_calls_notify_limit\":\"number\", \"monthly_calls_notify_emails\":[ \"item\" ], \"daily_calls_limit\":\"number\", \"daily_calls_notify_limit\":\"number\", \"daily_calls_notify_emails\":[ \"item\" ], \"sites\":[ { \"site_domain_name\":\"string\", \"site_id\":\"number\" } ] } ] } }","title":"JSON reply structure"},{"location":"customer/get_customers/#list-of-returning-errors","text":"Refer to the section \"List of errors for methods with the verb get\"","title":"List of returning errors"},{"location":"customer/get_tariff_plans/","text":"Getting tariff plans available to an agent Method get.tariff_plans Description Getting tariff plans available to an agent Who has access Agent Parameters of a request Title Type Required Description access_token string yes Authentication session key limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" Parameters of a reply Title Type Required Description id number yes Tariff plan unique ID name string yes Tariff plan name JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.tariff_plans\", \"params\":{ \"access_token\":\"string\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"name\":\"string\" } ] } } List of returning errors Refer to the section \"List of errors for the methods with the verb get\"","title":"Get tariff plans"},{"location":"customer/get_tariff_plans/#getting-tariff-plans-available-to-an-agent","text":"Method get.tariff_plans Description Getting tariff plans available to an agent Who has access Agent","title":"Getting tariff plans available to an agent"},{"location":"customer/get_tariff_plans/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\"","title":"Parameters of a request"},{"location":"customer/get_tariff_plans/#parameters-of-a-reply","text":"Title Type Required Description id number yes Tariff plan unique ID name string yes Tariff plan name","title":"Parameters of a reply"},{"location":"customer/get_tariff_plans/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.tariff_plans\", \"params\":{ \"access_token\":\"string\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"customer/get_tariff_plans/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"name\":\"string\" } ] } }","title":"JSON reply structure"},{"location":"customer/get_tariff_plans/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb get\"","title":"List of returning errors"},{"location":"customer/update_customer_status/","text":"Updating agent's customer status Method update.customer_status Description Updating agent's customer status Who has access Partner Parameters of request Title Type Required Valid values Description access_token string yes Authentication session key customer_id number yes Customer unique ID status enum yes active , archive , manual_lock New status. You can only activate customers who have status \"waiting\" . You can only block customers who have status \"active\" . You can only archive customers who have status \"manual_lock\" You can only unblock customers who have status \"manual_lock\" JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"update.customer_status\", \"params\":{ \"access_token\":\"string\", \"customer_id\":\"number\", \"status\":\"enum\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } } List of returning errors Text Code Mnemonics Description An attempt was made to use a status that is not correct in this state -32602 invalid_state Status is incorrect for a customer at present state Refer to the section \"List of errors for the methods with the verb update\"","title":"Update customer status"},{"location":"customer/update_customer_status/#updating-agents-customer-status","text":"Method update.customer_status Description Updating agent's customer status Who has access Partner","title":"Updating agent's customer status"},{"location":"customer/update_customer_status/#parameters-of-request","text":"Title Type Required Valid values Description access_token string yes Authentication session key customer_id number yes Customer unique ID status enum yes active , archive , manual_lock New status. You can only activate customers who have status \"waiting\" . You can only block customers who have status \"active\" . You can only archive customers who have status \"manual_lock\" You can only unblock customers who have status \"manual_lock\"","title":"Parameters of request"},{"location":"customer/update_customer_status/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"update.customer_status\", \"params\":{ \"access_token\":\"string\", \"customer_id\":\"number\", \"status\":\"enum\" } }","title":"JSON request structure"},{"location":"customer/update_customer_status/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } }","title":"JSON reply structure"},{"location":"customer/update_customer_status/#list-of-returning-errors","text":"Text Code Mnemonics Description An attempt was made to use a status that is not correct in this state -32602 invalid_state Status is incorrect for a customer at present state Refer to the section \"List of errors for the methods with the verb update\"","title":"List of returning errors"},{"location":"customer/update_customer_tariff_plans/","text":"Updating agent's customer tariff plan Method update.customer_tariff_plans Description Updating agent's customer tariff plan Who has access Partner Parameters of a request Title Type Required Description access_token string yes Authentication session key customer_id number yes Customer unique ID tariff_plan_id number yes Tariff plan unique ID. You can get a list of available tariff plans using the method \"get.partner_tariffs\" JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"update.customer_tariff_plans\", \"params\":{ \"access_token\":\"string\", \"customer_id\":\"number\", \"tariff_plan_id\":\"number\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } } List of returning errors Refer to the section \"List of errors for the methods with the verb update\"","title":"Update customer tariff plans"},{"location":"customer/update_customer_tariff_plans/#updating-agents-customer-tariff-plan","text":"Method update.customer_tariff_plans Description Updating agent's customer tariff plan Who has access Partner","title":"Updating agent's customer tariff plan"},{"location":"customer/update_customer_tariff_plans/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key customer_id number yes Customer unique ID tariff_plan_id number yes Tariff plan unique ID. You can get a list of available tariff plans using the method \"get.partner_tariffs\"","title":"Parameters of a request"},{"location":"customer/update_customer_tariff_plans/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"update.customer_tariff_plans\", \"params\":{ \"access_token\":\"string\", \"customer_id\":\"number\", \"tariff_plan_id\":\"number\" } }","title":"JSON request structure"},{"location":"customer/update_customer_tariff_plans/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } }","title":"JSON reply structure"},{"location":"customer/update_customer_tariff_plans/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb update\"","title":"List of returning errors"},{"location":"customer/update_customers/","text":"Updating agent's customers parameters Method update.customers Description Updating agent's customers parameters Who has access Partner You can update parameters partially. If a data bulk is updated, the transferred bulk will replace an existing one. Parameters of a request Title Type Required Valid values Description access_token string yes Authentication session key id number yes Customer unique ID name string yes Customer name description string no Description of a customer monthly_base_limit number no Monthly base limit. Value is in costs. monthly_base_notify_limit number no Threshold value of a monthly base limit. When you reach it, a notification is sent to the email specified in the parameter \"monthly_base_notify_email\" monthly_base_notify_emails array yes Maximum 5 emails Emails used to receive the notifications when a monthly base limit is reached monthly_calls_limit number no Monthly calls limit. Value is in calls count. monthly_calls_notify_limit number no Threshold value of monthly calls limit. When you reach it, a notification is sent to the email specified in the parameter \"monthly_calls_notify_email\" monthly_calls_notify_emails array yes Maximum 5 emails Emails used to receive notifications when a monthly calls limit is reached daily_calls_limit number no Daily calls limit. Value is in calls count. daily_calls_notify_limit number no Threshold value of a daily calls limit. When you reach it, a notification is sent to the email specified in the parameter \"daily_calls_notify_email\" daily_calls_notify_emails array yes Maximum 5 emails Emails used to receive notifications when a daily calls limit is reached JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"update.customers\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"name\":\"string\", \"description\":\"string\", \"monthly_base_limit\":\"number\", \"monthly_base_notify_limit\":\"number\", \"monthly_base_notify_emails\":[ \"item\" ], \"monthly_calls_limit\":\"number\", \"monthly_calls_notify_limit\":\"number\", \"monthly_calls_notify_emails\":[ \"item\" ], \"daily_calls_limit\":\"number\", \"daily_calls_notify_limit\":\"number\", \"daily_calls_notify_emails\":[ \"item\" ] } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } } List of returning errors Refer to the section \"List of errors for the methods with the verb update\"","title":"Update customers"},{"location":"customer/update_customers/#updating-agents-customers-parameters","text":"Method update.customers Description Updating agent's customers parameters Who has access Partner You can update parameters partially. If a data bulk is updated, the transferred bulk will replace an existing one.","title":"Updating agent's customers parameters"},{"location":"customer/update_customers/#parameters-of-a-request","text":"Title Type Required Valid values Description access_token string yes Authentication session key id number yes Customer unique ID name string yes Customer name description string no Description of a customer monthly_base_limit number no Monthly base limit. Value is in costs. monthly_base_notify_limit number no Threshold value of a monthly base limit. When you reach it, a notification is sent to the email specified in the parameter \"monthly_base_notify_email\" monthly_base_notify_emails array yes Maximum 5 emails Emails used to receive the notifications when a monthly base limit is reached monthly_calls_limit number no Monthly calls limit. Value is in calls count. monthly_calls_notify_limit number no Threshold value of monthly calls limit. When you reach it, a notification is sent to the email specified in the parameter \"monthly_calls_notify_email\" monthly_calls_notify_emails array yes Maximum 5 emails Emails used to receive notifications when a monthly calls limit is reached daily_calls_limit number no Daily calls limit. Value is in calls count. daily_calls_notify_limit number no Threshold value of a daily calls limit. When you reach it, a notification is sent to the email specified in the parameter \"daily_calls_notify_email\" daily_calls_notify_emails array yes Maximum 5 emails Emails used to receive notifications when a daily calls limit is reached","title":"Parameters of a request"},{"location":"customer/update_customers/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"update.customers\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"name\":\"string\", \"description\":\"string\", \"monthly_base_limit\":\"number\", \"monthly_base_notify_limit\":\"number\", \"monthly_base_notify_emails\":[ \"item\" ], \"monthly_calls_limit\":\"number\", \"monthly_calls_notify_limit\":\"number\", \"monthly_calls_notify_emails\":[ \"item\" ], \"daily_calls_limit\":\"number\", \"daily_calls_notify_limit\":\"number\", \"daily_calls_notify_emails\":[ \"item\" ] } }","title":"JSON request structure"},{"location":"customer/update_customers/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } }","title":"JSON reply structure"},{"location":"customer/update_customers/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb update\"","title":"List of returning errors"},{"location":"employee/create_employee_custom/","text":"Creating employees Method create.employee Description Creating employee Who has access Customer Parameters of a request Title Type Required Valid value Descriprion access_token string yes Authentication session key last_name string yes Employee name group_id number yes Employee permission group number_capacity_id number no Virtual number displayed during an outgoing call. If a number_capacity_id is not transferred, a random number will be selected from all virtual numbers from app number_capacity_group_ids array no Employee CallerID groups is_use_custom_random_number_capacity_usage_rule boolean no If transferred true , a random number will be selected from all CallerID groups available to the employee (number_capacity_id will be ignored) short_phone string no Employee short phone Parameters of a reply Title Type Required Description id number yes Employee's unique ID login string yes Employee's login password string yes Employee's password JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"create.employees\", \"params\":{ \"access_token\":\"string\", \"last_name\":\"string\", \"group_id\":\"number\", \"number_capacity_group_ids\": [ \"number\" ], \"number_capacity_id\":\"number\", \"is_use_custom_random_number_capacity_usage_rule\":\"boolean\", \"short_phone\":\"string\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"id\":\"number\", \"login\":\"string\", \"password\":\"string\" } } List of returning errors Refer to \"List of errors for methods with the verb create\"","title":"Create employee custom"},{"location":"employee/create_employee_custom/#creating-employees","text":"Method create.employee Description Creating employee Who has access Customer","title":"Creating employees"},{"location":"employee/create_employee_custom/#parameters-of-a-request","text":"Title Type Required Valid value Descriprion access_token string yes Authentication session key last_name string yes Employee name group_id number yes Employee permission group number_capacity_id number no Virtual number displayed during an outgoing call. If a number_capacity_id is not transferred, a random number will be selected from all virtual numbers from app number_capacity_group_ids array no Employee CallerID groups is_use_custom_random_number_capacity_usage_rule boolean no If transferred true , a random number will be selected from all CallerID groups available to the employee (number_capacity_id will be ignored) short_phone string no Employee short phone","title":"Parameters of a request"},{"location":"employee/create_employee_custom/#parameters-of-a-reply","text":"Title Type Required Description id number yes Employee's unique ID login string yes Employee's login password string yes Employee's password","title":"Parameters of a reply"},{"location":"employee/create_employee_custom/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"create.employees\", \"params\":{ \"access_token\":\"string\", \"last_name\":\"string\", \"group_id\":\"number\", \"number_capacity_group_ids\": [ \"number\" ], \"number_capacity_id\":\"number\", \"is_use_custom_random_number_capacity_usage_rule\":\"boolean\", \"short_phone\":\"string\" } }","title":"JSON request structure"},{"location":"employee/create_employee_custom/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"id\":\"number\", \"login\":\"string\", \"password\":\"string\" } }","title":"JSON reply structure"},{"location":"employee/create_employee_custom/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb create\"","title":"List of returning errors"},{"location":"employee/create_employee_positions/","text":"Creating employees positions Method create.employee_positions Description Creating employees positions Who has access Agent, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for an agent To get a list of customer users use the method \"get.customer_users\" name string yes Position title Parameters of a reply Title Type Required Description id number yes Position ID JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"create.employee_positions\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"name\":\"string\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"id\":\"number\" } } List of returning errors Refer to \"List of errors for methods with the verb create\"","title":"Create employee positions"},{"location":"employee/create_employee_positions/#creating-employees-positions","text":"Method create.employee_positions Description Creating employees positions Who has access Agent, Customer","title":"Creating employees positions"},{"location":"employee/create_employee_positions/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for an agent To get a list of customer users use the method \"get.customer_users\" name string yes Position title","title":"Parameters of a request"},{"location":"employee/create_employee_positions/#parameters-of-a-reply","text":"Title Type Required Description id number yes Position ID","title":"Parameters of a reply"},{"location":"employee/create_employee_positions/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"create.employee_positions\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"name\":\"string\" } }","title":"JSON request structure"},{"location":"employee/create_employee_positions/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"id\":\"number\" } }","title":"JSON reply structure"},{"location":"employee/create_employee_positions/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb create\"","title":"List of returning errors"},{"location":"employee/create_employees/","text":"Creating employees Method create.employees Description Creating employees Who has access Agent, Customer Parameters of a request Title Type Required Valid value Descriprion access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for an agent To get a list of customer users use the method \"get.customer_users\" first_name string no Employee first name last_name string yes Employee last name patronymic string no Employee patronymic name status enum no available break do_not_disturb not_at_workplace not_at_work unknown Employee status available - Available break - On a break do_not_disturb - Do not disturb not_at_workplace - Not at workplace not_at_work - Not at work unknown - Unknown allowed_in_call_types array no internal external Types of incoming calls allowed to an employee internal - internal calls to company's employees external - external calls beyond the company allowed_out_call_types array no internal external Types of outgoing calls allowed to an employee internal - internal calls to company's employees external - external calls beyond the company email string no Employees email call_recording enum no all - for all calls; in - only incoming calls; out - only outgoing calls; off - switched off Default value is \"all\" . Status of call recording Depends on the component \"recording\" schedule_id number no Activity schedule calls_available boolean no true , false Parameter will be deleted shortly. Instead, use the parameters: allowed_in_call_types, allowed_out_call_types Default value is \"true\" . Availability for calls Coach coach object no Coach for an employee Depends on the component \"trainer\" coach_always_enabled boolean no true , false Default value is \"false\" . As you enable this option, all emloyee's calls will also be duplicated for his or hers coach. Value \"true\" can be set if the parameter \"coach_id\" is given. coach_id number yes Coach unique ID Groups an employee belongs to groups array no List of unique IDs of groups an employee belongs to. Phone numbers phone_numbers array yes 10 List of employee's phone numbers. It is important to know that when you create a new employee, his or hers number may already be attributed to another employee. In this case, when new parameters are set for this new number, they will be also updated for the existing number. phone_number string yes Employee's phone number. Its format may allow extension dialing, such as \"74955140578...2345\" , that is why the number may not comply with the standart E164. If SIP already exists, we do not identify it with the number. Instead we just add the number as a PSTN number, i.e. a usual number. channels_count number no from 1 to 150 Default value is \"1\" . Number of phone lines. dial_time number no From 1 to 100 Default value is \"60\" . Time for dialing. Value is in seconds. status enum no active , inactive Default value is \"active\" . Phone number status. Extension number extension object no Employee's extension number extension_phone_number string yes Maximum length is 5 Extension number extension_voice_mail_enabled boolean no true , false Default value is \"false\" . In case all the numbers in an employee's phone numbers list are busy, a caller can leave a voice message. extension_queue_enabled boolean no true , false Default value is \"false\" . In case all the numbers, attributed to an employee in a list, are busy, a caller can get in line for a redial to phone numbers in a list. Than, he or she will wait for the first number to become available. Whether an employee is a chat operator or not operator object not Workplace operator Depends on the component \"consultant\" operator_display_name string yes Operator's name as displayed in chats operator_login string yes Operator's login for the app \"Operator's workplace\" operator_password string yes Maximum length is 8 Operator's password for the app \"Operator's workplace\" operator_position_id number no Employee's position operator_offline_message_enabled boolean no true , false Default value is \"false\" . Authorized to process offline messages or not operator_invite_to_chat_enabled boolean no true , false Default value is \"false\" . Authorized to invite to join chats or not operator_chat_enabled boolean no true , false Default value is \"true\" . Authorized to participate in chats with visitors or not operator_sites array no List of websites unique IDs and addresses that have access to an employee. Parameters of a reply Title Type Required Description id number yes Employee's unique ID JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"create.employees\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"first_name\":\"string\", \"last_name\":\"string\", \"patronymic\":\"string\", \"status\": \"enum\", \"allowed_in_call_types\": \"array\", \"allowed_out_call_types\": \"array\", \"email\":\"string\", \"groups\":[ \"group_id\" ], \"call_recording\":\"enum\", \"calls_available\":\"boolean\", \"schedule_id\":\"number\", \"coach\":{ \"coach_always_enabled\":\"boolean\", \"coach_id\":\"number\" }, \"phone_numbers\":[ { \"phone_number\":\"string\", \"channels_count\":\"number\", \"dial_time\":\"number\", \"status\":\"enum\" } ], \"extension\":{ \"extension_phone_number\":\"string\", \"extension_voice_mail_enabled\":\"boolean\", \"extension_queue_enabled\":\"boolean\" }, \"operator\":{ \"operator_login\":\"string\", \"operator_display_name\": \"string\", \"operator_password\":\"string\", \"operator_position_id\":\"number\", \"operator_offline_message_enabled\":\"boolean\", \"operator_invite_to_chat_enabled\":\"boolean\", \"operator_chat_enabled\":\"boolean\", \"operator_sites\":[ \"site_id\" ] } } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"id\":\"number\" } } List of returning errors Refer to \"List of errors for methods with the verb create\"","title":"Create employees"},{"location":"employee/create_employees/#creating-employees","text":"Method create.employees Description Creating employees Who has access Agent, Customer","title":"Creating employees"},{"location":"employee/create_employees/#parameters-of-a-request","text":"Title Type Required Valid value Descriprion access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for an agent To get a list of customer users use the method \"get.customer_users\" first_name string no Employee first name last_name string yes Employee last name patronymic string no Employee patronymic name status enum no available break do_not_disturb not_at_workplace not_at_work unknown Employee status available - Available break - On a break do_not_disturb - Do not disturb not_at_workplace - Not at workplace not_at_work - Not at work unknown - Unknown allowed_in_call_types array no internal external Types of incoming calls allowed to an employee internal - internal calls to company's employees external - external calls beyond the company allowed_out_call_types array no internal external Types of outgoing calls allowed to an employee internal - internal calls to company's employees external - external calls beyond the company email string no Employees email call_recording enum no all - for all calls; in - only incoming calls; out - only outgoing calls; off - switched off Default value is \"all\" . Status of call recording Depends on the component \"recording\" schedule_id number no Activity schedule calls_available boolean no true , false Parameter will be deleted shortly. Instead, use the parameters: allowed_in_call_types, allowed_out_call_types Default value is \"true\" . Availability for calls Coach coach object no Coach for an employee Depends on the component \"trainer\" coach_always_enabled boolean no true , false Default value is \"false\" . As you enable this option, all emloyee's calls will also be duplicated for his or hers coach. Value \"true\" can be set if the parameter \"coach_id\" is given. coach_id number yes Coach unique ID Groups an employee belongs to groups array no List of unique IDs of groups an employee belongs to. Phone numbers phone_numbers array yes 10 List of employee's phone numbers. It is important to know that when you create a new employee, his or hers number may already be attributed to another employee. In this case, when new parameters are set for this new number, they will be also updated for the existing number. phone_number string yes Employee's phone number. Its format may allow extension dialing, such as \"74955140578...2345\" , that is why the number may not comply with the standart E164. If SIP already exists, we do not identify it with the number. Instead we just add the number as a PSTN number, i.e. a usual number. channels_count number no from 1 to 150 Default value is \"1\" . Number of phone lines. dial_time number no From 1 to 100 Default value is \"60\" . Time for dialing. Value is in seconds. status enum no active , inactive Default value is \"active\" . Phone number status. Extension number extension object no Employee's extension number extension_phone_number string yes Maximum length is 5 Extension number extension_voice_mail_enabled boolean no true , false Default value is \"false\" . In case all the numbers in an employee's phone numbers list are busy, a caller can leave a voice message. extension_queue_enabled boolean no true , false Default value is \"false\" . In case all the numbers, attributed to an employee in a list, are busy, a caller can get in line for a redial to phone numbers in a list. Than, he or she will wait for the first number to become available. Whether an employee is a chat operator or not operator object not Workplace operator Depends on the component \"consultant\" operator_display_name string yes Operator's name as displayed in chats operator_login string yes Operator's login for the app \"Operator's workplace\" operator_password string yes Maximum length is 8 Operator's password for the app \"Operator's workplace\" operator_position_id number no Employee's position operator_offline_message_enabled boolean no true , false Default value is \"false\" . Authorized to process offline messages or not operator_invite_to_chat_enabled boolean no true , false Default value is \"false\" . Authorized to invite to join chats or not operator_chat_enabled boolean no true , false Default value is \"true\" . Authorized to participate in chats with visitors or not operator_sites array no List of websites unique IDs and addresses that have access to an employee.","title":"Parameters of a request"},{"location":"employee/create_employees/#parameters-of-a-reply","text":"Title Type Required Description id number yes Employee's unique ID","title":"Parameters of a reply"},{"location":"employee/create_employees/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"create.employees\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"first_name\":\"string\", \"last_name\":\"string\", \"patronymic\":\"string\", \"status\": \"enum\", \"allowed_in_call_types\": \"array\", \"allowed_out_call_types\": \"array\", \"email\":\"string\", \"groups\":[ \"group_id\" ], \"call_recording\":\"enum\", \"calls_available\":\"boolean\", \"schedule_id\":\"number\", \"coach\":{ \"coach_always_enabled\":\"boolean\", \"coach_id\":\"number\" }, \"phone_numbers\":[ { \"phone_number\":\"string\", \"channels_count\":\"number\", \"dial_time\":\"number\", \"status\":\"enum\" } ], \"extension\":{ \"extension_phone_number\":\"string\", \"extension_voice_mail_enabled\":\"boolean\", \"extension_queue_enabled\":\"boolean\" }, \"operator\":{ \"operator_login\":\"string\", \"operator_display_name\": \"string\", \"operator_password\":\"string\", \"operator_position_id\":\"number\", \"operator_offline_message_enabled\":\"boolean\", \"operator_invite_to_chat_enabled\":\"boolean\", \"operator_chat_enabled\":\"boolean\", \"operator_sites\":[ \"site_id\" ] } } }","title":"JSON request structure"},{"location":"employee/create_employees/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"id\":\"number\" } }","title":"JSON reply structure"},{"location":"employee/create_employees/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb create\"","title":"List of returning errors"},{"location":"employee/create_group_employees/","text":"Creating groups of employees Method create.group_employees Description Creating groups of employees Who has access Agent, Customer Parameters of a request Title Type Required Valid value Descriprion access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for an agent To get a list of customer users use the method \"get.customer_users\" name string yes Group name List of employees in a group members array no List of unique IDs of employees, that belong to a group Group extension number settings group_phone_number string no Maximum length 5 Group extension number Depends on the component \"va\" queue_enabled boolean no Default value is \"false\" . In case all the numbers, attributed to a group, are busy, a caller can get in line for a redial to phone numbers in a list. Than, he or she will wait for the first number to become available. Depends on the component \"va\" channels_count number no From 1 to 199 Default value is 1 . Number of simultaneous channels when dialing Depends on the component \"va\" Parameters of a reply Title Type Required Description id number yes Group inique ID JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"create.group_employees\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"name\":\"string\", \"members\":[ \"employee_id\" ], \"group_phone_number\":\"string\", \"queue_enabled\":\"boolean\", \"channels_count\":\"number\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"id\":\"number\" } } List of returning errors Refer to \"List of errors for methods with the verb create\"","title":"Create group employees"},{"location":"employee/create_group_employees/#creating-groups-of-employees","text":"Method create.group_employees Description Creating groups of employees Who has access Agent, Customer","title":"Creating groups of employees"},{"location":"employee/create_group_employees/#parameters-of-a-request","text":"Title Type Required Valid value Descriprion access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for an agent To get a list of customer users use the method \"get.customer_users\" name string yes Group name List of employees in a group members array no List of unique IDs of employees, that belong to a group Group extension number settings group_phone_number string no Maximum length 5 Group extension number Depends on the component \"va\" queue_enabled boolean no Default value is \"false\" . In case all the numbers, attributed to a group, are busy, a caller can get in line for a redial to phone numbers in a list. Than, he or she will wait for the first number to become available. Depends on the component \"va\" channels_count number no From 1 to 199 Default value is 1 . Number of simultaneous channels when dialing Depends on the component \"va\"","title":"Parameters of a request"},{"location":"employee/create_group_employees/#parameters-of-a-reply","text":"Title Type Required Description id number yes Group inique ID","title":"Parameters of a reply"},{"location":"employee/create_group_employees/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"create.group_employees\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"name\":\"string\", \"members\":[ \"employee_id\" ], \"group_phone_number\":\"string\", \"queue_enabled\":\"boolean\", \"channels_count\":\"number\" } }","title":"JSON request structure"},{"location":"employee/create_group_employees/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"id\":\"number\" } }","title":"JSON reply structure"},{"location":"employee/create_group_employees/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb create\"","title":"List of returning errors"},{"location":"employee/delete_employee_custom/","text":"Deleting an employee Method delete.employee_custom Description Deleting an employee Who has access Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key id number yes Employee's unique ID JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"delete.employees\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } } List of returning errors Refer to \"List of errors for methods with the verb delete\"","title":"Delete employee custom"},{"location":"employee/delete_employee_custom/#deleting-an-employee","text":"Method delete.employee_custom Description Deleting an employee Who has access Customer","title":"Deleting an employee"},{"location":"employee/delete_employee_custom/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key id number yes Employee's unique ID","title":"Parameters of a request"},{"location":"employee/delete_employee_custom/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"delete.employees\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\" } }","title":"JSON request structure"},{"location":"employee/delete_employee_custom/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } }","title":"JSON reply structure"},{"location":"employee/delete_employee_custom/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb delete\"","title":"List of returning errors"},{"location":"employee/delete_employee_positions/","text":"Deleting employees positions Methods delete.employee_positions Description Deleting employees positions Who has access Agent, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key id number yes Unique ID of an employee's position user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for an agent To get a list of customer users use the method \"get.customer_users\" JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"delete.employee_positions\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } } List of returning errors Refer to \"List of errors for methods with the verb delete\"","title":"Delete employee positions"},{"location":"employee/delete_employee_positions/#deleting-employees-positions","text":"Methods delete.employee_positions Description Deleting employees positions Who has access Agent, Customer","title":"Deleting employees positions"},{"location":"employee/delete_employee_positions/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key id number yes Unique ID of an employee's position user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for an agent To get a list of customer users use the method \"get.customer_users\"","title":"Parameters of a request"},{"location":"employee/delete_employee_positions/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"delete.employee_positions\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\" } }","title":"JSON request structure"},{"location":"employee/delete_employee_positions/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } }","title":"JSON reply structure"},{"location":"employee/delete_employee_positions/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb delete\"","title":"List of returning errors"},{"location":"employee/delete_employees/","text":"Deleting an employee Method delete.employees Description Deleting an employee Who has access Agent, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key id number yes Employee's unique ID user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for an agent To get a list of customer users use the method \"get.customer_users\" JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"delete.employees\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } } List of returning errors Refer to \"List of errors for methods with the verb delete\"","title":"Delete employees"},{"location":"employee/delete_employees/#deleting-an-employee","text":"Method delete.employees Description Deleting an employee Who has access Agent, Customer","title":"Deleting an employee"},{"location":"employee/delete_employees/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key id number yes Employee's unique ID user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for an agent To get a list of customer users use the method \"get.customer_users\"","title":"Parameters of a request"},{"location":"employee/delete_employees/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"delete.employees\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\" } }","title":"JSON request structure"},{"location":"employee/delete_employees/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } }","title":"JSON reply structure"},{"location":"employee/delete_employees/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb delete\"","title":"List of returning errors"},{"location":"employee/delete_group_employees/","text":"Deleting groups of employees Method delete.group_employees Description Deleting groups of employees Who has access Agent, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key id number yes Group ID user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for an agent To get a list of customer users use the method \"get.customer_users\" JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"delete.group_employees\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } } List of returning errors Refer to \"List of errors for methods with the verb delete\"","title":"Delete group employees"},{"location":"employee/delete_group_employees/#deleting-groups-of-employees","text":"Method delete.group_employees Description Deleting groups of employees Who has access Agent, Customer","title":"Deleting groups of employees"},{"location":"employee/delete_group_employees/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key id number yes Group ID user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for an agent To get a list of customer users use the method \"get.customer_users\"","title":"Parameters of a request"},{"location":"employee/delete_group_employees/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"delete.group_employees\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\" } }","title":"JSON request structure"},{"location":"employee/delete_group_employees/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } }","title":"JSON reply structure"},{"location":"employee/delete_group_employees/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb delete\"","title":"List of returning errors"},{"location":"employee/get_employee_positions/","text":"Getting the list of employees positions Method get.employee_positions Description Getting the list of employees positions Who has access Agent, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for an agent To get a list of customer users use the method \"get.customer_users\" limit number no Number of returning inquiries. Refer to \"Paging\" offset number no Offset that defines inquiries from which number to return, \"limit\" of inquiries. Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filtering criteria\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" Parameters of a reply Name Type Filtering Sorting Description id number yes Unique ID of employee's position name string yes yes Employee's position title JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.employee_positions\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"name\":\"string\" } ] } } List of returning errors Refer to \"List of errors for methods with the verb get\"","title":"Get employee positions"},{"location":"employee/get_employee_positions/#getting-the-list-of-employees-positions","text":"Method get.employee_positions Description Getting the list of employees positions Who has access Agent, Customer","title":"Getting the list of employees positions"},{"location":"employee/get_employee_positions/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for an agent To get a list of customer users use the method \"get.customer_users\" limit number no Number of returning inquiries. Refer to \"Paging\" offset number no Offset that defines inquiries from which number to return, \"limit\" of inquiries. Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filtering criteria\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\"","title":"Parameters of a request"},{"location":"employee/get_employee_positions/#parameters-of-a-reply","text":"Name Type Filtering Sorting Description id number yes Unique ID of employee's position name string yes yes Employee's position title","title":"Parameters of a reply"},{"location":"employee/get_employee_positions/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.employee_positions\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"employee/get_employee_positions/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"name\":\"string\" } ] } }","title":"JSON reply structure"},{"location":"employee/get_employee_positions/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb get\"","title":"List of returning errors"},{"location":"employee/get_employees/","text":"Getting employees list Method get.employees Description Getting employees list Who has access Agent, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for an agent To get a list of customer users use the method \"get.customer_users\" limit number no Number of returning inquiries. Refer to \"Paging\" offset number no Offset that defines inquiries from which number to return, \"limit\" of inquiries. Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filtering criteria\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" Parameters of a reply Title Type Valid value Filtering Sorting Description id number yes Unique employee ID first_name string yes yes Employee's first name last_name string yes yes Employee's last name patronymic string yes Employee's patronymic full_name string yes yes Employee's full name status enum available break do_not_disturb not_at_workplace not_at_work unknown yes Employee's status available - Available break - On a break do_not_disturb - Do not disturb not_at_workplace - Not at workplace not_at_work - Not at work unknown - Unknown allowed_in_call_types array internal external yes Types of incoming calls allowed to an employee internal - internal calls from company's employees/li> external - external calls from clients allowed_out_call_types array internal external yes Types of outgoing calls allowed to an employee internal - internal calls to company's employees external - external calls beyond the company email string yes Employee's email call_recording enum all - for all calls; in - only incoming calls; out - only outgoing calls; off - switched off yes Call recording status calls_available boolean true , false yes yes This parameter will be deleted soon. Instead, use the parameters: allowed_in_call_types, allowed_out_call_types Avaialibity for calls schedule_id number yes Schedule ID schedule_name string yes Schedule name Coach coach object yes Coach for an employee coach_full_name string Full name of a coach coach_id number Unique ID of a coach You can choose it from an employees list coach_always_enabled boolean true , false As you enable this option, all emloyee's calls will also be duplicated for his or hers coach. Employees groups groups array yes Groups an employee belongs to group_id number Group ID group_name string Group name Phone numbers phone_numbers array 10 yes List of employee's phone numbers. List of numbers should be sorted as according to the order of priority. phone_number string Employee's phone number. Its format may allow extension dialing, such as \"74955140578...2345\" , that is why the number may not comply with the standart E164. If SIP already exists, we do not identify it with the number. Instead we just add the number as a PSTN number, i.e. a usual number. channels_count number From 1 to 150 Default value is \"1\" . Number of telephone lines dial_time number From 1 to 100 Default value is \"60\" . Time for dialing. Value is in seconds. status enum active , inactive Default value is \"active\" . Number status. Extension phone number extension object yes Extension phone number and its settings extension_phone_number string Maximum length is 5 Extension phone number extension_voice_mail_enabled boolean In case all the numbers in an employee's phone numbers list are busy, a caller can leave a voice message. extension_queue_enabled boolean In case all the numbers, attributed to an employee in a list, are busy, a caller can get in line for a redial to phone numbers in a list. Than, he or she will wait for the first number to become available. Employee is an operator of a chat operator object Operatot of a workplace operator_display_name string Operator's name in chat operator_login string Operator's login for the app \"Opeartor's workplace\" operator_position_id number Operator's job position ID operator_position_name string Operator's job position name operator_offline_message_enabled boolean Authorized to process offline messages or not operator_invite_to_chat_enabled boolean Authorized to invite to join chats or not operator_chat_enabled boolean Authorized to participate in chats with visitors or not operator_chats_available boolean true , false Available for chats Website operator_sites array List of websites unique IDs and addresses that have access to an operator site_id number Website ID site_domain_name string Website domain name without protocol - \"http://\" or \"https://\" . JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.employees\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"first_name\":\"string\", \"last_name\":\"string\", \"patronymic\":\"string\", \"full_name\":\"string\", \"email\":\"string\", \"status\": \"enum\", \"allowed_in_call_types\": \"array\", \"allowed_out_call_types\": \"array\", \"groups\":[ { \"group_id\":\"number\", \"group_name\":\"string\" } ], \"call_recording\":\"enum\", \"calls_available\":\"boolean\", \"schedule_id\":\"number\", \"schedule_name\":\"string\", \"coach\":{ \"coach_id\":\"number\", \"coach_full_name\":\"string\", \"coach_always_enabled\":\"boolean\" }, \"phone_numbers\":[ { \"phone_number\":\"string\", \"channels_count\":\"number\", \"dial_time\":\"number\", \"status\":\"enum\" } ], \"extension\":{ \"extension_phone_number\":\"string\", \"extension_voice_mail_enabled\":\"boolean\", \"extension_queue_enabled\":\"boolean\" }, \"operator\":{ \"operator_login\":\"string\", \"operator_display_name\": \"string\", \"operator_position_id\":\"number\", \"operator_position_name\":\"string\", \"operator_offline_message_enabled\":\"boolean\", \"operator_invite_to_chat_enabled\":\"boolean\", \"operator_chat_enabled\":\"boolean\", \"operator_chats_available\":\"boolean\", \"operator_sites\":[ { \"site_id\":\"number\", \"site_domain_name\":\"string\" } ] } } ] } } List of returning errors Refer to \"List of errors for methods with the verb get\"","title":"Get employees"},{"location":"employee/get_employees/#getting-employees-list","text":"Method get.employees Description Getting employees list Who has access Agent, Customer","title":"Getting employees list"},{"location":"employee/get_employees/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for an agent To get a list of customer users use the method \"get.customer_users\" limit number no Number of returning inquiries. Refer to \"Paging\" offset number no Offset that defines inquiries from which number to return, \"limit\" of inquiries. Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filtering criteria\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\"","title":"Parameters of a request"},{"location":"employee/get_employees/#parameters-of-a-reply","text":"Title Type Valid value Filtering Sorting Description id number yes Unique employee ID first_name string yes yes Employee's first name last_name string yes yes Employee's last name patronymic string yes Employee's patronymic full_name string yes yes Employee's full name status enum available break do_not_disturb not_at_workplace not_at_work unknown yes Employee's status available - Available break - On a break do_not_disturb - Do not disturb not_at_workplace - Not at workplace not_at_work - Not at work unknown - Unknown allowed_in_call_types array internal external yes Types of incoming calls allowed to an employee internal - internal calls from company's employees/li> external - external calls from clients allowed_out_call_types array internal external yes Types of outgoing calls allowed to an employee internal - internal calls to company's employees external - external calls beyond the company email string yes Employee's email call_recording enum all - for all calls; in - only incoming calls; out - only outgoing calls; off - switched off yes Call recording status calls_available boolean true , false yes yes This parameter will be deleted soon. Instead, use the parameters: allowed_in_call_types, allowed_out_call_types Avaialibity for calls schedule_id number yes Schedule ID schedule_name string yes Schedule name Coach coach object yes Coach for an employee coach_full_name string Full name of a coach coach_id number Unique ID of a coach You can choose it from an employees list coach_always_enabled boolean true , false As you enable this option, all emloyee's calls will also be duplicated for his or hers coach. Employees groups groups array yes Groups an employee belongs to group_id number Group ID group_name string Group name Phone numbers phone_numbers array 10 yes List of employee's phone numbers. List of numbers should be sorted as according to the order of priority. phone_number string Employee's phone number. Its format may allow extension dialing, such as \"74955140578...2345\" , that is why the number may not comply with the standart E164. If SIP already exists, we do not identify it with the number. Instead we just add the number as a PSTN number, i.e. a usual number. channels_count number From 1 to 150 Default value is \"1\" . Number of telephone lines dial_time number From 1 to 100 Default value is \"60\" . Time for dialing. Value is in seconds. status enum active , inactive Default value is \"active\" . Number status. Extension phone number extension object yes Extension phone number and its settings extension_phone_number string Maximum length is 5 Extension phone number extension_voice_mail_enabled boolean In case all the numbers in an employee's phone numbers list are busy, a caller can leave a voice message. extension_queue_enabled boolean In case all the numbers, attributed to an employee in a list, are busy, a caller can get in line for a redial to phone numbers in a list. Than, he or she will wait for the first number to become available. Employee is an operator of a chat operator object Operatot of a workplace operator_display_name string Operator's name in chat operator_login string Operator's login for the app \"Opeartor's workplace\" operator_position_id number Operator's job position ID operator_position_name string Operator's job position name operator_offline_message_enabled boolean Authorized to process offline messages or not operator_invite_to_chat_enabled boolean Authorized to invite to join chats or not operator_chat_enabled boolean Authorized to participate in chats with visitors or not operator_chats_available boolean true , false Available for chats Website operator_sites array List of websites unique IDs and addresses that have access to an operator site_id number Website ID site_domain_name string Website domain name without protocol - \"http://\" or \"https://\" .","title":"Parameters of a reply"},{"location":"employee/get_employees/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.employees\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"employee/get_employees/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"first_name\":\"string\", \"last_name\":\"string\", \"patronymic\":\"string\", \"full_name\":\"string\", \"email\":\"string\", \"status\": \"enum\", \"allowed_in_call_types\": \"array\", \"allowed_out_call_types\": \"array\", \"groups\":[ { \"group_id\":\"number\", \"group_name\":\"string\" } ], \"call_recording\":\"enum\", \"calls_available\":\"boolean\", \"schedule_id\":\"number\", \"schedule_name\":\"string\", \"coach\":{ \"coach_id\":\"number\", \"coach_full_name\":\"string\", \"coach_always_enabled\":\"boolean\" }, \"phone_numbers\":[ { \"phone_number\":\"string\", \"channels_count\":\"number\", \"dial_time\":\"number\", \"status\":\"enum\" } ], \"extension\":{ \"extension_phone_number\":\"string\", \"extension_voice_mail_enabled\":\"boolean\", \"extension_queue_enabled\":\"boolean\" }, \"operator\":{ \"operator_login\":\"string\", \"operator_display_name\": \"string\", \"operator_position_id\":\"number\", \"operator_position_name\":\"string\", \"operator_offline_message_enabled\":\"boolean\", \"operator_invite_to_chat_enabled\":\"boolean\", \"operator_chat_enabled\":\"boolean\", \"operator_chats_available\":\"boolean\", \"operator_sites\":[ { \"site_id\":\"number\", \"site_domain_name\":\"string\" } ] } } ] } }","title":"JSON reply structure"},{"location":"employee/get_employees/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb get\"","title":"List of returning errors"},{"location":"employee/get_group_employees/","text":"Getting a list of employees groups Method get.group_employees Description Getting a list of employees groups Who has access Agent, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for an agent To get a list of customer users use the method \"get.customer_users\" limit number no Number of returning inquiries. Refer to \"Paging\" offset number no Offset that defines inquiries from which number to return, \"limit\" of inquiries. Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filtering criteria\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" Parameters of a reply Title Type Valid value Filtering Sorting Description id number yes Group ID name string yes yes Group name List of employees in a group members array List of unique IDs of employees, that belong to a group employee_id number Employee unique ID employee_full_name string Employee full name List of phone numbers of employees that belong to a group and their availability phone_numbers array yes List of landline, mobile and sip numbers of employees, that belong to a group, with an indication of their availability and order of dialing priority. Order of dialing priority is defined by a number's position in a list. Dialing a group's phone number list can be made using the group's extension number (refer to the parameter \"group_phone_number\" ). To change the priority and availability of a number refer to the method \"update.group_employees_numbers\" employee_phone_number string Employee phone number employee_phone_number_id number Employee phone number ID/td> employee_full_name string Employee full name employee_id number Employee ID available boolean Availability of a number in a group Group extension number settings group_phone_number string Maximum length is 5 yes yes Group extension number queue_enabled boolean yes Default value is \"false\" . In case all the numbers, attributed to a group, are busy, a caller can get in line for a redial to phone numbers in a list. Than, he or she will wait for the first number to become available. Depends on the component \"va\" channels_count number From 1 to 199 yes Number of simultaneous channels when dialing JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.group_employees\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"name\":\"string\", \"members\":[ { \"employee_id\":\"number\", \"employee_full_name\":\"string\" } ], \"phone_number\":[ { \"employee_phone_number\":\"string\", \"employee_phone_number_id\":\"number\", \"employee_full_name\":\"string\", \"employee_id\":\"number\", \"available\":\"boolean\" } ], \"group_phone_number\":\"string\", \"queue_enabled\":\"boolean\", \"channels_count\":\"number\" } ] } } List of returning errors Refer to \"List of errors for methods with the verb get\"","title":"Get group employees"},{"location":"employee/get_group_employees/#getting-a-list-of-employees-groups","text":"Method get.group_employees Description Getting a list of employees groups Who has access Agent, Customer","title":"Getting a list of employees groups"},{"location":"employee/get_group_employees/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for an agent To get a list of customer users use the method \"get.customer_users\" limit number no Number of returning inquiries. Refer to \"Paging\" offset number no Offset that defines inquiries from which number to return, \"limit\" of inquiries. Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filtering criteria\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\"","title":"Parameters of a request"},{"location":"employee/get_group_employees/#parameters-of-a-reply","text":"Title Type Valid value Filtering Sorting Description id number yes Group ID name string yes yes Group name List of employees in a group members array List of unique IDs of employees, that belong to a group employee_id number Employee unique ID employee_full_name string Employee full name List of phone numbers of employees that belong to a group and their availability phone_numbers array yes List of landline, mobile and sip numbers of employees, that belong to a group, with an indication of their availability and order of dialing priority. Order of dialing priority is defined by a number's position in a list. Dialing a group's phone number list can be made using the group's extension number (refer to the parameter \"group_phone_number\" ). To change the priority and availability of a number refer to the method \"update.group_employees_numbers\" employee_phone_number string Employee phone number employee_phone_number_id number Employee phone number ID/td> employee_full_name string Employee full name employee_id number Employee ID available boolean Availability of a number in a group Group extension number settings group_phone_number string Maximum length is 5 yes yes Group extension number queue_enabled boolean yes Default value is \"false\" . In case all the numbers, attributed to a group, are busy, a caller can get in line for a redial to phone numbers in a list. Than, he or she will wait for the first number to become available. Depends on the component \"va\" channels_count number From 1 to 199 yes Number of simultaneous channels when dialing","title":"Parameters of a reply"},{"location":"employee/get_group_employees/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.group_employees\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"employee/get_group_employees/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"name\":\"string\", \"members\":[ { \"employee_id\":\"number\", \"employee_full_name\":\"string\" } ], \"phone_number\":[ { \"employee_phone_number\":\"string\", \"employee_phone_number_id\":\"number\", \"employee_full_name\":\"string\", \"employee_id\":\"number\", \"available\":\"boolean\" } ], \"group_phone_number\":\"string\", \"queue_enabled\":\"boolean\", \"channels_count\":\"number\" } ] } }","title":"JSON reply structure"},{"location":"employee/get_group_employees/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb get\"","title":"List of returning errors"},{"location":"employee/update_employee_positions/","text":"Updating employees positions Method update.employee_positions Description Updating employees positions Who has access Agent, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for an agent To get a list of customer users use the method \"get.customer_users\" name string yes Position title id number yes Position ID JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"update.employee_positions\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"id\":\"number\", \"name\":\"string\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } } List of returning errors Refer to \"List of errors for methods with the verb update\"","title":"Update employee positions"},{"location":"employee/update_employee_positions/#updating-employees-positions","text":"Method update.employee_positions Description Updating employees positions Who has access Agent, Customer","title":"Updating employees positions"},{"location":"employee/update_employee_positions/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for an agent To get a list of customer users use the method \"get.customer_users\" name string yes Position title id number yes Position ID","title":"Parameters of a request"},{"location":"employee/update_employee_positions/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"update.employee_positions\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"id\":\"number\", \"name\":\"string\" } }","title":"JSON request structure"},{"location":"employee/update_employee_positions/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } }","title":"JSON reply structure"},{"location":"employee/update_employee_positions/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb update\"","title":"List of returning errors"},{"location":"employee/update_employees/","text":"Updating an employee Method update.employees Description ::Creating employee:: Who has access Agent, Customer You can update partially. If a bulk of data is updated, it will replace an existing one. Parameters of a request Title Type Required Valid value Descriprion access_token string yes Authentication session key id number yes Employee's unique ID user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for an agent To get a list of customer users use the method \"get.customer_users\" first_name string no Employee's first name last_name string yes Employee's last name patronymic string no Employee's patronymic status enum no available break do_not_disturb not_at_workplace not_at_work unknown Employee's status available - Available break - On a break do_not_disturb - Do not disturb not_at_workplace - Not at workplace not_at_work - Not at work unknown - Unknown allowed_in_call_types array no internal external Types of incoming calls allowed to an employee internal - internal calls to company's employees external - external calls beyond the company allowed_out_call_types array no internal external Types of outgoing calls allowed to an employee internal - internal calls to company's employees external - external calls beyond the company email string no Employee's email call_recording enum no all - for all calls; in - only incoming calls; out - only outgoing calls; off - switched off Status of call recording Depends on the component \"recording\" schedule_id number no Activity schedule calls_available boolean no true , false Parameter will be deleted shortly. Instead, use the parameters: allowed_in_call_types, allowed_out_call_types Default value is \"true\" . Availability for calls Coach coach object no Coach for an employee Depends on the component \"trainer\" coach_always_enabled boolean no true , false Default value is \"false\" . As you enable this option, all emloyee's calls will also be duplicated for his or hers coach. Value \"true\" can be set if the parameter \"coach_id\" is given. coach_id number no Coach unique ID Groups an employee belongs to groups array no List of unique IDs of groups an employee belongs to. Phone numbers phone_numbers array yes 10 List of employee's phone number List of employee's phone numbers. It is important to know that when you create a new employee, his or hers number may already be attributed to another employee. In this case, when new parameters are set for this new number, they will be also updated for the existing number. phone_number string yes Employee's phone number channels_count number no from 1 to 150 Number of phone lines dial_time number no from 1 to 100 Dialing time status enum no active , inactive Phone number status. Extension number extension object no Employee's extension number extension_phone_number string yes Maximum lrngth is 5 Extension number extension_voice_mail_enabled boolean yes true , false Default value is \"false\" . In case all the numbers in an employee's phone numbers list are busy, a caller can leave a voice message. extension_queue_enabled boolean no true , false Default value is \"false\" . In case all the numbers, attributed to an employee in a list, are busy, a caller can get in line for a redial to phone numbers in a list. Than, he or she will wait for the first number to become available. Whether an employee is a chat operator or not operator object not Workplace operator Depends on the component \"consultant\" operator_display_name string yes Operator's name as displayed in chats operator_login string yes Operator's login for the app \"Operator's workplace\" operator_password string yes Maximum length is 8 Operator's password for the app \"Operator's workplace\" operator_position_id number no Employee's position operator_offline_message_enabled boolean no true , false Default value is \"false\" . Authorized to process offline messages or not operator_invite_to_chat_enabled boolean no true , false Default value is \"false\" . Authorized to invite to join chats or not operator_chat_enabled boolean no true , false Default value is \"true\" . Authorized to participate in chats with visitors or not operator_sites array no List of websites unique IDs and addresses that have access to an employee. JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"update.employees\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"first_name\":\"string\", \"last_name\":\"string\", \"patronymic\":\"string\", \"status\": \"enum\", \"allowed_in_call_types\": \"array\", \"allowed_out_call_types\": \"array\", \"email\":\"string\", \"groups\":[ \"group_id\" ], \"call_recording\":\"enum\", \"calls_available\":\"boolean\", \"schedule_id\":\"number\", \"coach\":{ \"coach_always_enabled\":\"boolean\", \"coach_id\":\"number\" }, \"phone_numbers\":[ { \"phone_number\":\"string\", \"channels_count\":\"number\", \"dial_time\":\"number\", \"status\":\"enum\" } ], \"extension\":{ \"extension_phone_number\":\"string\", \"extension_voice_mail_enabled\":\"boolean\", \"extension_queue_enabled\":\"boolean\" }, \"operator\":{ \"operator_login\":\"string\", \"operator_display_name\": \"string\", \"operator_password\":\"string\", \"operator_position_id\":\"number\", \"operator_offline_message_enabled\":\"boolean\", \"operator_invite_to_chat_enabled\":\"boolean\", \"operator_chat_enabled\":\"boolean\", \"operator_sites\":[ \"site_id\" ] } } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } } List of returning errors Refer to \"List of errors for methods with the verb update\"","title":"Update employees"},{"location":"employee/update_employees/#updating-an-employee","text":"Method update.employees Description ::Creating employee:: Who has access Agent, Customer You can update partially. If a bulk of data is updated, it will replace an existing one.","title":"Updating an employee"},{"location":"employee/update_employees/#parameters-of-a-request","text":"Title Type Required Valid value Descriprion access_token string yes Authentication session key id number yes Employee's unique ID user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for an agent To get a list of customer users use the method \"get.customer_users\" first_name string no Employee's first name last_name string yes Employee's last name patronymic string no Employee's patronymic status enum no available break do_not_disturb not_at_workplace not_at_work unknown Employee's status available - Available break - On a break do_not_disturb - Do not disturb not_at_workplace - Not at workplace not_at_work - Not at work unknown - Unknown allowed_in_call_types array no internal external Types of incoming calls allowed to an employee internal - internal calls to company's employees external - external calls beyond the company allowed_out_call_types array no internal external Types of outgoing calls allowed to an employee internal - internal calls to company's employees external - external calls beyond the company email string no Employee's email call_recording enum no all - for all calls; in - only incoming calls; out - only outgoing calls; off - switched off Status of call recording Depends on the component \"recording\" schedule_id number no Activity schedule calls_available boolean no true , false Parameter will be deleted shortly. Instead, use the parameters: allowed_in_call_types, allowed_out_call_types Default value is \"true\" . Availability for calls Coach coach object no Coach for an employee Depends on the component \"trainer\" coach_always_enabled boolean no true , false Default value is \"false\" . As you enable this option, all emloyee's calls will also be duplicated for his or hers coach. Value \"true\" can be set if the parameter \"coach_id\" is given. coach_id number no Coach unique ID Groups an employee belongs to groups array no List of unique IDs of groups an employee belongs to. Phone numbers phone_numbers array yes 10 List of employee's phone number List of employee's phone numbers. It is important to know that when you create a new employee, his or hers number may already be attributed to another employee. In this case, when new parameters are set for this new number, they will be also updated for the existing number. phone_number string yes Employee's phone number channels_count number no from 1 to 150 Number of phone lines dial_time number no from 1 to 100 Dialing time status enum no active , inactive Phone number status. Extension number extension object no Employee's extension number extension_phone_number string yes Maximum lrngth is 5 Extension number extension_voice_mail_enabled boolean yes true , false Default value is \"false\" . In case all the numbers in an employee's phone numbers list are busy, a caller can leave a voice message. extension_queue_enabled boolean no true , false Default value is \"false\" . In case all the numbers, attributed to an employee in a list, are busy, a caller can get in line for a redial to phone numbers in a list. Than, he or she will wait for the first number to become available. Whether an employee is a chat operator or not operator object not Workplace operator Depends on the component \"consultant\" operator_display_name string yes Operator's name as displayed in chats operator_login string yes Operator's login for the app \"Operator's workplace\" operator_password string yes Maximum length is 8 Operator's password for the app \"Operator's workplace\" operator_position_id number no Employee's position operator_offline_message_enabled boolean no true , false Default value is \"false\" . Authorized to process offline messages or not operator_invite_to_chat_enabled boolean no true , false Default value is \"false\" . Authorized to invite to join chats or not operator_chat_enabled boolean no true , false Default value is \"true\" . Authorized to participate in chats with visitors or not operator_sites array no List of websites unique IDs and addresses that have access to an employee.","title":"Parameters of a request"},{"location":"employee/update_employees/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"update.employees\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"first_name\":\"string\", \"last_name\":\"string\", \"patronymic\":\"string\", \"status\": \"enum\", \"allowed_in_call_types\": \"array\", \"allowed_out_call_types\": \"array\", \"email\":\"string\", \"groups\":[ \"group_id\" ], \"call_recording\":\"enum\", \"calls_available\":\"boolean\", \"schedule_id\":\"number\", \"coach\":{ \"coach_always_enabled\":\"boolean\", \"coach_id\":\"number\" }, \"phone_numbers\":[ { \"phone_number\":\"string\", \"channels_count\":\"number\", \"dial_time\":\"number\", \"status\":\"enum\" } ], \"extension\":{ \"extension_phone_number\":\"string\", \"extension_voice_mail_enabled\":\"boolean\", \"extension_queue_enabled\":\"boolean\" }, \"operator\":{ \"operator_login\":\"string\", \"operator_display_name\": \"string\", \"operator_password\":\"string\", \"operator_position_id\":\"number\", \"operator_offline_message_enabled\":\"boolean\", \"operator_invite_to_chat_enabled\":\"boolean\", \"operator_chat_enabled\":\"boolean\", \"operator_sites\":[ \"site_id\" ] } } }","title":"JSON request structure"},{"location":"employee/update_employees/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } }","title":"JSON reply structure"},{"location":"employee/update_employees/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb update\"","title":"List of returning errors"},{"location":"employee/update_group_employees/","text":"Updating groups of employees Method update.group_employees Description ::Deleting employee group:: Who has access Agent, Customer You can update partially. If a bulk of data is updated, it replaces an existing one. Parameters of a request Title Type Required Valid value Descriprion access_token string yes Authentication session key id number yes Group ID user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for an agent To get a list of customer users use the method \"get.customer_users\" name string yes Group name List of employees in a group members array no List of unique IDs of employees, that belong to a group Group extension number settings group_phone_number string no Maximum length is 5 Group extension number Depends on the component \"va\" queue_enabled boolean no Default value is \"false\" . In case all the numbers, attributed to a group, are busy, a caller can get in line for a redial to phone numbers in a list. Than, he or she will wait for the first number to become available. Depends on the component \"va\" channels_count number no From 1 to 199 Default value is 1 . Number of simultaneous channels when dialing Depends on the component \"va\" JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"update.group_employees\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\", \"name\":\"string\", \"members\":[ \"employee_id\" ], \"group_phone_number\":\"string\", \"queue_enabled\":\"boolean\", \"channels_count\":\"number\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } } List of returning errors Refer to \"List of errors for methods with the verb update\"","title":"Update group employees"},{"location":"employee/update_group_employees/#updating-groups-of-employees","text":"Method update.group_employees Description ::Deleting employee group:: Who has access Agent, Customer You can update partially. If a bulk of data is updated, it replaces an existing one.","title":"Updating groups of employees"},{"location":"employee/update_group_employees/#parameters-of-a-request","text":"Title Type Required Valid value Descriprion access_token string yes Authentication session key id number yes Group ID user_id number no Unique user ID of a customer or an agent who makes request. Is mandatory for an agent To get a list of customer users use the method \"get.customer_users\" name string yes Group name List of employees in a group members array no List of unique IDs of employees, that belong to a group Group extension number settings group_phone_number string no Maximum length is 5 Group extension number Depends on the component \"va\" queue_enabled boolean no Default value is \"false\" . In case all the numbers, attributed to a group, are busy, a caller can get in line for a redial to phone numbers in a list. Than, he or she will wait for the first number to become available. Depends on the component \"va\" channels_count number no From 1 to 199 Default value is 1 . Number of simultaneous channels when dialing Depends on the component \"va\"","title":"Parameters of a request"},{"location":"employee/update_group_employees/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"update.group_employees\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\", \"name\":\"string\", \"members\":[ \"employee_id\" ], \"group_phone_number\":\"string\", \"queue_enabled\":\"boolean\", \"channels_count\":\"number\" } }","title":"JSON request structure"},{"location":"employee/update_group_employees/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } }","title":"JSON reply structure"},{"location":"employee/update_group_employees/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb update\"","title":"List of returning errors"},{"location":"employee/update_group_employees_numbers/","text":"Updating and priority and availability of an employee's phone number in an employees group Method update.group_employees_numbers Description Updating and priority and availability of an employee's phone number in an employees group Who has access Agent, Customer If a number is not in a numbers list, any information attributed to it van not be updated. Parameters of a request Title Type Required Description access_token string yes Authentication session key id number yes Group ID user_id number yes Unique user ID of a customer or an agent who makes request. Is mandatory for an agent To get a list of customer users use the method \"get.customer_users\" List of phone numbers in a group, and their availability phone_numbers array yes List of landline, mobile and sip numbers of employees, that belong to a group, with an indication of their availability and order of dialing priority. Order of dialing priority is defined by a number's position in a list. Dialing a group's phone number list can be made using the group's extension number (refer to the parameter \"group_phone_number\" ). You need to transmit all the numbers employee_phone_number_id number yes Unique ID of a phone number of an employee from a group available boolean yes Availability of a number in a group JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"update.group_employees_numbers\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\", \"phone_numbers\":[ { \"employee_phone_number_id\":\"number\", \"available\":\"boolean\" } ] } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } } List of returning errors Text of error Mnemonics Code Description Invalid parameter value invalid_parameter_value -32602 Not all the numbers are transferred in the data bulk phone_numbers Refer to \"List of errors for methods with the verb update\"","title":"Update group employees numbers"},{"location":"employee/update_group_employees_numbers/#updating-and-priority-and-availability-of-an-employees-phone-number-in-an-employees-group","text":"Method update.group_employees_numbers Description Updating and priority and availability of an employee's phone number in an employees group Who has access Agent, Customer If a number is not in a numbers list, any information attributed to it van not be updated.","title":"Updating and priority and availability of an employee's phone number in an employees group"},{"location":"employee/update_group_employees_numbers/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key id number yes Group ID user_id number yes Unique user ID of a customer or an agent who makes request. Is mandatory for an agent To get a list of customer users use the method \"get.customer_users\" List of phone numbers in a group, and their availability phone_numbers array yes List of landline, mobile and sip numbers of employees, that belong to a group, with an indication of their availability and order of dialing priority. Order of dialing priority is defined by a number's position in a list. Dialing a group's phone number list can be made using the group's extension number (refer to the parameter \"group_phone_number\" ). You need to transmit all the numbers employee_phone_number_id number yes Unique ID of a phone number of an employee from a group available boolean yes Availability of a number in a group","title":"Parameters of a request"},{"location":"employee/update_group_employees_numbers/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"update.group_employees_numbers\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\", \"phone_numbers\":[ { \"employee_phone_number_id\":\"number\", \"available\":\"boolean\" } ] } }","title":"JSON request structure"},{"location":"employee/update_group_employees_numbers/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } }","title":"JSON reply structure"},{"location":"employee/update_group_employees_numbers/#list-of-returning-errors","text":"Text of error Mnemonics Code Description Invalid parameter value invalid_parameter_value -32602 Not all the numbers are transferred in the data bulk phone_numbers Refer to \"List of errors for methods with the verb update\"","title":"List of returning errors"},{"location":"person/get_person_visitors/","text":"Persons > Getting all visitors with their contact information by person_id Getting all visitors with their contact information by person_id Method get.person_visitors Description Getting all visitors with their contact information by person_id Who has access Agent, Client Components required to work with the method Configuration Data API Weight in points 0 Parameters of a request Title Type Required Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" person_id number yes Person unique ID Parameters of a reply Title Type Valid value Default reply Description person_id number yes Person unique ID visitor_id number yes Visitor unique ID name string no Visitor full name phones array no List of visitor phone numbers emails array no Email addresses of the visitor company string no Ad campaign of the visitor commentary string no Comment JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.person_visitors\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"person_id\": \"number\" } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"metadata\": { }, \"data\": [ { \"person_id\": \"number\", \"visitor_id\": \"number\", \"name\": \"string\", \"emails\":[ \"email\" ], \"phones\":[ \"phone\" ], \"company\": \"string\", \"commentary\": \"string\", } ] } } JSON reply sample { \"jsonrpc\": \"2.0\", \"id\": \"rMiS6Y5qt1OYo2m9S3S3z\", \"result\": { \"data\": [ { \"name\": \"Test\", \"emails\": [ \"test@1.me\", \"test@2.com\" ], \"phones\": [ \"213123123213\", \"43534534543\" ], \"company\": \"JSC Flower\", \"person_id\": 6145241079, \"commentary\": \"Comment\", \"visitor_id\": 6152759362 }, { \"name\": \"346356\", \"emails\": [ \"qere4@fsdfsd.ry\" ], \"phones\": [ \"213123123213\" ], \"company\": null, \"person_id\": 6145241079, \"commentary\": null, \"visitor_id\": 6152759377 } ] } } List of returning errors Refer to the section \"List of errors for methods with the verb get\"","title":"Getting all visitors with their contact information by person_id"},{"location":"person/get_person_visitors/#getting-all-visitors-with-their-contact-information-by-person_id","text":"Method get.person_visitors Description Getting all visitors with their contact information by person_id Who has access Agent, Client Components required to work with the method Configuration Data API Weight in points 0","title":"Getting all visitors with their contact information by person_id"},{"location":"person/get_person_visitors/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" person_id number yes Person unique ID","title":"Parameters of a request"},{"location":"person/get_person_visitors/#parameters-of-a-reply","text":"Title Type Valid value Default reply Description person_id number yes Person unique ID visitor_id number yes Visitor unique ID name string no Visitor full name phones array no List of visitor phone numbers emails array no Email addresses of the visitor company string no Ad campaign of the visitor commentary string no Comment","title":"Parameters of a reply"},{"location":"person/get_person_visitors/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.person_visitors\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"person_id\": \"number\" } }","title":"JSON request structure"},{"location":"person/get_person_visitors/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"metadata\": { }, \"data\": [ { \"person_id\": \"number\", \"visitor_id\": \"number\", \"name\": \"string\", \"emails\":[ \"email\" ], \"phones\":[ \"phone\" ], \"company\": \"string\", \"commentary\": \"string\", } ] } }","title":"JSON reply structure"},{"location":"person/get_person_visitors/#json-reply-sample","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"rMiS6Y5qt1OYo2m9S3S3z\", \"result\": { \"data\": [ { \"name\": \"Test\", \"emails\": [ \"test@1.me\", \"test@2.com\" ], \"phones\": [ \"213123123213\", \"43534534543\" ], \"company\": \"JSC Flower\", \"person_id\": 6145241079, \"commentary\": \"Comment\", \"visitor_id\": 6152759362 }, { \"name\": \"346356\", \"emails\": [ \"qere4@fsdfsd.ry\" ], \"phones\": [ \"213123123213\" ], \"company\": null, \"person_id\": 6145241079, \"commentary\": null, \"visitor_id\": 6152759377 } ] } }","title":"JSON reply sample"},{"location":"person/get_person_visitors/#list-of-returning-errors","text":"Refer to the section \"List of errors for methods with the verb get\"","title":"List of returning errors"},{"location":"person/getobj_person_for_visitor/","text":"Persons > Getting person_id by visitor_id Getting person_id by visitor_id Method getobj.person_for_visitor Description Getting person_id by visitor_id Who has access Agent, Client Components required to work with the method Configuration Data API Weight in points 0 Parameters of a request Title Type Required Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" visitor_id number yes Visitor unique ID Parameters of a reply Title Type Valid value Default reply Description person_id number yes Person unique ID JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"getobj.person_for_visitor\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"visitor_id\": \"number\" } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"metadata\": { }, \"data\": { \"person_id\": \"number\" } } } JSON reply sample { \"jsonrpc\": \"2.0\", \"id\": \"rMiS6Y5qt1OYo2m9S3S3z\", \"result\": { \"data\": { \"person_id\": 6145241079 } } } List of returning errors Refer to the section \"List of errors for methods with the verb get\"","title":"Getting person_id by visitor_id"},{"location":"person/getobj_person_for_visitor/#getting-person_id-by-visitor_id","text":"Method getobj.person_for_visitor Description Getting person_id by visitor_id Who has access Agent, Client Components required to work with the method Configuration Data API Weight in points 0","title":"Getting person_id by visitor_id"},{"location":"person/getobj_person_for_visitor/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" visitor_id number yes Visitor unique ID","title":"Parameters of a request"},{"location":"person/getobj_person_for_visitor/#parameters-of-a-reply","text":"Title Type Valid value Default reply Description person_id number yes Person unique ID","title":"Parameters of a reply"},{"location":"person/getobj_person_for_visitor/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"getobj.person_for_visitor\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"visitor_id\": \"number\" } }","title":"JSON request structure"},{"location":"person/getobj_person_for_visitor/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"metadata\": { }, \"data\": { \"person_id\": \"number\" } } }","title":"JSON reply structure"},{"location":"person/getobj_person_for_visitor/#json-reply-sample","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"rMiS6Y5qt1OYo2m9S3S3z\", \"result\": { \"data\": { \"person_id\": 6145241079 } } }","title":"JSON reply sample"},{"location":"person/getobj_person_for_visitor/#list-of-returning-errors","text":"Refer to the section \"List of errors for methods with the verb get\"","title":"List of returning errors"},{"location":"report/campaign_daily_stat/","text":"Method get.campaign_daily_stat Description Getting advertising campaign daily statistics Who has access Agent, Customer Parameters of a request Title Type Required Valid values Description limit number no Number of returning entries. Refer to \"Paging\" offset number no Offset that defines from which entry number to return the \"limit\" of entries. Default value is \"0\". Refer to the section \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" date_from iso8601 yes YYYY-MM-DD hh:mm:ss Date when selection started (limit of 90 days, same as in standard report methods) date_till iso8601 yes YYYY-MM-DD hh:mm:ss Date when selection ended site_id number yes Website ID in the CallGear system Reply parameters Title Type Value values Filtering Sorting Reply by default Description date iso8601 YYYY-MM-DD yes yes yes The day for which statistics are given, ISO site_id number yes yes Website ID in the CallGear system site_domain_name string yes yes Website domain name campaign_id number yes yes yes Advertising campaign ID in the CallGear system campaign_name string yes yes Advertising campaign name campaign_ext_id string yes yes yes External ID of an advertising campaign campaign_ext_name string yes yes yes External advertising campaign's name engine enum yandex.direct google.adwords, facebook yes Advertising campaign system banner_group_id string yes yes Ads group ID in the advertising system banner_group_name string yes Ads group name in the advertising system keyword_id string yes yes Key word ID in the advertising system keyword string yes Key word cost_sum string yes Daily costs per channel in the currency of the advertising system shows_count number yes Daily shows count per channel clicks_count number yes Daily clicks count per ad chats_count number Daily chats count per advertising campaign calls_count number Daily calls count per advertising campaign goals_count number Daily goals count per advertising campaign offline_messages_count number Daily requests from a website count per advertising campaign current_banner_id number yes yes Current ad ID in the advertising system old_banner_ids array Previous ad IDs in the advertising system visits_count number Daily visits count current_banner_name string yes Current banner name in the advertising system daily_budget number yes Daily budget weekly_budget number yes Weekly budget currency enum yes Currency session_ids array List of session ids for the advertising campaign per day List of inquiries communications array List of inquiries from the advertising campaign per day communication_type string Communication type communication_id number Communication id attributes array Communication attributes Tags tags array Communication tags tag_id number Tag unique ID tag_name string Tag name tag_type enum auto, manual Tag type tag_change_time iso8601 YYYY-MM-DD hh:mm:ss Tag change date and time tag_user_id number Unique ID of a user who used a tag tag_user_login string Login of a user who used a tag tag_employee_id number Unique ID of an employee who used a tag tag_employee_full_name string Full name of an employee who used a tag ##JSON request structure { \"id\": \"1\", \"jsonrpc\": \"2.0\", \"method\": \"get.campaign_daily_stat\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"offset\": \"number\", \"limit\": \"number\", \"date_from\": \"iso8601\", \"date_till\": \"iso8601\", \"site_id\" : \"number\", \"filter\": {}, \"sort\": [ { \"field\": \"string\", \"order\": \"string\" } ], \"fields\": [ \"string\" ] } } JSON reply structure { \"id\": \"1\", \"jsonrpc\": \"2.0\", \"result\": [ { \"date\": \"iso8601\", \"site_id\": \"number\", \"site_domain_name\": \"string\", \"campain_id\": \"number\", \"campaign_name\": \"string\", \"campaign_ext_id\": \"number\", \"campaign_ext_name\": \"string\", \"engine\": \"enum\", \"banner_group_id\": \"number\", \"banner_group_name\": \"string\", \"keyword_id\": \"string\", \"keyword\": \"string\", \"banner_id\": \"number\", \"banner_name\": \"string\", \"old_banner_ids\": [ \"number\" ], \"cost_sum\": \"string\", \"shows_count\": \"number\", \"clicks_count\": \"number\", \"calls_count\": \"number\", \"chats_count\": \"number\", \"goals_count\": \"number\", \"offline_messages_count\": \"number\", \"session_ids\": [ \"number\" ], \"daily_budget\": \"number\", \"communications\": [ { \"communication_type\": \"string\", \"communication_id\": \"number\", \"attributes\": [ \"string\" ], \"tags\": [ { \"tag_id\": \"number\", \"tag_name\": \"string\", \"tag_type\": \"enum\", \"tag_change_time\": \"iso8601\", \"tag_user_id\": \"number\", \"tag_user_login\": \"string\", \"tag_employee_id\": \"number\", \"tag_employee_full\": \"string\" } ] } ] } ] } List of returning errors Refer to \"List of errors for methods with the verb get\"","title":"Ad Campaigns Daily Reports"},{"location":"report/campaign_daily_stat/#parameters-of-a-request","text":"Title Type Required Valid values Description limit number no Number of returning entries. Refer to \"Paging\" offset number no Offset that defines from which entry number to return the \"limit\" of entries. Default value is \"0\". Refer to the section \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" date_from iso8601 yes YYYY-MM-DD hh:mm:ss Date when selection started (limit of 90 days, same as in standard report methods) date_till iso8601 yes YYYY-MM-DD hh:mm:ss Date when selection ended site_id number yes Website ID in the CallGear system","title":"Parameters of a request"},{"location":"report/campaign_daily_stat/#reply-parameters","text":"Title Type Value values Filtering Sorting Reply by default Description date iso8601 YYYY-MM-DD yes yes yes The day for which statistics are given, ISO site_id number yes yes Website ID in the CallGear system site_domain_name string yes yes Website domain name campaign_id number yes yes yes Advertising campaign ID in the CallGear system campaign_name string yes yes Advertising campaign name campaign_ext_id string yes yes yes External ID of an advertising campaign campaign_ext_name string yes yes yes External advertising campaign's name engine enum yandex.direct google.adwords, facebook yes Advertising campaign system banner_group_id string yes yes Ads group ID in the advertising system banner_group_name string yes Ads group name in the advertising system keyword_id string yes yes Key word ID in the advertising system keyword string yes Key word cost_sum string yes Daily costs per channel in the currency of the advertising system shows_count number yes Daily shows count per channel clicks_count number yes Daily clicks count per ad chats_count number Daily chats count per advertising campaign calls_count number Daily calls count per advertising campaign goals_count number Daily goals count per advertising campaign offline_messages_count number Daily requests from a website count per advertising campaign current_banner_id number yes yes Current ad ID in the advertising system old_banner_ids array Previous ad IDs in the advertising system visits_count number Daily visits count current_banner_name string yes Current banner name in the advertising system daily_budget number yes Daily budget weekly_budget number yes Weekly budget currency enum yes Currency session_ids array List of session ids for the advertising campaign per day List of inquiries communications array List of inquiries from the advertising campaign per day communication_type string Communication type communication_id number Communication id attributes array Communication attributes Tags tags array Communication tags tag_id number Tag unique ID tag_name string Tag name tag_type enum auto, manual Tag type tag_change_time iso8601 YYYY-MM-DD hh:mm:ss Tag change date and time tag_user_id number Unique ID of a user who used a tag tag_user_login string Login of a user who used a tag tag_employee_id number Unique ID of an employee who used a tag tag_employee_full_name string Full name of an employee who used a tag ##JSON request structure { \"id\": \"1\", \"jsonrpc\": \"2.0\", \"method\": \"get.campaign_daily_stat\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"offset\": \"number\", \"limit\": \"number\", \"date_from\": \"iso8601\", \"date_till\": \"iso8601\", \"site_id\" : \"number\", \"filter\": {}, \"sort\": [ { \"field\": \"string\", \"order\": \"string\" } ], \"fields\": [ \"string\" ] } }","title":"Reply parameters"},{"location":"report/campaign_daily_stat/#json-reply-structure","text":"{ \"id\": \"1\", \"jsonrpc\": \"2.0\", \"result\": [ { \"date\": \"iso8601\", \"site_id\": \"number\", \"site_domain_name\": \"string\", \"campain_id\": \"number\", \"campaign_name\": \"string\", \"campaign_ext_id\": \"number\", \"campaign_ext_name\": \"string\", \"engine\": \"enum\", \"banner_group_id\": \"number\", \"banner_group_name\": \"string\", \"keyword_id\": \"string\", \"keyword\": \"string\", \"banner_id\": \"number\", \"banner_name\": \"string\", \"old_banner_ids\": [ \"number\" ], \"cost_sum\": \"string\", \"shows_count\": \"number\", \"clicks_count\": \"number\", \"calls_count\": \"number\", \"chats_count\": \"number\", \"goals_count\": \"number\", \"offline_messages_count\": \"number\", \"session_ids\": [ \"number\" ], \"daily_budget\": \"number\", \"communications\": [ { \"communication_type\": \"string\", \"communication_id\": \"number\", \"attributes\": [ \"string\" ], \"tags\": [ { \"tag_id\": \"number\", \"tag_name\": \"string\", \"tag_type\": \"enum\", \"tag_change_time\": \"iso8601\", \"tag_user_id\": \"number\", \"tag_user_login\": \"string\", \"tag_employee_id\": \"number\", \"tag_employee_full\": \"string\" } ] } ] } ] }","title":"JSON reply structure"},{"location":"report/campaign_daily_stat/#list-of-returning-errors","text":"Refer to \"List of errors for methods with the verb get\"","title":"List of returning errors"},{"location":"report/get_call_legs_report/","text":"Getting CDR for call session Method get.call_legs_report Description Getting a list of CDR for call session Who has access Partner, Customer Parameters of a request Title Type Required Valid value Description access_token string yes Authentication session key user_id number no Unique user ID of agent's customer who makes request Is required for agent To get a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" date_from iso8601 yes YYYY-MM-DD hh:mm:ss Sampling start date date_till iso8601 yes YYYY-MM-DD hh:mm:ss Sampling end date Parameters of a reply Title Type Valid value Filtering Sorting Reply by default Description id number yes yes CDR unique ID call_session_id number yes yes yes Call session unique ID (refer to the method get.calls_report ) call_records array yes ID of a link to the recorded conversation. You can listen to it by making a request in the browser: http://app.callgear.com/system/media/talk/{call_session_id}/{unique id of the link to a recorded conversiontion} start_time iso8601 YYYY-MM-DD hh:mm:ss yes yes Leg start date and time connect_time iso8601 YYYY-MM-DD hh:mm:ss yes Date and time of answering the phone duration number yes yes yes Leg duration after phone was answered. Value is in seconds total_duration number yes yes yes Leg total duration. Value is in seconds virtual_phone_number string yes yes yes Virtual number calling_phone_number string yes yes yes Caller number called_phone_number string yes yes yes Called number direction enum in , out yes yes yes Leg direction is_transfered boolean true , false yes yes yes Transfer leg or not is_operator boolean true , false yes yes yes Operator leg or not employee_id number yes yes yes Unique ID of a called employee employee_full_name string yes yes Full name of a called employee employee_phone_number string yes yes Employee phone number employee_rating number yes yes yes Post-processing employee rating scenario_id number yes yes yes Scenario unique ID scenario_name string yes yes Scenario name is_coach boolean true , false yes yes yes Coach leg or not release_cause_code number yes yes yes Cause Code number (refer to Q850) release_cause_description string yes yes yes Cause code description is_failed boolean true , false yes yes yes Did an operator answer the phone or not is_talked boolean true , false yes yes Did the conversation take place or not contact_id id Contact unique ID contact_full_name string Contact full name contact_phone_number string The contact number from which the call was received in case of an incoming call or the contact number to which they made a call in case of an outgoing call action_id number yes yes Unique ID of the operation when a call was created action_name string yes yes Name of the operation during which the call was created group_id number yes yes Unique ID of the group within which the call was made group_name string yes yes Name of the group within which the call was made JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.call_legs_report\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"date_from\":\"iso8601\", \"date_till\":\"iso8601\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"call_session_id\":\"number\", \"call_records\":[ ], \"start_time\":\"iso8601\", \"connect_time\":\"iso8601\", \"duration\":\"number\", \"total_duration\":\"number\", \"virtual_phone_number\":\"string\", \"calling_phone_number\":\"string\", \"called_phone_number\":\"string\", \"direction\":\"enum\", \"is_transfered\":\"boolean\", \"is_operator\":\"boolean\", \"employee_id\":\"number\", \"employee_full_name\":\"string\", \"employee_phone_number\":\"string\", \"employee_rating\":\"number\", \"scenario_id\":\"number\", \"scenario_name\":\"string\", \"is_coach\":\"boolean\", \"release_cause_code\":\"number\", \"release_cause_description\":\"string\", \"is_failed\":\"boolean\", \"is_talked\":\"boolean\", \"contact_id\":\"number\", \"contact_full_name\":\"string\", \"contact_phone_number\":\"string\", \"action_id\": \"number\", \"action_name\": \"string\", \"group_id\": \"number\", \"group_name\": \"string\" } ] } } List of returning errors Refer to the section \"List of errors for the methods with the verb get\"","title":"Get call legs report"},{"location":"report/get_call_legs_report/#getting-cdr-for-call-session","text":"Method get.call_legs_report Description Getting a list of CDR for call session Who has access Partner, Customer","title":"Getting CDR for call session"},{"location":"report/get_call_legs_report/#parameters-of-a-request","text":"Title Type Required Valid value Description access_token string yes Authentication session key user_id number no Unique user ID of agent's customer who makes request Is required for agent To get a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" date_from iso8601 yes YYYY-MM-DD hh:mm:ss Sampling start date date_till iso8601 yes YYYY-MM-DD hh:mm:ss Sampling end date","title":"Parameters of a request"},{"location":"report/get_call_legs_report/#parameters-of-a-reply","text":"Title Type Valid value Filtering Sorting Reply by default Description id number yes yes CDR unique ID call_session_id number yes yes yes Call session unique ID (refer to the method get.calls_report ) call_records array yes ID of a link to the recorded conversation. You can listen to it by making a request in the browser: http://app.callgear.com/system/media/talk/{call_session_id}/{unique id of the link to a recorded conversiontion} start_time iso8601 YYYY-MM-DD hh:mm:ss yes yes Leg start date and time connect_time iso8601 YYYY-MM-DD hh:mm:ss yes Date and time of answering the phone duration number yes yes yes Leg duration after phone was answered. Value is in seconds total_duration number yes yes yes Leg total duration. Value is in seconds virtual_phone_number string yes yes yes Virtual number calling_phone_number string yes yes yes Caller number called_phone_number string yes yes yes Called number direction enum in , out yes yes yes Leg direction is_transfered boolean true , false yes yes yes Transfer leg or not is_operator boolean true , false yes yes yes Operator leg or not employee_id number yes yes yes Unique ID of a called employee employee_full_name string yes yes Full name of a called employee employee_phone_number string yes yes Employee phone number employee_rating number yes yes yes Post-processing employee rating scenario_id number yes yes yes Scenario unique ID scenario_name string yes yes Scenario name is_coach boolean true , false yes yes yes Coach leg or not release_cause_code number yes yes yes Cause Code number (refer to Q850) release_cause_description string yes yes yes Cause code description is_failed boolean true , false yes yes yes Did an operator answer the phone or not is_talked boolean true , false yes yes Did the conversation take place or not contact_id id Contact unique ID contact_full_name string Contact full name contact_phone_number string The contact number from which the call was received in case of an incoming call or the contact number to which they made a call in case of an outgoing call action_id number yes yes Unique ID of the operation when a call was created action_name string yes yes Name of the operation during which the call was created group_id number yes yes Unique ID of the group within which the call was made group_name string yes yes Name of the group within which the call was made","title":"Parameters of a reply"},{"location":"report/get_call_legs_report/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.call_legs_report\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"date_from\":\"iso8601\", \"date_till\":\"iso8601\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"report/get_call_legs_report/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"call_session_id\":\"number\", \"call_records\":[ ], \"start_time\":\"iso8601\", \"connect_time\":\"iso8601\", \"duration\":\"number\", \"total_duration\":\"number\", \"virtual_phone_number\":\"string\", \"calling_phone_number\":\"string\", \"called_phone_number\":\"string\", \"direction\":\"enum\", \"is_transfered\":\"boolean\", \"is_operator\":\"boolean\", \"employee_id\":\"number\", \"employee_full_name\":\"string\", \"employee_phone_number\":\"string\", \"employee_rating\":\"number\", \"scenario_id\":\"number\", \"scenario_name\":\"string\", \"is_coach\":\"boolean\", \"release_cause_code\":\"number\", \"release_cause_description\":\"string\", \"is_failed\":\"boolean\", \"is_talked\":\"boolean\", \"contact_id\":\"number\", \"contact_full_name\":\"string\", \"contact_phone_number\":\"string\", \"action_id\": \"number\", \"action_name\": \"string\", \"group_id\": \"number\", \"group_name\": \"string\" } ] } }","title":"JSON reply structure"},{"location":"report/get_call_legs_report/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb get\"","title":"List of returning errors"},{"location":"report/get_calls_report/","text":"Getting call session reports Method get.calls_report Description Getting call session reports \"List of queries\" -> \"Calls\" Who has access Partner, Customer Parameters of a request Title Type Required Valid values Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" date_from iso8601 yes YYYY-MM-DD hh:mm:ss Selection start date date_till iso8601 yes YYYY-MM-DD hh:mm:ss Selection end day include_ongoing_calls boolean no Switch on ongoing calls Parameters of a reply Title Type Valid values Filtering Sorting Default reply Description id number yes yes Call session unique ID start_time iso8601 YYYY-MM-DD hh:mm:ss yes yes Time and date when call sessions starts finish_time iso8601 YYYY-MM-DD hh:mm:ss yes Time when call sessions ends finish_reason enum numb_not_exists incorrect_input numb_is_inactive sitephone_is_not_configured app_is_inactive numa_in_black_list no_active_scenario simple_forwarding_is_not_configured site_not_exists call_generator_is_not_configured add_cdr_timeout success_finish api_permission_denied api_ip_now_allowed component_is_inactive employee_not_exists not_enough_money platform_not_found internal_error incorrect_config communication_unavailable subscriber_disconnects no_operation scenario_not_found no_money transfer_disconnects scenario_disconnects fax_session_done no_resources another_operator_answer subscriber_busy subscriber_not_responsible subscriber_number_problems operator_answer locked_numb call_not_allowed_on_tp account_not_found contract_not_found operator_busy operator_not_responsible operator_disconnects operator_number_problems timeout operator_channels_busy locked_phone max_in_call_reached max_out_call_reached employee_busy phone_group_inactive_by_schedule sip_offline employee_inactive employee_inactive_by_schedule employee_phone_inactive action_interval_exceeded group_phone_inactive no_operator_confirmation max_transition_count_exceeded no_success_subscriber_call no_success_operator_call disconnect_before_call_processing processing_method_not_found employee_without_phones group_without_phones no_operator_cdr_found yes yes yes Reason why a call session ended numb_not_exists - Virtual number is not found incorrect_input - Incorrect input numb_is_inactive - Virtual number is inactive sitephone_is_not_configured - Sitephone is not configured app_is_inactive - App is inactive numa_in_black_list - Calling number is in the blacklist no_active_scenario - No active scenario is found simple_forwarding_is_not_configured - Analytics: Simple forwarding is not configured site_not_exists - Website is not found call_generator_is_not_configured - Call generator is not configured add_cdr_timeout - Not determined success_finish - Not determined api_permission_denied - Access to Call API is denied api_ip_now_allowed - IP address is not in the whitelist component_is_inactive - Component is inactive employee_not_exists - Employee is not found not_enough_money - Not enough money platform_not_found - Contact technical support internal_error - Contact technical support incorrect_config - Incorrect configuration communication_unavailable - Unavailable type of communication subscriber_disconnects - Subscriber disconnected no_operation - No operation to process scenario_not_found - Scenario not found no_money - Ran out of money or the financial limit is reached transfer_disconnects - Disconnect an employee during transfer scenario_disconnects - Disconnect an employee when starting a scenario fax_session_done - Fax is received no_resources - Customer limit is reached another_operator_answer - Another employee answered subscriber_busy - Subscriber is busy subscriber_not_responsible - Subscriber does not respond subscriber_number_problems - Problems with subscriber's number. Contact technical support. operator_answer - Employee answered locked_numb - Calls to a number are prohibited by security settings call_not_allowed_on_tp - Call is not allowed by a service plan account_not_found - Account is not found contract_not_found - Contract is not found operator_busy - Operator is busy operator_not_responsible - Operator does not respond operator_disconnects - Operator disconnected operator_number_problems - Problems with operator's number. Contact technical support. timeout - Time of a dial up is out operator_channels_busy - No more available lines on call transferring number locked_phone - Network problems max_in_call_reached - Limit of lines for incoming calls is reached max_out_call_reached - Limit of lines for outgoing calls is reached employee_busy - Employee is busy with another call phone_group_inactive_by_schedule - Numbers group is inactive according to a scenario sip_offline - SIP-line is not registered employee_inactive - Employee is inactive employee_inactive_by_schedule - Employee is inactive according to a schedule employee_phone_inactive - Employee number is inactive action_interval_exceeded - Interval, specified in the operation, is exceeded group_phone_inactive - A number in a group is not available no_operator_confirmation - Employee did not confirm a call max_transition_count_exceeded - Transitions from operations from a scenario limit is reacged no_success_subscriber_call - Couldn't reach a subscriber no_success_operator_call - Couldn't reach an employee disconnect_before_call_processing - Disconnection before a call is processed processing_method_not_found - Processing method is not found employee_without_phones - Employee doesn't have numbers group_without_phones - Employee group doesn't have numbers no_operator_cdr_found - Calls for employees are not found direction enum in - Incoming; out - Outgoing yes yes yes Call session direction cpn_region_id number yes yes yes Subscriber number region unique ID cpn_region_name string yes yes yes Subscriber number region name Operations of a scenario scenario_operations array yes no no List of all the operations in all the scenarios that take part in call processing. id number Scenario operation unique ID name string Scenario operation name source enum callapi - Call API Base set callapi_management_call - Call API Call management callapi_informer_call - Call API Informer call callapi_scenario_call - Call API Scenario call va - VPBX call call_tracking - Analytics dynamic_call_tracking - Dynamic call tracking callout - Callout callback - Callback faxout - Fax sip - Incoming call from SIP consultant - Consultant sitephone - Site phone lead - Lead generator retailcrm - Call from a retailCRM amocrm - Call from amoCRM bitrix - Call from Bitrix24 auto_back_call - Missed calls auto redialing yes yes yes Call source is_lost boolean yes yes yes Sign whether a call is lost or successful communication_number number yes yes Always empty for VPBX sessions, this is the ideology of service at the moment communication_page_url string no no no URL of a page on which a visitor was at the time of the call or a page of the last visitor interaction before the call. contact_phone_number string yes yes Contact number from which the call was received in case of an incoming call, or contact number to which a call was made in case of an outgoing call. communication_id number yes yes Communication ID communication_type enum call yes Communication type wait_duration number yes yes Waiting time until the first conversation with the employee. Value is in seconds. total_wait_duration number yes yes Total waiting time for a subscriber. It takes into account all the intervals when the subscriber did not talk to an employee. Value is in seconds. lost_call_processing_duration number yes yes Lost call processing duration. It taks into account time from a moment of a missed call to the first successful call. Value is in seconds talk_duration number yes yes Talk duration. It takes into account time from the first conversation with a subscriber to the beggining of post processing clean_talk_duration number yes yes Clean talk duration. Takes into account only those time periods when a subscriber was talking to an employee. Value is in seconds total_duration number yes yes Total duration of a call, value is in seconds postprocess_duration number yes Postprocessing duration, value is in seconds call_records array yes Unique ID of a link that leads to a recorded conversation. You can listen to it calling a request in a browser: https://app.callgear.com/system/media/talk/{communication_id}/{unique ID of a link that leads to a recorded conversation}/ voice_mail_records array Unique ID of a link that leads to a message in voice mail. You can listen to it calling a request in a browser: https://app.callgear.com/system/media/voice_mail/{communication_id}/{unique ID of a link that leads to a message in voice mail}/ virtual_phone_number string yes yes yes Virtual number ua_client_id string Unique ID in Universal Analytics ym_client_id string User unique ID in Yandex.Metrika sale_date iso8601 YYYY-MM-DD hh:mm:ss yes yes Sale date sale_cost number yes yes Sale cost is_transfer boolean true , false yes yes Wether or not call session included a transfer search_query string yes Search query search_engine string yes Search engine name referrer_domain string yes Domain referrer referrer string yes Referral source entrance_page string yes Entrance page gclid string yes Google Click Identifier yclid string yes Yandex Click Identifier ymclid string Yandex Market Click Identifier ef_id string yes Used to tag links in AdLense channel enum display paid affiliate messenger social email organic internal recommendation cashed referral direct yes Channel Used tags tags array yes Tags, refer to the method \"get.tags\" tag_name string Tag name tag_id number Tag unique ID tag_change_time iso8601 YYYY-MM-DD hh:mm:ss Time when tag was used tag_type enum auto , manual Tag type tag_user_id number Unique ID of a user who used a tag tag_user_login string Login of a user who used a tag tag_employee_id number Unique ID of an employee who used a tag tag_employee_full_name string Full name of an employee who used a tag Employees who participated in a call employees array yes Employees who participated in a call employee_id number Employee unique ID employee_full_name string Employee full name is_answered boolean Whether or not an employee answered is_talked boolean Whether or not an employee participated in the conversation Last answered employee last_answered_employee_id number yes Unique ID of an employee who was the last to take a phone last_answered_employee_full_name string yes Full name of an employee who was the last to take a phone last_answered_employee_rating number yes Rating of an employee who was the last to take a phone First answered employee first_answered_employee_id number yes Unique ID of the employee who first picked up the phone first_answered_employee_full_name string yes Full name of the employee who first picked up the phone Last employee talking last_talked_employee_id number yes Unique ID of the last employee talking last_talked_employee_full_name string yes Full name of the last employee talking First employee talking first_talked_employee_id number yes Unique ID of the first employee talking first_talked_employee_full_name string yes Full name of the first employee talking Scenario scenario_name string yes Name of the scenario where the call processing started scenario_id number yes yes Unique ID of the scenario where the call processing started Website site_domain_name string yes Website address on the internet. Without protocol - \"http://\" or \"https://\" site_id number yes yes Website unique ID Advertising campaign campaign_name string yes Advertising campaign name campaign_id number yes yes Advertising campaign ID visit_other_campaign boolean true , false The flag indicates whether a visitor has visited other advertising campaigns (within a person) Information about payment visitor_id number yes yes Visitor unique ID person_id number yes Person unique ID visitor_type enum New, Returned, Not filled in yes yes Visitor type visitor_session_id number yes Visitor session unique ID visits_count number yes Total visitor's visits count visitor_first_campaign_id number yes First advertising campaign unique ID visitor_first_campaign_name string yes First advertising campaign name visitor_city string yes Visitor city visitor_region string yes Visitor region visitor_country string yes Visitor country visitor_device enum desktop mobile tablet other yes yes User device Visitor properties visitor_custom_properties array yes Visitor properties that can be set using JavaScript API [method CallGear.setProperty ] property_name string Property name that's to be assigned property_value string Property value Segments segments array yes Segments segment_id number Segment unique ID segment_name string Segment name Call API call_api_request_id number yes Request to API unique ID. call_api_external_id string yes A unique ID that may be a call event with an external system. Address book contact contact_id number yes Contact unique ID contact_full_name string yes Contact full name UTM tags utm_source string yes Campaign source utm_medium string yes Campaign channel utm_term string yes Campaign key word utm_content string yes Campaign content utm_campaign string yes Campaign name OS tags openstat_ad string yes Ad ID openstat_campaign string yes Advertising campaign ID openstat_service string yes Service provider ID openstat_source string yes ID of a website, a section, a page, the corresponding advertisement was shown Inquiry attributes attributes array first - First quality through - First through quality primary - Primary secondary - Secondary lost - Lost target - Targeted off-target - Off targeted quality - Quality rest - Targeted repeated calls (calls made during the period of repeated calls configured for a website in CallGear client area). yes Inquiry attributes Expanded UTM tags eq_utm_source string yes Expanded utm_source eq_utm_medium string yes Expanded utm_medium eq_utm_term string yes Expanded utm_term eq_utm_content string yes Expanded utm_content eq_utm_campaign string yes Expanded utm_campaign eq_utm_referrer string yes Expanded utm_referrer eq_utm_expid string yes Expanded utm_expid JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.calls_report\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"date_from\":\"string\", \"date_till\":\"string\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"metadata\": { }, \"data\": [ { \"id\": \"number\", \"start_time\": \"iso8601\", \"finish_time\": \"iso8601\", \"virtual_phone_number\": \"string\", \"is_transfer\": \"boolean\", \"finish_reason\": \"enum\", \"direction\": \"enum\", \"source\": \"enum\", \"communication_number\": \"number\", \"communication_page_url\": \"string\", \"communication_id\": \"number\", \"communication_type\": \"enum\", \"is_lost\": \"boolean\", \"cpn_region_id\": \"number\", \"cpn_region_name\": \"string\", \"wait_duration\": \"number\", \"total_wait_duration\": \"number\", \"lost_call_processing_duration\" :\"number\", \"talk_duration\": \"number\", \"clean_talk_duration\": \"number\", \"total_duration\": \"number\", \"postprocess_duration\": \"number\", \"ua_client_id\": \"string\", \"ym_client_id\": \"string\", \"sale_date\": \"iso8601\", \"sale_cost\": \"number\", \"search_query\": \"string\", \"search_engine\": \"string\", \"referrer_domain\": \"string\", \"referrer\": \"string\", \"entrance_page\": \"string\", \"gclid\": \"string\", \"yclid\": \"string\", \"ymclid\": \"string\", \"ef_id\": \"string\", \"channel\": \"enum\", \"site_id\": \"number\", \"site_domain_name\": \"string\", \"campaign_id\": \"number\", \"campaign_name\": \"string\", \"visit_other_campaign\": \"boolean\", \"visitor_id\": \"number\", \"person_id\": \"number\", \"visitor_type\": \"enum\", \"visitor_session_id\": \"number\", \"visits_count\": \"number\", \"visitor_first_campaign_id\": \"number\", \"visitor_first_campaign_name\": \"string\", \"visitor_city\": \"string\", \"visitor_region\": \"string\", \"visitor_country\": \"string\", \"visitor_device\": \"enum\", \"last_answered_employee_id\": \"number\", \"last_answered_employee_full_name\": \"string\", \"last_answered_employee_rating\": \"number\", \"first_answered_employee_id\": \"number\", \"first_answered_employee_full_name\": \"string\", \"scenario_id\": \"number\", \"scenario_name\": \"string\", \"call_api_external_id\": \"string\", \"call_api_request_id\": \"number\", \"contact_phone_number\": \"string\", \"contact_full_name\": \"string\", \"contact_id\": \"number\", \"utm_source\": \"string\", \"utm_medium\": \"string\", \"utm_term\": \"string\", \"utm_content\": \"string\", \"utm_campaign\": \"string\", \"openstat_ad\": \"string\", \"openstat_campaign\": \"string\", \"openstat_service\": \"string\", \"openstat_source\": \"string\", \"eq_utm_source\": \"string\", \"eq_utm_medium\": \"string\", \"eq_utm_term\": \"string\", \"eq_utm_content\": \"string\", \"eq_utm_campaign\": \"string\", \"eq_utm_referrer\": \"string\", \"eq_utm_expid\": \"string\", \"attributes\": [ ], \"call_records\": [ ], \"voice_mail_records\": [ ], \"tags\": [ { \"tag_id\": \"number\", \"tag_name\": \"string\", \"tag_type\": \"enum\", \"tag_change_time\": \"iso8601\", \"tag_user_id\": \"number\", \"tag_user_login\": \"string\", \"tag_employee_id\": \"number\", \"tag_employee_full_name\": \"string\" } ], \"visitor_custom_properties\": [ { \"property_name\": \"string\", \"property_value\": \"string\" } ], \"segments\": [ { \"segment_id\": \"number\", \"segment_name\": \"string\" } ], \"employees\": [ { \"employee_id\": \"number\", \"employee_full_name\": \"string\", \"is_answered\": \"boolean\" } ], \"scenario_operations\": [ { \"name\": \"string\", \"id\": \"number\" } ] } ] } } List of returning errors Refer to the section \"List of errors for the methods with the verb get\"","title":"Get calls report"},{"location":"report/get_calls_report/#getting-call-session-reports","text":"Method get.calls_report Description Getting call session reports \"List of queries\" -> \"Calls\" Who has access Partner, Customer","title":"Getting call session reports"},{"location":"report/get_calls_report/#parameters-of-a-request","text":"Title Type Required Valid values Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" date_from iso8601 yes YYYY-MM-DD hh:mm:ss Selection start date date_till iso8601 yes YYYY-MM-DD hh:mm:ss Selection end day include_ongoing_calls boolean no Switch on ongoing calls","title":"Parameters of a request"},{"location":"report/get_calls_report/#parameters-of-a-reply","text":"Title Type Valid values Filtering Sorting Default reply Description id number yes yes Call session unique ID start_time iso8601 YYYY-MM-DD hh:mm:ss yes yes Time and date when call sessions starts finish_time iso8601 YYYY-MM-DD hh:mm:ss yes Time when call sessions ends finish_reason enum numb_not_exists incorrect_input numb_is_inactive sitephone_is_not_configured app_is_inactive numa_in_black_list no_active_scenario simple_forwarding_is_not_configured site_not_exists call_generator_is_not_configured add_cdr_timeout success_finish api_permission_denied api_ip_now_allowed component_is_inactive employee_not_exists not_enough_money platform_not_found internal_error incorrect_config communication_unavailable subscriber_disconnects no_operation scenario_not_found no_money transfer_disconnects scenario_disconnects fax_session_done no_resources another_operator_answer subscriber_busy subscriber_not_responsible subscriber_number_problems operator_answer locked_numb call_not_allowed_on_tp account_not_found contract_not_found operator_busy operator_not_responsible operator_disconnects operator_number_problems timeout operator_channels_busy locked_phone max_in_call_reached max_out_call_reached employee_busy phone_group_inactive_by_schedule sip_offline employee_inactive employee_inactive_by_schedule employee_phone_inactive action_interval_exceeded group_phone_inactive no_operator_confirmation max_transition_count_exceeded no_success_subscriber_call no_success_operator_call disconnect_before_call_processing processing_method_not_found employee_without_phones group_without_phones no_operator_cdr_found yes yes yes Reason why a call session ended numb_not_exists - Virtual number is not found incorrect_input - Incorrect input numb_is_inactive - Virtual number is inactive sitephone_is_not_configured - Sitephone is not configured app_is_inactive - App is inactive numa_in_black_list - Calling number is in the blacklist no_active_scenario - No active scenario is found simple_forwarding_is_not_configured - Analytics: Simple forwarding is not configured site_not_exists - Website is not found call_generator_is_not_configured - Call generator is not configured add_cdr_timeout - Not determined success_finish - Not determined api_permission_denied - Access to Call API is denied api_ip_now_allowed - IP address is not in the whitelist component_is_inactive - Component is inactive employee_not_exists - Employee is not found not_enough_money - Not enough money platform_not_found - Contact technical support internal_error - Contact technical support incorrect_config - Incorrect configuration communication_unavailable - Unavailable type of communication subscriber_disconnects - Subscriber disconnected no_operation - No operation to process scenario_not_found - Scenario not found no_money - Ran out of money or the financial limit is reached transfer_disconnects - Disconnect an employee during transfer scenario_disconnects - Disconnect an employee when starting a scenario fax_session_done - Fax is received no_resources - Customer limit is reached another_operator_answer - Another employee answered subscriber_busy - Subscriber is busy subscriber_not_responsible - Subscriber does not respond subscriber_number_problems - Problems with subscriber's number. Contact technical support. operator_answer - Employee answered locked_numb - Calls to a number are prohibited by security settings call_not_allowed_on_tp - Call is not allowed by a service plan account_not_found - Account is not found contract_not_found - Contract is not found operator_busy - Operator is busy operator_not_responsible - Operator does not respond operator_disconnects - Operator disconnected operator_number_problems - Problems with operator's number. Contact technical support. timeout - Time of a dial up is out operator_channels_busy - No more available lines on call transferring number locked_phone - Network problems max_in_call_reached - Limit of lines for incoming calls is reached max_out_call_reached - Limit of lines for outgoing calls is reached employee_busy - Employee is busy with another call phone_group_inactive_by_schedule - Numbers group is inactive according to a scenario sip_offline - SIP-line is not registered employee_inactive - Employee is inactive employee_inactive_by_schedule - Employee is inactive according to a schedule employee_phone_inactive - Employee number is inactive action_interval_exceeded - Interval, specified in the operation, is exceeded group_phone_inactive - A number in a group is not available no_operator_confirmation - Employee did not confirm a call max_transition_count_exceeded - Transitions from operations from a scenario limit is reacged no_success_subscriber_call - Couldn't reach a subscriber no_success_operator_call - Couldn't reach an employee disconnect_before_call_processing - Disconnection before a call is processed processing_method_not_found - Processing method is not found employee_without_phones - Employee doesn't have numbers group_without_phones - Employee group doesn't have numbers no_operator_cdr_found - Calls for employees are not found direction enum in - Incoming; out - Outgoing yes yes yes Call session direction cpn_region_id number yes yes yes Subscriber number region unique ID cpn_region_name string yes yes yes Subscriber number region name Operations of a scenario scenario_operations array yes no no List of all the operations in all the scenarios that take part in call processing. id number Scenario operation unique ID name string Scenario operation name source enum callapi - Call API Base set callapi_management_call - Call API Call management callapi_informer_call - Call API Informer call callapi_scenario_call - Call API Scenario call va - VPBX call call_tracking - Analytics dynamic_call_tracking - Dynamic call tracking callout - Callout callback - Callback faxout - Fax sip - Incoming call from SIP consultant - Consultant sitephone - Site phone lead - Lead generator retailcrm - Call from a retailCRM amocrm - Call from amoCRM bitrix - Call from Bitrix24 auto_back_call - Missed calls auto redialing yes yes yes Call source is_lost boolean yes yes yes Sign whether a call is lost or successful communication_number number yes yes Always empty for VPBX sessions, this is the ideology of service at the moment communication_page_url string no no no URL of a page on which a visitor was at the time of the call or a page of the last visitor interaction before the call. contact_phone_number string yes yes Contact number from which the call was received in case of an incoming call, or contact number to which a call was made in case of an outgoing call. communication_id number yes yes Communication ID communication_type enum call yes Communication type wait_duration number yes yes Waiting time until the first conversation with the employee. Value is in seconds. total_wait_duration number yes yes Total waiting time for a subscriber. It takes into account all the intervals when the subscriber did not talk to an employee. Value is in seconds. lost_call_processing_duration number yes yes Lost call processing duration. It taks into account time from a moment of a missed call to the first successful call. Value is in seconds talk_duration number yes yes Talk duration. It takes into account time from the first conversation with a subscriber to the beggining of post processing clean_talk_duration number yes yes Clean talk duration. Takes into account only those time periods when a subscriber was talking to an employee. Value is in seconds total_duration number yes yes Total duration of a call, value is in seconds postprocess_duration number yes Postprocessing duration, value is in seconds call_records array yes Unique ID of a link that leads to a recorded conversation. You can listen to it calling a request in a browser: https://app.callgear.com/system/media/talk/{communication_id}/{unique ID of a link that leads to a recorded conversation}/ voice_mail_records array Unique ID of a link that leads to a message in voice mail. You can listen to it calling a request in a browser: https://app.callgear.com/system/media/voice_mail/{communication_id}/{unique ID of a link that leads to a message in voice mail}/ virtual_phone_number string yes yes yes Virtual number ua_client_id string Unique ID in Universal Analytics ym_client_id string User unique ID in Yandex.Metrika sale_date iso8601 YYYY-MM-DD hh:mm:ss yes yes Sale date sale_cost number yes yes Sale cost is_transfer boolean true , false yes yes Wether or not call session included a transfer search_query string yes Search query search_engine string yes Search engine name referrer_domain string yes Domain referrer referrer string yes Referral source entrance_page string yes Entrance page gclid string yes Google Click Identifier yclid string yes Yandex Click Identifier ymclid string Yandex Market Click Identifier ef_id string yes Used to tag links in AdLense channel enum display paid affiliate messenger social email organic internal recommendation cashed referral direct yes Channel Used tags tags array yes Tags, refer to the method \"get.tags\" tag_name string Tag name tag_id number Tag unique ID tag_change_time iso8601 YYYY-MM-DD hh:mm:ss Time when tag was used tag_type enum auto , manual Tag type tag_user_id number Unique ID of a user who used a tag tag_user_login string Login of a user who used a tag tag_employee_id number Unique ID of an employee who used a tag tag_employee_full_name string Full name of an employee who used a tag Employees who participated in a call employees array yes Employees who participated in a call employee_id number Employee unique ID employee_full_name string Employee full name is_answered boolean Whether or not an employee answered is_talked boolean Whether or not an employee participated in the conversation Last answered employee last_answered_employee_id number yes Unique ID of an employee who was the last to take a phone last_answered_employee_full_name string yes Full name of an employee who was the last to take a phone last_answered_employee_rating number yes Rating of an employee who was the last to take a phone First answered employee first_answered_employee_id number yes Unique ID of the employee who first picked up the phone first_answered_employee_full_name string yes Full name of the employee who first picked up the phone Last employee talking last_talked_employee_id number yes Unique ID of the last employee talking last_talked_employee_full_name string yes Full name of the last employee talking First employee talking first_talked_employee_id number yes Unique ID of the first employee talking first_talked_employee_full_name string yes Full name of the first employee talking Scenario scenario_name string yes Name of the scenario where the call processing started scenario_id number yes yes Unique ID of the scenario where the call processing started Website site_domain_name string yes Website address on the internet. Without protocol - \"http://\" or \"https://\" site_id number yes yes Website unique ID Advertising campaign campaign_name string yes Advertising campaign name campaign_id number yes yes Advertising campaign ID visit_other_campaign boolean true , false The flag indicates whether a visitor has visited other advertising campaigns (within a person) Information about payment visitor_id number yes yes Visitor unique ID person_id number yes Person unique ID visitor_type enum New, Returned, Not filled in yes yes Visitor type visitor_session_id number yes Visitor session unique ID visits_count number yes Total visitor's visits count visitor_first_campaign_id number yes First advertising campaign unique ID visitor_first_campaign_name string yes First advertising campaign name visitor_city string yes Visitor city visitor_region string yes Visitor region visitor_country string yes Visitor country visitor_device enum desktop mobile tablet other yes yes User device Visitor properties visitor_custom_properties array yes Visitor properties that can be set using JavaScript API [method CallGear.setProperty ] property_name string Property name that's to be assigned property_value string Property value Segments segments array yes Segments segment_id number Segment unique ID segment_name string Segment name Call API call_api_request_id number yes Request to API unique ID. call_api_external_id string yes A unique ID that may be a call event with an external system. Address book contact contact_id number yes Contact unique ID contact_full_name string yes Contact full name UTM tags utm_source string yes Campaign source utm_medium string yes Campaign channel utm_term string yes Campaign key word utm_content string yes Campaign content utm_campaign string yes Campaign name OS tags openstat_ad string yes Ad ID openstat_campaign string yes Advertising campaign ID openstat_service string yes Service provider ID openstat_source string yes ID of a website, a section, a page, the corresponding advertisement was shown Inquiry attributes attributes array first - First quality through - First through quality primary - Primary secondary - Secondary lost - Lost target - Targeted off-target - Off targeted quality - Quality rest - Targeted repeated calls (calls made during the period of repeated calls configured for a website in CallGear client area). yes Inquiry attributes Expanded UTM tags eq_utm_source string yes Expanded utm_source eq_utm_medium string yes Expanded utm_medium eq_utm_term string yes Expanded utm_term eq_utm_content string yes Expanded utm_content eq_utm_campaign string yes Expanded utm_campaign eq_utm_referrer string yes Expanded utm_referrer eq_utm_expid string yes Expanded utm_expid","title":"Parameters of a reply"},{"location":"report/get_calls_report/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.calls_report\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"date_from\":\"string\", \"date_till\":\"string\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"report/get_calls_report/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"metadata\": { }, \"data\": [ { \"id\": \"number\", \"start_time\": \"iso8601\", \"finish_time\": \"iso8601\", \"virtual_phone_number\": \"string\", \"is_transfer\": \"boolean\", \"finish_reason\": \"enum\", \"direction\": \"enum\", \"source\": \"enum\", \"communication_number\": \"number\", \"communication_page_url\": \"string\", \"communication_id\": \"number\", \"communication_type\": \"enum\", \"is_lost\": \"boolean\", \"cpn_region_id\": \"number\", \"cpn_region_name\": \"string\", \"wait_duration\": \"number\", \"total_wait_duration\": \"number\", \"lost_call_processing_duration\" :\"number\", \"talk_duration\": \"number\", \"clean_talk_duration\": \"number\", \"total_duration\": \"number\", \"postprocess_duration\": \"number\", \"ua_client_id\": \"string\", \"ym_client_id\": \"string\", \"sale_date\": \"iso8601\", \"sale_cost\": \"number\", \"search_query\": \"string\", \"search_engine\": \"string\", \"referrer_domain\": \"string\", \"referrer\": \"string\", \"entrance_page\": \"string\", \"gclid\": \"string\", \"yclid\": \"string\", \"ymclid\": \"string\", \"ef_id\": \"string\", \"channel\": \"enum\", \"site_id\": \"number\", \"site_domain_name\": \"string\", \"campaign_id\": \"number\", \"campaign_name\": \"string\", \"visit_other_campaign\": \"boolean\", \"visitor_id\": \"number\", \"person_id\": \"number\", \"visitor_type\": \"enum\", \"visitor_session_id\": \"number\", \"visits_count\": \"number\", \"visitor_first_campaign_id\": \"number\", \"visitor_first_campaign_name\": \"string\", \"visitor_city\": \"string\", \"visitor_region\": \"string\", \"visitor_country\": \"string\", \"visitor_device\": \"enum\", \"last_answered_employee_id\": \"number\", \"last_answered_employee_full_name\": \"string\", \"last_answered_employee_rating\": \"number\", \"first_answered_employee_id\": \"number\", \"first_answered_employee_full_name\": \"string\", \"scenario_id\": \"number\", \"scenario_name\": \"string\", \"call_api_external_id\": \"string\", \"call_api_request_id\": \"number\", \"contact_phone_number\": \"string\", \"contact_full_name\": \"string\", \"contact_id\": \"number\", \"utm_source\": \"string\", \"utm_medium\": \"string\", \"utm_term\": \"string\", \"utm_content\": \"string\", \"utm_campaign\": \"string\", \"openstat_ad\": \"string\", \"openstat_campaign\": \"string\", \"openstat_service\": \"string\", \"openstat_source\": \"string\", \"eq_utm_source\": \"string\", \"eq_utm_medium\": \"string\", \"eq_utm_term\": \"string\", \"eq_utm_content\": \"string\", \"eq_utm_campaign\": \"string\", \"eq_utm_referrer\": \"string\", \"eq_utm_expid\": \"string\", \"attributes\": [ ], \"call_records\": [ ], \"voice_mail_records\": [ ], \"tags\": [ { \"tag_id\": \"number\", \"tag_name\": \"string\", \"tag_type\": \"enum\", \"tag_change_time\": \"iso8601\", \"tag_user_id\": \"number\", \"tag_user_login\": \"string\", \"tag_employee_id\": \"number\", \"tag_employee_full_name\": \"string\" } ], \"visitor_custom_properties\": [ { \"property_name\": \"string\", \"property_value\": \"string\" } ], \"segments\": [ { \"segment_id\": \"number\", \"segment_name\": \"string\" } ], \"employees\": [ { \"employee_id\": \"number\", \"employee_full_name\": \"string\", \"is_answered\": \"boolean\" } ], \"scenario_operations\": [ { \"name\": \"string\", \"id\": \"number\" } ] } ] } }","title":"JSON reply structure"},{"location":"report/get_calls_report/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb get\"","title":"List of returning errors"},{"location":"report/get_chat_messages_report/","text":"Getting all messages from a chat Method get.chat_messages_report Description Getting all messages from a chat Who has access Partner, Customer Parameters of a request Title Type Required Valid value Description access_token string yes Authentication session key user_id number no Unique user ID of agent's customer who makes request Is required for agent To get a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" date_from iso8601 yes YYYY-MM-DD hh:mm:ss Sampling start date date_till iso8601 yes YYYY-MM-DD hh:mm:ss Sampling end date Parameters of a reply Title Type Valid values Filtering Sorting Default reply Description chat_id number yes yes Chat unique ID, refer to \"get.chats_report\" date_time iso8601 YYYY-MM-DD hh:mm:ss yes yes Time and date when a message was sent All messages must be in the order they are sent, i.e. sorted by field \"date_time\" text string yes Message text source enum Operator, Visitor, System yes Message source Employee employee_id number yes yes yes Employee unique ID employee_full_name string yes Employee full name JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.chat_messages_report\", \"params\":{ \"access_token\":\"string\", \"chat_id\":\"number\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"chat_id\":\"number\", \"date_time\":\"iso8601\", \"text\":\"string\", \"source\":\"enum\", \"employee_id\":\"number\", \"employee_full_name\":\"string\" } ] } } List of returning errors Refer to the section \"List of errors for the methods with the verb get\"","title":"Get chat messages report"},{"location":"report/get_chat_messages_report/#getting-all-messages-from-a-chat","text":"Method get.chat_messages_report Description Getting all messages from a chat Who has access Partner, Customer","title":"Getting all messages from a chat"},{"location":"report/get_chat_messages_report/#parameters-of-a-request","text":"Title Type Required Valid value Description access_token string yes Authentication session key user_id number no Unique user ID of agent's customer who makes request Is required for agent To get a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" date_from iso8601 yes YYYY-MM-DD hh:mm:ss Sampling start date date_till iso8601 yes YYYY-MM-DD hh:mm:ss Sampling end date","title":"Parameters of a request"},{"location":"report/get_chat_messages_report/#parameters-of-a-reply","text":"Title Type Valid values Filtering Sorting Default reply Description chat_id number yes yes Chat unique ID, refer to \"get.chats_report\" date_time iso8601 YYYY-MM-DD hh:mm:ss yes yes Time and date when a message was sent All messages must be in the order they are sent, i.e. sorted by field \"date_time\" text string yes Message text source enum Operator, Visitor, System yes Message source Employee employee_id number yes yes yes Employee unique ID employee_full_name string yes Employee full name","title":"Parameters of a reply"},{"location":"report/get_chat_messages_report/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.chat_messages_report\", \"params\":{ \"access_token\":\"string\", \"chat_id\":\"number\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"report/get_chat_messages_report/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"chat_id\":\"number\", \"date_time\":\"iso8601\", \"text\":\"string\", \"source\":\"enum\", \"employee_id\":\"number\", \"employee_full_name\":\"string\" } ] } }","title":"JSON reply structure"},{"location":"report/get_chat_messages_report/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb get\"","title":"List of returning errors"},{"location":"report/get_chats_report/","text":"Getting information about chats Method get.chats_report Description Getting information about chats Who has access Partner, Customer Parameters of a request Title Type Required Valid value Description access_token string yes Authentication session key user_id number no Unique user ID of agent's customer who makes request Is required for agent To get a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" date_from iso8601 yes YYYY-MM-DD hh:mm:ss Sampling start date date_till iso8601 yes YYYY-MM-DD hh:mm:ss Sampling end date Parameters of a reply Title Type Valid values Filtering Sorting Default reply Description id number yes yes Chat unique ID. You can get all the messages from a chat by using the method \"get.chat_messages_report\" status enum lost - Lost; succeed - Succeed; refused - Refused yes yes yes Chat status initiator enum Visitor, Operator, Auto invite yes yes yes Chat initiator date_time iso8601 YYYY-MM-DD hh:mm:ss yes yes Time and sate when chat started duration string yes yes yes Chat duration. Value is in seconds answer_time number yes yes yes Operator's answer time. Value is in seconds communication_number number yes yes Communication number. Calculated within a person. communication_page_url string no no no URL of the webpage where a visitor was at the time of communication or the page of the last interaction with a visitor before comminication. communication_id number yes yes Communication unique ID communication_type enum chat Communication type chat_channel_type enum callgear yandex.dialogs dataapi yes yes Channel type chat_channel_name string Channel name messages_count number Messages count in a chat ua_client_id string Unique ID in Universal Analytics ym_client_id string User ID in Yandex.Metrika sale_date iso8601 YYYY-DD-MM hh:mm:ss yes yes Sale date sale_cost number yes yes Sale cost is_transfer boolean yes Chat was transferred to another employee or not release_cause enum closed_by_timeout invite_rejected closed_by_operator closed_by_visitor visitor_banned external_window_closed visitor_disconnected visitor_session_expired yes yes Why chat ended search_query string yes Search query search_engine string yes Search engine name referrer_domain string yes Referrer domain referrer string yes Referral source entrance_page string yes Entrance page gclid string yes Google Click Identifier yclid string yes Yandex Click Identifier ymclid string Yandex Market Click Identifier ef_id string yes Used to mark up links in contextual management system AdLense channel enum display paid affiliate messenger social email organic internal recommendation cashed referral direct yes Channel. Employee that accepted a chat employee_id number yes yes yes Employee unique ID employee_full_name string yes Employee full name employee_raiting number yes Operator rating from a visitor employee_messages_count number Number of operator messages in a chat Using tags tags array yes Tags, refer to the method \"get.tags\" tag_id number Tag unique ID tag_name string Tag name tag_change_time iso8601 YYYY-MM-DD hh:mm:ss Time when a tag was used tag_type enum auto , manual Tag type tag_user_id number Unique ID of a user, who used a tag tag_user_login string Login of a user, who used a tag tag_employee_id number Unique ID of an employee, who used a tag tag_employee_full_name string Full name of an employee, who used a tag Website site_id number yes yes yes Website unique ID site_domain_name string yes Website address on the internet. Without protocol - \"http://\" or \"https://\" Advertising campaign campaign_id number yes yes yes Advertising campaign unique ID campaign_name string yes Advertising campaign name visit_other_campaign boolean Flag that shows whether or not a visitor visited website from other advertising campaigns (within person) Information about visitor visitor_id number yes yes yes Visitor unique ID person_id number yes yes Person unique ID visitor_type enum New, Returned, Not filled in yes yes Visitor type visitor_session_id number yes yes Visitor session unique ID, refer to \"get.visitor_sessions_report\" visits_count number yes Total visits count visitor_first_campaign_id number yes First advertising campaign ID visitor_first_campaign_name string yes First advertising campaign name visitor_city string yes Visitor city visitor_region string yes Visitor region visitor_country string yes Visitor country visitor_device enum desktop mobile tablet other yes yes Visitor device Visitor properties visitor_custom_properties array yes Visitor properties that can be set in the client area or using JavaScript API [method CallGear.setProperty(name, value); ] property_name string Name of a property that's to be assigned to a visitor property_value string Property value Segments segments array yes Segments segment_id number Segment unique ID segment_name string Segment name UTM tags utm_source string yes Campaign source utm_medium string yes Campaign channel utm_term string yes Campaign key word utm_content string yes Campaign content utm_campaign string yes Campaign name OS tags openstat_ad string yes Ad ID openstat_campaign string yes Advertising campaign ID openstat_service string yes Service provider ID openstat_source string yes ID of a site, a section, a page, or a place on the page where an ad was shown Communication attributes attributes array first - First quality through - Through first quality primary - Primary secondary - Secondary lost - Lost target - Target off-target - Off target quality - Quality rest - Recurring target communications (communications, happened during a second communication, set for a website in CallGear client area). yes Communication attributes Expanded UTM tags eq_utm_source string yes Expanded utm_source eq_utm_medium string yes Expanded utm_medium eq_utm_term string yes Expanded utm_term eq_utm_content string yes Expanded utm_content eq_utm_campaign string yes Expanded utm_campaign eq_utm_referrer string yes Expanded utm_referrer eq_utm_expid string yes Expanded utm_expid JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.chats_report\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"date_from\":\"iso8601\", \"date_till\":\"iso8601\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"status\":\"enum\", \"initiator\":\"enum\", \"date_time\":\"iso8601\", \"duration\":\"string\", \"answer_time\":\"number\", \"communication_number\":\"number\", \"communication_page_url\": \"string\", \"communication_id\":\"number\", \"communication_type\":\"enum\", \"chat_channel_type\": \"enum\", \"chat_channel_name\": \"string\", \"messages_count\":\"number\", \"ua_client_id\":\"string\", \"ym_client_id\": \"string\", \"sale_date\":\"iso8601\", \"sale_cost\":\"number\", \"is_transfer\":\"boolean\", \"release_cause\":\"enum\", \"search_query\":\"string\", \"search_engine\":\"string\", \"referrer_domain\":\"string\", \"referrer\":\"string\", \"entrance_page\":\"string\", \"gclid\":\"string\", \"yclid\":\"string\", \"ymclid\":\"string\", \"ef_id\":\"string\", \"channel\":\"enum\", \"employee_id\":\"number\", \"employee_full_name\":\"string\", \"employee_messages_count\":\"number\", \"employee_raiting\":\"number\", \"site_id\":\"number\", \"site_domain_name\":\"string\", \"campaign_id\":\"number\", \"campaign_name\":\"string\", \"visit_other_campaign\":\"boolean\", \"visitor_id\":\"number\", \"person_id\":\"number\", \"visitor_type\":\"enum\", \"visitor_session_id\":\"number\", \"visits_count\":\"number\", \"visitor_first_campaign_id\":\"number\", \"visitor_first_campaign_name\":\"string\", \"visitor_city\":\"string\", \"visitor_region\":\"string\", \"visitor_country\":\"string\", \"visitor_device\":\"enum\", \"utm_source\":\"string\", \"utm_medium\":\"string\", \"utm_term\":\"string\", \"utm_content\":\"string\", \"utm_campaign\":\"string\", \"openstat_ad\":\"string\", \"openstat_campaign\":\"string\", \"openstat_service\":\"string\", \"openstat_source\":\"string\", \"eq_utm_source\": \"string\", \"eq_utm_medium\": \"string\", \"eq_utm_term\": \"string\", \"eq_utm_content\": \"string\", \"eq_utm_campaign\": \"string\", \"eq_utm_referrer\": \"string\", \"eq_utm_expid\": \"string\", \"attributes\":[ ], \"visitor_custom_properties\":[ { \"property_name\":\"string\", \"property_value\":\"string\" } ], \"segments\":[ { \"segment_id\":\"number\", \"segment_name\":\"string\" } ], \"tags\":[ { \"tag_id\":\"number\", \"tag_name\":\"string\", \"tag_type\":\"enum\", \"tag_change_time\":\"iso8601\", \"tag_user_login\":\"string\", \"tag_user_id\":\"number\", \"tag_employee_id\":\"number\", \"tag_employee_full_name\":\"string\" } ] } ] } } List of returning errors Refer to the section \"List of errors for the methods with the verb get\"","title":"Get chats report"},{"location":"report/get_chats_report/#getting-information-about-chats","text":"Method get.chats_report Description Getting information about chats Who has access Partner, Customer","title":"Getting information about chats"},{"location":"report/get_chats_report/#parameters-of-a-request","text":"Title Type Required Valid value Description access_token string yes Authentication session key user_id number no Unique user ID of agent's customer who makes request Is required for agent To get a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" date_from iso8601 yes YYYY-MM-DD hh:mm:ss Sampling start date date_till iso8601 yes YYYY-MM-DD hh:mm:ss Sampling end date","title":"Parameters of a request"},{"location":"report/get_chats_report/#parameters-of-a-reply","text":"Title Type Valid values Filtering Sorting Default reply Description id number yes yes Chat unique ID. You can get all the messages from a chat by using the method \"get.chat_messages_report\" status enum lost - Lost; succeed - Succeed; refused - Refused yes yes yes Chat status initiator enum Visitor, Operator, Auto invite yes yes yes Chat initiator date_time iso8601 YYYY-MM-DD hh:mm:ss yes yes Time and sate when chat started duration string yes yes yes Chat duration. Value is in seconds answer_time number yes yes yes Operator's answer time. Value is in seconds communication_number number yes yes Communication number. Calculated within a person. communication_page_url string no no no URL of the webpage where a visitor was at the time of communication or the page of the last interaction with a visitor before comminication. communication_id number yes yes Communication unique ID communication_type enum chat Communication type chat_channel_type enum callgear yandex.dialogs dataapi yes yes Channel type chat_channel_name string Channel name messages_count number Messages count in a chat ua_client_id string Unique ID in Universal Analytics ym_client_id string User ID in Yandex.Metrika sale_date iso8601 YYYY-DD-MM hh:mm:ss yes yes Sale date sale_cost number yes yes Sale cost is_transfer boolean yes Chat was transferred to another employee or not release_cause enum closed_by_timeout invite_rejected closed_by_operator closed_by_visitor visitor_banned external_window_closed visitor_disconnected visitor_session_expired yes yes Why chat ended search_query string yes Search query search_engine string yes Search engine name referrer_domain string yes Referrer domain referrer string yes Referral source entrance_page string yes Entrance page gclid string yes Google Click Identifier yclid string yes Yandex Click Identifier ymclid string Yandex Market Click Identifier ef_id string yes Used to mark up links in contextual management system AdLense channel enum display paid affiliate messenger social email organic internal recommendation cashed referral direct yes Channel. Employee that accepted a chat employee_id number yes yes yes Employee unique ID employee_full_name string yes Employee full name employee_raiting number yes Operator rating from a visitor employee_messages_count number Number of operator messages in a chat Using tags tags array yes Tags, refer to the method \"get.tags\" tag_id number Tag unique ID tag_name string Tag name tag_change_time iso8601 YYYY-MM-DD hh:mm:ss Time when a tag was used tag_type enum auto , manual Tag type tag_user_id number Unique ID of a user, who used a tag tag_user_login string Login of a user, who used a tag tag_employee_id number Unique ID of an employee, who used a tag tag_employee_full_name string Full name of an employee, who used a tag Website site_id number yes yes yes Website unique ID site_domain_name string yes Website address on the internet. Without protocol - \"http://\" or \"https://\" Advertising campaign campaign_id number yes yes yes Advertising campaign unique ID campaign_name string yes Advertising campaign name visit_other_campaign boolean Flag that shows whether or not a visitor visited website from other advertising campaigns (within person) Information about visitor visitor_id number yes yes yes Visitor unique ID person_id number yes yes Person unique ID visitor_type enum New, Returned, Not filled in yes yes Visitor type visitor_session_id number yes yes Visitor session unique ID, refer to \"get.visitor_sessions_report\" visits_count number yes Total visits count visitor_first_campaign_id number yes First advertising campaign ID visitor_first_campaign_name string yes First advertising campaign name visitor_city string yes Visitor city visitor_region string yes Visitor region visitor_country string yes Visitor country visitor_device enum desktop mobile tablet other yes yes Visitor device Visitor properties visitor_custom_properties array yes Visitor properties that can be set in the client area or using JavaScript API [method CallGear.setProperty(name, value); ] property_name string Name of a property that's to be assigned to a visitor property_value string Property value Segments segments array yes Segments segment_id number Segment unique ID segment_name string Segment name UTM tags utm_source string yes Campaign source utm_medium string yes Campaign channel utm_term string yes Campaign key word utm_content string yes Campaign content utm_campaign string yes Campaign name OS tags openstat_ad string yes Ad ID openstat_campaign string yes Advertising campaign ID openstat_service string yes Service provider ID openstat_source string yes ID of a site, a section, a page, or a place on the page where an ad was shown Communication attributes attributes array first - First quality through - Through first quality primary - Primary secondary - Secondary lost - Lost target - Target off-target - Off target quality - Quality rest - Recurring target communications (communications, happened during a second communication, set for a website in CallGear client area). yes Communication attributes Expanded UTM tags eq_utm_source string yes Expanded utm_source eq_utm_medium string yes Expanded utm_medium eq_utm_term string yes Expanded utm_term eq_utm_content string yes Expanded utm_content eq_utm_campaign string yes Expanded utm_campaign eq_utm_referrer string yes Expanded utm_referrer eq_utm_expid string yes Expanded utm_expid","title":"Parameters of a reply"},{"location":"report/get_chats_report/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.chats_report\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"date_from\":\"iso8601\", \"date_till\":\"iso8601\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"report/get_chats_report/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"status\":\"enum\", \"initiator\":\"enum\", \"date_time\":\"iso8601\", \"duration\":\"string\", \"answer_time\":\"number\", \"communication_number\":\"number\", \"communication_page_url\": \"string\", \"communication_id\":\"number\", \"communication_type\":\"enum\", \"chat_channel_type\": \"enum\", \"chat_channel_name\": \"string\", \"messages_count\":\"number\", \"ua_client_id\":\"string\", \"ym_client_id\": \"string\", \"sale_date\":\"iso8601\", \"sale_cost\":\"number\", \"is_transfer\":\"boolean\", \"release_cause\":\"enum\", \"search_query\":\"string\", \"search_engine\":\"string\", \"referrer_domain\":\"string\", \"referrer\":\"string\", \"entrance_page\":\"string\", \"gclid\":\"string\", \"yclid\":\"string\", \"ymclid\":\"string\", \"ef_id\":\"string\", \"channel\":\"enum\", \"employee_id\":\"number\", \"employee_full_name\":\"string\", \"employee_messages_count\":\"number\", \"employee_raiting\":\"number\", \"site_id\":\"number\", \"site_domain_name\":\"string\", \"campaign_id\":\"number\", \"campaign_name\":\"string\", \"visit_other_campaign\":\"boolean\", \"visitor_id\":\"number\", \"person_id\":\"number\", \"visitor_type\":\"enum\", \"visitor_session_id\":\"number\", \"visits_count\":\"number\", \"visitor_first_campaign_id\":\"number\", \"visitor_first_campaign_name\":\"string\", \"visitor_city\":\"string\", \"visitor_region\":\"string\", \"visitor_country\":\"string\", \"visitor_device\":\"enum\", \"utm_source\":\"string\", \"utm_medium\":\"string\", \"utm_term\":\"string\", \"utm_content\":\"string\", \"utm_campaign\":\"string\", \"openstat_ad\":\"string\", \"openstat_campaign\":\"string\", \"openstat_service\":\"string\", \"openstat_source\":\"string\", \"eq_utm_source\": \"string\", \"eq_utm_medium\": \"string\", \"eq_utm_term\": \"string\", \"eq_utm_content\": \"string\", \"eq_utm_campaign\": \"string\", \"eq_utm_referrer\": \"string\", \"eq_utm_expid\": \"string\", \"attributes\":[ ], \"visitor_custom_properties\":[ { \"property_name\":\"string\", \"property_value\":\"string\" } ], \"segments\":[ { \"segment_id\":\"number\", \"segment_name\":\"string\" } ], \"tags\":[ { \"tag_id\":\"number\", \"tag_name\":\"string\", \"tag_type\":\"enum\", \"tag_change_time\":\"iso8601\", \"tag_user_login\":\"string\", \"tag_user_id\":\"number\", \"tag_employee_id\":\"number\", \"tag_employee_full_name\":\"string\" } ] } ] } }","title":"JSON reply structure"},{"location":"report/get_chats_report/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb get\"","title":"List of returning errors"},{"location":"report/get_communications_report/","text":"Getting a list of all communications Method get.communications_report Description Getting a list of all communications Who has access Partner, Customer Parameters of a request Title Type Required Valid values Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" date_from iso8601 yes YYYY-MM-DD hh:mm:ss Selection start date date_till iso8601 yes YYYY-MM-DD hh:mm:ss Selection end day Parameters of a reply Title Type Valid values Filtering Sorting Default reply Description id number yes yes Communication unique ID. To get detailed information on each communication type, you can use the following methods: \"get.chats_report\" , \"get.goals_report\" , \"get.offline_messages_report\" , \"get.calls_report\" communication_type enum chat , call , goal , offline_message yes yes yes Communication type. To get detailed information on each communication type, you can use the following methods: \"get.chats_report\" , \"get.goals_report\" , \"get.offline_messages_report\" , \"get.calls_report\" communication_number number yes yes Communication number. Is calculated for a person. communication_page_url string no no no URL of the webpage where a visitor was at the time of communication or the page of the last interaction with a visitor before comminication. date_time iso8601 YYYY-MM-DD hh:mm:ss yes yes yes Communication time and date ua_client_id string Unique ID in the Universal Analytics ym_client_id string User unique ID in Yandex.Metrika sale_date iso8601 YYYY-MM-DD hh:mm:ss yes yes Sale date sale_cost number yes yes Sale cost search_query string yes Search query search_engine string yes Search engine name referrer_domain string yes Domain referrer referrer string yes Referral source entrance_page string yes Entrance page gclid string yes Google Click Identifier yclid string yes Yandex Click Identifier ymclid string Yandex Market Click Identifier ef_id string yes Is used to mark links in the contextual advertising management system AdLense channel enum display paid affiliate messenger social email organic internal recommendation cashed referral direct yes Channel. Used tags tags array yes Tags, refer to the method \"get.tags\" tag_id number Tag unique ID tag_name string Tag name tag_type enum auto , manual Tag type tag_change_time iso8601 YYYY-MM-DD hh:mm:ss Date and time of using a tag tag_user_id number Unique ID of a user that used a tag tag_user_login string Login of a user who used a tag tag_employee_id number Unique ID of an employee who used a tag tag_employee_full_name string Full name of an employee who used a tag Information about visitor visitor_id number yes yes yes Visitor unique ID person_id number yes yes Person unique ID visitor_type enum New, Returned, Not filled in yes yes Visitor type visitor_session_id number yes yes Visitor session unique ID, refer to \"get.visitor_sessions_report\" visits_count number yes Visits count visitor_first_campaign_id number yes First advertising campaign ID. visitor_first_campaign_name string yes First advertising campaign name visitor_city string yes City of a visitor visitor_region string yes Region of a visitor visitor_country string yes Country of a visitor visitor_device enum desktop mobile tablet other yes yes User device Properties of a user visitor_custom_properties array yes User properties, which you can set in your client area or via JavaScript API [method CallGear.setProperty(name, value); ] property_name string Name of a property that should be assigned to a visitor property_value string Property value Website site_id number yes yes yes Unique ID of a website site_domain_name string yes Website address on the internet. Without protocol - \"http://\" or \"https://\" Advertising campaign campaign_id number yes yes yes Advertising campaign unique ID campaign_name string yes Advertising campaign name visit_other_campaign boolean true , false yes Flag that shows whether or not a visitor visited website from other advertising campaigns (within person) Segments segments array yes Segments segment_name string Segment name segment_id number Segment ID UTMs utm_source string yes Campaign source utm_medium string yes Campaign channel utm_term string yes Campaign key word utm_content string yes Campaign content utm_campaign string yes Campaign name utm_referrer string yes Site referral source utm_expid string yes Google Analytics experiment ID OS tags openstat_ad string yes Ad ID openstat_campaign string yes Advertising campaign ID openstat_service string yes Service provider ID openstat_source string yes ID of a site, a section, a page, or a place on the page where an ad was shown Communication attributes attributes array first - First quality through - Through first quality primary - Primary secondary - Secondary lost - Lost target - Target off-target - Off target quality - Quality rest - Recurring target communications (communications, happened during a second communication, set for a website in CallGear client area). yes Communication attribute Expanded UTM tags eq_utm_source string yes Expanded utm_source eq_utm_medium string yes Expanded utm_medium eq_utm_term string yes Expanded utm_term eq_utm_content string yes Expanded utm_content eq_utm_campaign string yes Expanded utm_campaign eq_utm_referrer string yes Expanded utm_referrer eq_utm_expid string yes Expanded utm_expid JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.communications_report\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"date_from\":\"iso8601\", \"date_till\":\"iso8601\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"communication_type\":\"enum\", \"communication_number\":\"number\", \"communication_page_url\": \"string\", \"date_time\":\"iso8601\", \"ua_client_id\":\"string\", \"ym_client_id\": \"string\", \"sale_date\":\"iso8601\", \"sale_cost\":\"number\", \"search_query\":\"string\", \"search_engine\":\"string\", \"referrer_domain\":\"string\", \"referrer\":\"string\", \"entrance_page\":\"string\", \"gclid\":\"string\", \"yclid\":\"string\", \"ymclid\":\"string\", \"ef_id\":\"string\", \"channel\":\"enum\", \"tags\":[ { \"tag_id\":\"number\", \"tag_name\":\"string\", \"tag_type\":\"enum\", \"tag_change_time\":\"iso8601\", \"tag_user_id\":\"number\", \"tag_user_login\":\"string\", \"tag_employee_id\":\"number\", \"tag_employee_full\":\"string\" } ], \"site_id\":\"number\", \"site_domain_name\":\"string\", \"campaign_id\":\"number\", \"campaign_name\":\"string\", \"visit_other_campaign\":\"boolean\", \"visitor_id\":\"number\", \"person_id\":\"number\", \"visitor_type\":\"enum\", \"visitor_session_id\":\"number\", \"visits_count\":\"number\", \"visitor_first_campaign_id\":\"number\", \"visitor_first_campaign_name\":\"string\", \"visitor_city\":\"string\", \"visitor_region\":\"string\", \"visitor_country\":\"string\", \"visitor_device\":\"enum\", \"visitor_custom_properties\":[ { \"property_name\":\"string\", \"property_value\":\"string\" } ], \"segments\":[ { \"segment_id\":\"number\", \"segment_name\":\"string\" } ], \"utm_source\":\"string\", \"utm_medium\":\"string\", \"utm_term\":\"string\", \"utm_content\":\"string\", \"utm_campaign\":\"string\", \"openstat_ad\":\"string\", \"openstat_campaign\":\"string\", \"openstat_service\":\"string\", \"openstat_source\":\"string\", \"eq_utm_source\": \"string\", \"eq_utm_medium\": \"string\", \"eq_utm_term\": \"string\", \"eq_utm_content\": \"string\", \"eq_utm_campaign\": \"string\", \"eq_utm_referrer\": \"string\", \"eq_utm_expid\": \"string\", \"attributes\":[ ] } ] } } List of returning errors Refer to the section \"List of errors for the methods with the verb get\"","title":"Get communications report"},{"location":"report/get_communications_report/#getting-a-list-of-all-communications","text":"Method get.communications_report Description Getting a list of all communications Who has access Partner, Customer","title":"Getting a list of all communications"},{"location":"report/get_communications_report/#parameters-of-a-request","text":"Title Type Required Valid values Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" date_from iso8601 yes YYYY-MM-DD hh:mm:ss Selection start date date_till iso8601 yes YYYY-MM-DD hh:mm:ss Selection end day","title":"Parameters of a request"},{"location":"report/get_communications_report/#parameters-of-a-reply","text":"Title Type Valid values Filtering Sorting Default reply Description id number yes yes Communication unique ID. To get detailed information on each communication type, you can use the following methods: \"get.chats_report\" , \"get.goals_report\" , \"get.offline_messages_report\" , \"get.calls_report\" communication_type enum chat , call , goal , offline_message yes yes yes Communication type. To get detailed information on each communication type, you can use the following methods: \"get.chats_report\" , \"get.goals_report\" , \"get.offline_messages_report\" , \"get.calls_report\" communication_number number yes yes Communication number. Is calculated for a person. communication_page_url string no no no URL of the webpage where a visitor was at the time of communication or the page of the last interaction with a visitor before comminication. date_time iso8601 YYYY-MM-DD hh:mm:ss yes yes yes Communication time and date ua_client_id string Unique ID in the Universal Analytics ym_client_id string User unique ID in Yandex.Metrika sale_date iso8601 YYYY-MM-DD hh:mm:ss yes yes Sale date sale_cost number yes yes Sale cost search_query string yes Search query search_engine string yes Search engine name referrer_domain string yes Domain referrer referrer string yes Referral source entrance_page string yes Entrance page gclid string yes Google Click Identifier yclid string yes Yandex Click Identifier ymclid string Yandex Market Click Identifier ef_id string yes Is used to mark links in the contextual advertising management system AdLense channel enum display paid affiliate messenger social email organic internal recommendation cashed referral direct yes Channel. Used tags tags array yes Tags, refer to the method \"get.tags\" tag_id number Tag unique ID tag_name string Tag name tag_type enum auto , manual Tag type tag_change_time iso8601 YYYY-MM-DD hh:mm:ss Date and time of using a tag tag_user_id number Unique ID of a user that used a tag tag_user_login string Login of a user who used a tag tag_employee_id number Unique ID of an employee who used a tag tag_employee_full_name string Full name of an employee who used a tag Information about visitor visitor_id number yes yes yes Visitor unique ID person_id number yes yes Person unique ID visitor_type enum New, Returned, Not filled in yes yes Visitor type visitor_session_id number yes yes Visitor session unique ID, refer to \"get.visitor_sessions_report\" visits_count number yes Visits count visitor_first_campaign_id number yes First advertising campaign ID. visitor_first_campaign_name string yes First advertising campaign name visitor_city string yes City of a visitor visitor_region string yes Region of a visitor visitor_country string yes Country of a visitor visitor_device enum desktop mobile tablet other yes yes User device Properties of a user visitor_custom_properties array yes User properties, which you can set in your client area or via JavaScript API [method CallGear.setProperty(name, value); ] property_name string Name of a property that should be assigned to a visitor property_value string Property value Website site_id number yes yes yes Unique ID of a website site_domain_name string yes Website address on the internet. Without protocol - \"http://\" or \"https://\" Advertising campaign campaign_id number yes yes yes Advertising campaign unique ID campaign_name string yes Advertising campaign name visit_other_campaign boolean true , false yes Flag that shows whether or not a visitor visited website from other advertising campaigns (within person) Segments segments array yes Segments segment_name string Segment name segment_id number Segment ID UTMs utm_source string yes Campaign source utm_medium string yes Campaign channel utm_term string yes Campaign key word utm_content string yes Campaign content utm_campaign string yes Campaign name utm_referrer string yes Site referral source utm_expid string yes Google Analytics experiment ID OS tags openstat_ad string yes Ad ID openstat_campaign string yes Advertising campaign ID openstat_service string yes Service provider ID openstat_source string yes ID of a site, a section, a page, or a place on the page where an ad was shown Communication attributes attributes array first - First quality through - Through first quality primary - Primary secondary - Secondary lost - Lost target - Target off-target - Off target quality - Quality rest - Recurring target communications (communications, happened during a second communication, set for a website in CallGear client area). yes Communication attribute Expanded UTM tags eq_utm_source string yes Expanded utm_source eq_utm_medium string yes Expanded utm_medium eq_utm_term string yes Expanded utm_term eq_utm_content string yes Expanded utm_content eq_utm_campaign string yes Expanded utm_campaign eq_utm_referrer string yes Expanded utm_referrer eq_utm_expid string yes Expanded utm_expid","title":"Parameters of a reply"},{"location":"report/get_communications_report/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.communications_report\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"date_from\":\"iso8601\", \"date_till\":\"iso8601\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"report/get_communications_report/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"communication_type\":\"enum\", \"communication_number\":\"number\", \"communication_page_url\": \"string\", \"date_time\":\"iso8601\", \"ua_client_id\":\"string\", \"ym_client_id\": \"string\", \"sale_date\":\"iso8601\", \"sale_cost\":\"number\", \"search_query\":\"string\", \"search_engine\":\"string\", \"referrer_domain\":\"string\", \"referrer\":\"string\", \"entrance_page\":\"string\", \"gclid\":\"string\", \"yclid\":\"string\", \"ymclid\":\"string\", \"ef_id\":\"string\", \"channel\":\"enum\", \"tags\":[ { \"tag_id\":\"number\", \"tag_name\":\"string\", \"tag_type\":\"enum\", \"tag_change_time\":\"iso8601\", \"tag_user_id\":\"number\", \"tag_user_login\":\"string\", \"tag_employee_id\":\"number\", \"tag_employee_full\":\"string\" } ], \"site_id\":\"number\", \"site_domain_name\":\"string\", \"campaign_id\":\"number\", \"campaign_name\":\"string\", \"visit_other_campaign\":\"boolean\", \"visitor_id\":\"number\", \"person_id\":\"number\", \"visitor_type\":\"enum\", \"visitor_session_id\":\"number\", \"visits_count\":\"number\", \"visitor_first_campaign_id\":\"number\", \"visitor_first_campaign_name\":\"string\", \"visitor_city\":\"string\", \"visitor_region\":\"string\", \"visitor_country\":\"string\", \"visitor_device\":\"enum\", \"visitor_custom_properties\":[ { \"property_name\":\"string\", \"property_value\":\"string\" } ], \"segments\":[ { \"segment_id\":\"number\", \"segment_name\":\"string\" } ], \"utm_source\":\"string\", \"utm_medium\":\"string\", \"utm_term\":\"string\", \"utm_content\":\"string\", \"utm_campaign\":\"string\", \"openstat_ad\":\"string\", \"openstat_campaign\":\"string\", \"openstat_service\":\"string\", \"openstat_source\":\"string\", \"eq_utm_source\": \"string\", \"eq_utm_medium\": \"string\", \"eq_utm_term\": \"string\", \"eq_utm_content\": \"string\", \"eq_utm_campaign\": \"string\", \"eq_utm_referrer\": \"string\", \"eq_utm_expid\": \"string\", \"attributes\":[ ] } ] } }","title":"JSON reply structure"},{"location":"report/get_communications_report/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb get\"","title":"List of returning errors"},{"location":"report/get_financial_call_legs_report/","text":"Getting detailed reports about charge-off history on all the call sessions legs Method get.financial_call_legs_report Description Getting detailed reports about charge-off history on all the call sessions legs Who has access Partner, Customer Calls from the consultant and the sitephone forms are considered outgoing calls. Parameters of a request Title Type Required Valid value Description access_token string yes Authentication session key user_id number no Unique user ID of agent's customer who makes request Is required for agent To get a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" date_from iso8601 yes YYYY-MM-DD hh:mm:ss Sampling start date date_till iso8601 yes YYYY-MM-DD hh:mm:ss Sampling end date Parameters of a reply Title Type Valid values Filtering Sorting Default reply Description start_time iso8601 YYYY-MM-DD hh:mm:ss yes yes Time and date of a leg direction enum in - Incoming; out - Outgoing yes yes yes Leg direction source enum callapi - Call API; callapi_informer_call - Call API informer call; callapi_scenario_call - Call API scenario call callback - Callback; callout - Callout; call_tracking - Analytics; dynamic_call_tracking - Dynamic call tracking; va - Virtual PBX; sip - Outgoing call from SIP; consultant - Call from Consultant; lead - Call from Lead generator; sitephone - Call from Sitephone; faxout - Outgoing fax; retailcrm - retailCRM yes yes yes Leg source call_session_id number yes yes yes Unique call session ID, refer to the method \"get.calls_report\" leg_id number yes yes yes Unique call ID, refer to the method \"get.call_legs_report\" There can be several calls in one call session calling_phone_number string yes yes yes Calling phone number called_phone_number string yes yes yes Called phone number duration number yes yes yes Call duration, value is in seconds chargeable_duration number yes yes yes Chargeable call duration, value is in seconds direction_type enum international - international; national - national; local - local (Moscow and Moscow area); mobile - Mobile yes yes yes Call direction type cost_per_minute number yes yes yes Cost per minute total_charge number yes yes yes Total call cost bonuses_charge number yes yes yes Payed with bonuses JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.financial_call_legs_report\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"date_from\":\"iso8601\", \"date_till\":\"iso8601\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"start_time\":\"iso8601\", \"direction\":\"enum\", \"source\":\"enum\", \"call_session_id\":\"string\", \"leg_id\":\"number\", \"calling_phone_number\":\"string\", \"called_phone_number\":\"string\", \"duration\":\"number\", \"chargeable_duration\":\"number\", \"direction_type\":\"enum\", \"cost_per_minute\":\"number\", \"total_charge\":\"number\", \"bonuses_charge\":\"number\" } ] } } List of returning errors Refer to the section \"List of errors for the methods with the verb get\"","title":"Get financial call legs report"},{"location":"report/get_financial_call_legs_report/#getting-detailed-reports-about-charge-off-history-on-all-the-call-sessions-legs","text":"Method get.financial_call_legs_report Description Getting detailed reports about charge-off history on all the call sessions legs Who has access Partner, Customer Calls from the consultant and the sitephone forms are considered outgoing calls.","title":"Getting detailed reports about charge-off history on all the call sessions legs"},{"location":"report/get_financial_call_legs_report/#parameters-of-a-request","text":"Title Type Required Valid value Description access_token string yes Authentication session key user_id number no Unique user ID of agent's customer who makes request Is required for agent To get a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" date_from iso8601 yes YYYY-MM-DD hh:mm:ss Sampling start date date_till iso8601 yes YYYY-MM-DD hh:mm:ss Sampling end date","title":"Parameters of a request"},{"location":"report/get_financial_call_legs_report/#parameters-of-a-reply","text":"Title Type Valid values Filtering Sorting Default reply Description start_time iso8601 YYYY-MM-DD hh:mm:ss yes yes Time and date of a leg direction enum in - Incoming; out - Outgoing yes yes yes Leg direction source enum callapi - Call API; callapi_informer_call - Call API informer call; callapi_scenario_call - Call API scenario call callback - Callback; callout - Callout; call_tracking - Analytics; dynamic_call_tracking - Dynamic call tracking; va - Virtual PBX; sip - Outgoing call from SIP; consultant - Call from Consultant; lead - Call from Lead generator; sitephone - Call from Sitephone; faxout - Outgoing fax; retailcrm - retailCRM yes yes yes Leg source call_session_id number yes yes yes Unique call session ID, refer to the method \"get.calls_report\" leg_id number yes yes yes Unique call ID, refer to the method \"get.call_legs_report\" There can be several calls in one call session calling_phone_number string yes yes yes Calling phone number called_phone_number string yes yes yes Called phone number duration number yes yes yes Call duration, value is in seconds chargeable_duration number yes yes yes Chargeable call duration, value is in seconds direction_type enum international - international; national - national; local - local (Moscow and Moscow area); mobile - Mobile yes yes yes Call direction type cost_per_minute number yes yes yes Cost per minute total_charge number yes yes yes Total call cost bonuses_charge number yes yes yes Payed with bonuses","title":"Parameters of a reply"},{"location":"report/get_financial_call_legs_report/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.financial_call_legs_report\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"date_from\":\"iso8601\", \"date_till\":\"iso8601\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"report/get_financial_call_legs_report/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"start_time\":\"iso8601\", \"direction\":\"enum\", \"source\":\"enum\", \"call_session_id\":\"string\", \"leg_id\":\"number\", \"calling_phone_number\":\"string\", \"called_phone_number\":\"string\", \"duration\":\"number\", \"chargeable_duration\":\"number\", \"direction_type\":\"enum\", \"cost_per_minute\":\"number\", \"total_charge\":\"number\", \"bonuses_charge\":\"number\" } ] } }","title":"JSON reply structure"},{"location":"report/get_financial_call_legs_report/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb get\"","title":"List of returning errors"},{"location":"report/get_goals_report/","text":"Getting a list of achieved goals Method get.goals_report Description Getting a list of achieved goals Who has access Partner, Customer Parameters of a request Title Type Required Valid value Description access_token string yes Authentication session key user_id number no Unique user ID of agent's customer who makes request Is required for agent To get a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" date_from iso8601 yes YYYY-MM-DD hh:mm:ss Sampling start date date_till iso8601 yes YYYY-MM-DD hh:mm:ss Sampling end date Parameters of a reply Title Type Valid values Filtering Sorting Default reply Description id number yes Goal unique ID date_time iso8601 YYYY-MM-DD hh:mm:ss Time and date when goal was achived name string yes yes Goal name type enum track_event time_on_page callgear segment ppc_goal click link scroll time_on_site yes yes Goal type track_event - User time_on_page - Time on page callgear - In CallGear segment - Segment entry ppc_goal - click - Click to object link - Click a link scroll - Scroll actions time_on_site - Time on website ext_id string yes yes ID of an integrated target in the outside system source enum yandex.metrika google.analytics callgear yes yes Name of the system where the goal was set communication_number number yes yes Communication number. Calculated in within a person. communication_page_url string no no no The URL of the page where a visitor was at the time of the call, or the page of the last visitor interaction before the call. communication_id number yes yes Communication unique ID communication_type enum goal yes yes Communication type ua_client_id string Unique ID in Universal Analytics ym_client_id string Unique user ID in Yandex.Metrika sale_date iso8601 YYYY-MM-DD hh:mm:ss yes yes Sale date sale_cost number yes yes Sale cost search_query string yes Search query search_engine string yes Search engine name referrer_domain string yes Domain referrer referrer string yes Referrer entrance_page string yes Entrance page gclid string yes Google Click Identifier yclid string yes Yandex Click Identifier ymclid string yes Yandex Market Click Identifier ef_id string yes Used to mark up links in contextual management system AdLense channel enum display paid affiliate messenger social email organic internal recommendation cashed referral direct yes Channel Used tags tags array yes Tags, refer to the method \"get.tags\" tag_id number Tag unique ID tag_name string Tag name tag_type enum auto , manual Tag type tag_change_time iso8601 Time when a tag was used tag_user_id number ID of a user, who used a tag tag_user_login string Login of a user, who used a tag tag_employee_id number ID of an employee, who used a tag tag_employee_full_name string Full name of an employee who used a tag Website site_id number yes yes yes Website unique ID site_domain_name string yes yes Website address in the internet. Without protocol - \"http://\" or \"https://\" Advertising campaign campaign_id number yes yes yes Advertising campaign ID campaign_name string yes yes Advertising campaign name visit_other_campaign boolean The flag indicates whether a visitor entered by other advertising campaigns (within the person) Information about visitor visitor_id number yes yes Visitor unique ID person_id number yes Person unique ID visitor_type enum New, Returned, Not filled in yes yes Visitor type visitor_session_id number yes Visitor session unique ID, refer to \"get.visitor_sessions_report\" visits_count number yes Total visitor count visitor_first_campaign_id number yes First advertising campaign ID visitor_first_campaign_name string yes First advertising campaign name visitor_city string yes Visitor city visitor_region string yes Visitor region visitor_country string yes Visitor country visitor_device enum desktop mobile tablet other yes yes User device Visitor properties visitor_custom_properties array yes Visitor properties that can be set in the client area or using JavaScript API [method CallGear.setProperty(name, value); ] property_name string Name of a property that's to be assigned to a visitor property_value string Property value Segments segments array yes Segments segment_id number Segment unique ID segment_name string Segment name UTM tag utm_source string yes Campaign source utm_medium string yes Campaign channel utm_term string yes Campaign key word utm_content string yes Campaign content utm_campaign string yes Campaign name OS tag openstat_ad string yes Ad ID openstat_campaign string yes Advertising campaign ID openstat_service string yes Service provider ID openstat_source string yes ID of a site, a section, a page, or place on the page where an ad was shown Communication attributes attributes array first - First quality through - Through first quality primary - Primary secondary - Secondary lost - Lost target - Target off-target - Off target quality - Quality rest - Recurring target communications (communications, happened during a second communication, set for a website in CallGear client area). yes Communication attributes Expanded UTM tags eq_utm_source string yes Expanded utm_source eq_utm_medium string yes Expanded utm_medium eq_utm_term string yes Expanded utm_term eq_utm_content string yes Expanded utm_content eq_utm_campaign string yes Expanded utm_campaign eq_utm_referrer string yes Expanded utm_referrer eq_utm_expid string yes Expanded utm_expid JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.goals_report\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"date_from\":\"iso8601\", \"date_till\":\"iso8601\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"date_time\":\"iso8601\", \"name\":\"string\", \"type\": \"enum\", \"ext_id\": \"string\", \"source\": \"enum\", \"communication_number\":\"number\", \"communication_page_url\": \"string\", \"communication_id\":\"number\", \"communication_type\":\"enum\", \"ua_client_id\":\"string\", \"ym_client_id\": \"string\", \"sale_date\":\"iso8601\", \"sale_cost\":\"number\", \"search_query\":\"string\", \"search_engine\":\"string\", \"referrer_domain\":\"string\", \"referrer\":\"string\", \"entrance_page\":\"string\", \"gclid\":\"string\", \"yclid\":\"string\", \"ymclid\":\"string\", \"ef_id\":\"string\", \"channel\":\"enum\", \"tags\":[ { \"tag_id\":\"number\", \"tag_name\":\"string\", \"tag_type\":\"enum\", \"tag_change_time\":\"iso8601\", \"tag_user_id\":\"number\", \"tag_user_login\":\"string\", \"tag_employee_id\":\"number\", \"tag_employee_full_name\":\"string\" } ], \"site_id\":\"number\", \"site_domain_name\":\"string\", \"campaign_id\":\"number\", \"campaign_name\":\"string\", \"visit_other_campaign\":\"boolean\", \"visitor_id\":\"number\", \"person_id\":\"number\", \"visitor_type\":\"enum\", \"visitor_session_id\":\"number\", \"visits_count\":\"number\", \"visitor_first_campaign_id\":\"number\", \"visitor_first_campaign_name\":\"string\", \"visitor_city\":\"string\", \"visitor_region\":\"string\", \"visitor_country\":\"string\", \"visitor_device\":\"enum\", \"visitor_custom_properties\":[ { \"property_name\":\"string\", \"property_value\":\"string\" } ], \"segments\":[ { \"segment_id\":\"number\", \"segment_name\":\"string\" } ], \"utm_source\":\"string\", \"utm_medium\":\"string\", \"utm_term\":\"string\", \"utm_content\":\"string\", \"utm_campaign\":\"string\", \"openstat_ad\":\"string\", \"openstat_campaign\":\"string\", \"openstat_service\":\"string\", \"openstat_source\":\"string\", \"eq_utm_source\": \"string\", \"eq_utm_medium\": \"string\", \"eq_utm_term\": \"string\", \"eq_utm_content\": \"string\", \"eq_utm_campaign\": \"string\", \"eq_utm_referrer\": \"string\", \"eq_utm_expid\": \"string\", \"attributes\":[ ] } ] } } List of returning errors Refer to the section \"List of errors for the methods with the verb get\"","title":"Get goals report"},{"location":"report/get_goals_report/#getting-a-list-of-achieved-goals","text":"Method get.goals_report Description Getting a list of achieved goals Who has access Partner, Customer","title":"Getting a list of achieved goals"},{"location":"report/get_goals_report/#parameters-of-a-request","text":"Title Type Required Valid value Description access_token string yes Authentication session key user_id number no Unique user ID of agent's customer who makes request Is required for agent To get a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" date_from iso8601 yes YYYY-MM-DD hh:mm:ss Sampling start date date_till iso8601 yes YYYY-MM-DD hh:mm:ss Sampling end date","title":"Parameters of a request"},{"location":"report/get_goals_report/#parameters-of-a-reply","text":"Title Type Valid values Filtering Sorting Default reply Description id number yes Goal unique ID date_time iso8601 YYYY-MM-DD hh:mm:ss Time and date when goal was achived name string yes yes Goal name type enum track_event time_on_page callgear segment ppc_goal click link scroll time_on_site yes yes Goal type track_event - User time_on_page - Time on page callgear - In CallGear segment - Segment entry ppc_goal - click - Click to object link - Click a link scroll - Scroll actions time_on_site - Time on website ext_id string yes yes ID of an integrated target in the outside system source enum yandex.metrika google.analytics callgear yes yes Name of the system where the goal was set communication_number number yes yes Communication number. Calculated in within a person. communication_page_url string no no no The URL of the page where a visitor was at the time of the call, or the page of the last visitor interaction before the call. communication_id number yes yes Communication unique ID communication_type enum goal yes yes Communication type ua_client_id string Unique ID in Universal Analytics ym_client_id string Unique user ID in Yandex.Metrika sale_date iso8601 YYYY-MM-DD hh:mm:ss yes yes Sale date sale_cost number yes yes Sale cost search_query string yes Search query search_engine string yes Search engine name referrer_domain string yes Domain referrer referrer string yes Referrer entrance_page string yes Entrance page gclid string yes Google Click Identifier yclid string yes Yandex Click Identifier ymclid string yes Yandex Market Click Identifier ef_id string yes Used to mark up links in contextual management system AdLense channel enum display paid affiliate messenger social email organic internal recommendation cashed referral direct yes Channel Used tags tags array yes Tags, refer to the method \"get.tags\" tag_id number Tag unique ID tag_name string Tag name tag_type enum auto , manual Tag type tag_change_time iso8601 Time when a tag was used tag_user_id number ID of a user, who used a tag tag_user_login string Login of a user, who used a tag tag_employee_id number ID of an employee, who used a tag tag_employee_full_name string Full name of an employee who used a tag Website site_id number yes yes yes Website unique ID site_domain_name string yes yes Website address in the internet. Without protocol - \"http://\" or \"https://\" Advertising campaign campaign_id number yes yes yes Advertising campaign ID campaign_name string yes yes Advertising campaign name visit_other_campaign boolean The flag indicates whether a visitor entered by other advertising campaigns (within the person) Information about visitor visitor_id number yes yes Visitor unique ID person_id number yes Person unique ID visitor_type enum New, Returned, Not filled in yes yes Visitor type visitor_session_id number yes Visitor session unique ID, refer to \"get.visitor_sessions_report\" visits_count number yes Total visitor count visitor_first_campaign_id number yes First advertising campaign ID visitor_first_campaign_name string yes First advertising campaign name visitor_city string yes Visitor city visitor_region string yes Visitor region visitor_country string yes Visitor country visitor_device enum desktop mobile tablet other yes yes User device Visitor properties visitor_custom_properties array yes Visitor properties that can be set in the client area or using JavaScript API [method CallGear.setProperty(name, value); ] property_name string Name of a property that's to be assigned to a visitor property_value string Property value Segments segments array yes Segments segment_id number Segment unique ID segment_name string Segment name UTM tag utm_source string yes Campaign source utm_medium string yes Campaign channel utm_term string yes Campaign key word utm_content string yes Campaign content utm_campaign string yes Campaign name OS tag openstat_ad string yes Ad ID openstat_campaign string yes Advertising campaign ID openstat_service string yes Service provider ID openstat_source string yes ID of a site, a section, a page, or place on the page where an ad was shown Communication attributes attributes array first - First quality through - Through first quality primary - Primary secondary - Secondary lost - Lost target - Target off-target - Off target quality - Quality rest - Recurring target communications (communications, happened during a second communication, set for a website in CallGear client area). yes Communication attributes Expanded UTM tags eq_utm_source string yes Expanded utm_source eq_utm_medium string yes Expanded utm_medium eq_utm_term string yes Expanded utm_term eq_utm_content string yes Expanded utm_content eq_utm_campaign string yes Expanded utm_campaign eq_utm_referrer string yes Expanded utm_referrer eq_utm_expid string yes Expanded utm_expid","title":"Parameters of a reply"},{"location":"report/get_goals_report/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.goals_report\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"date_from\":\"iso8601\", \"date_till\":\"iso8601\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"report/get_goals_report/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"date_time\":\"iso8601\", \"name\":\"string\", \"type\": \"enum\", \"ext_id\": \"string\", \"source\": \"enum\", \"communication_number\":\"number\", \"communication_page_url\": \"string\", \"communication_id\":\"number\", \"communication_type\":\"enum\", \"ua_client_id\":\"string\", \"ym_client_id\": \"string\", \"sale_date\":\"iso8601\", \"sale_cost\":\"number\", \"search_query\":\"string\", \"search_engine\":\"string\", \"referrer_domain\":\"string\", \"referrer\":\"string\", \"entrance_page\":\"string\", \"gclid\":\"string\", \"yclid\":\"string\", \"ymclid\":\"string\", \"ef_id\":\"string\", \"channel\":\"enum\", \"tags\":[ { \"tag_id\":\"number\", \"tag_name\":\"string\", \"tag_type\":\"enum\", \"tag_change_time\":\"iso8601\", \"tag_user_id\":\"number\", \"tag_user_login\":\"string\", \"tag_employee_id\":\"number\", \"tag_employee_full_name\":\"string\" } ], \"site_id\":\"number\", \"site_domain_name\":\"string\", \"campaign_id\":\"number\", \"campaign_name\":\"string\", \"visit_other_campaign\":\"boolean\", \"visitor_id\":\"number\", \"person_id\":\"number\", \"visitor_type\":\"enum\", \"visitor_session_id\":\"number\", \"visits_count\":\"number\", \"visitor_first_campaign_id\":\"number\", \"visitor_first_campaign_name\":\"string\", \"visitor_city\":\"string\", \"visitor_region\":\"string\", \"visitor_country\":\"string\", \"visitor_device\":\"enum\", \"visitor_custom_properties\":[ { \"property_name\":\"string\", \"property_value\":\"string\" } ], \"segments\":[ { \"segment_id\":\"number\", \"segment_name\":\"string\" } ], \"utm_source\":\"string\", \"utm_medium\":\"string\", \"utm_term\":\"string\", \"utm_content\":\"string\", \"utm_campaign\":\"string\", \"openstat_ad\":\"string\", \"openstat_campaign\":\"string\", \"openstat_service\":\"string\", \"openstat_source\":\"string\", \"eq_utm_source\": \"string\", \"eq_utm_medium\": \"string\", \"eq_utm_term\": \"string\", \"eq_utm_content\": \"string\", \"eq_utm_campaign\": \"string\", \"eq_utm_referrer\": \"string\", \"eq_utm_expid\": \"string\", \"attributes\":[ ] } ] } }","title":"JSON reply structure"},{"location":"report/get_goals_report/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb get\"","title":"List of returning errors"},{"location":"report/get_offline_messages_report/","text":"Getting information about offline messages Method get.offline_messages_report Description Getting information about offline messages Who has access Partner, Customer Parameters of a request Title Type Required Valid value Description access_token string yes Authentication session key user_id number no Unique user ID of agent's customer who makes request Is required for agent To get a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" date_from iso8601 yes YYYY-MM-DD hh:mm:ss Sampling start date date_till iso8601 yes YYYY-MM-DD hh:mm:ss Sampling end date Parameters of a reply Title Type Valid values Filtering Sorting Default reply Description id number yes yes Offline message unique ID date_time iso8601 YYYY-MM-DD hh:mm:ss Date and time when an offline message was received text string yes Offline message text communication_number number yes yes Offline message number. Estimated whithin a person. communication_page_url string no no no URL of the webpage where a visitor was at the time of communication or the page of the last interaction with a visitor before comminication. communication_id number yes yes Communication unique ID communication_type enum offline_message Communication type ua_client_id string Unique ID in Universal Analytics ym_client_id string User ID in Yandex.Metrika sale_date iso8601 YYY-MM-DD hh:mm:ss yes yes Sale date sale_cost number yes yes Sale cost status enum processing processed not_processed yes yes yes Offline message status process_time iso8601 YYYY-MM-DD hh:mm:ss Date and time when an offline message was transferred to the status \"Processed\" (refer to the parameter \"status\" ) form_type enum User, Standard, DataAPI yes yes yes Type of the form from which an offline message was sent search_query string yes Search query search_engine string yes Search engine name referrer_domain string yes Referrer domain referrer string yes Referral source entrance_page string yes Entrance page gclid string yes Google Click Identifier yclid string yes Yandex Click Identifier ymclid string yes Yandex Market Click Identifier ef_id string yes Used to mark up links in contextual management system AdLense channel enum display paid affiliate messenger social email organic internal recommendation cashed referral direct yes Channel. Group, chosen by visitors group_id number yes yes Unique ID of a selected group group_name string yes yes Name of a selected group Employee employee_id number yes yes yes Unique ID of an employee who processed an offline message employee_full_name string yes yes Full name of an employee who processed an offline message employee_answer_message string Reply of an employee sent to visitor's email employee_comment string Comment of an employee when transferring an offline message into the status \"Processed\" (refer to the field \"status\" ) Used tags tags array yes Tags, refer to the method \"get.tags\" tag_id number Tag ID tag_name string Tag name tag_change_time iso8601 YYYY-MM-DD hh:mm:ss Time when a tag was used tag_type enum auto , manual Tag type tag_user_id number Unique ID of a user who used a tag tag_user_login string Login of a user who used a tag tag_employee_id number Unique ID of an employee who used a tag tag_employee_full_name string Full name of an employee who used a tag Website site_id number yes yes yes Website unique ID site_domain_name string yes Website address on the internet. Without protocol - \"http://\" or \"https://\" Advertising campaign campaign_id number yes yes yes Advertising campaign unique ID campaign_name string yes Advertising campaign name visit_other_campaign boolean Flag that shows whether or not a visitor visited website from other advertising campaigns (within person) Information about visitor visitor_phone_number number yes yes Visitor phone number left in the offline message visitor_email string yes yes Email left by a visitor visitor_name string yes yes Visitor name left in the offline message visitor_id number yes yes yes Visitor unique ID person_id number yes yes Person unique ID visitor_type enum New, Returned, Not filled in yes yes Visitor type visitor_session_id number yes yes Visitor session unique ID, refer to \"get.visitor_sessions_report\" visits_count number yes Visitor's visits total count visitor_first_campaign_id number yes First advertising campaign unique ID. visitor_first_campaign_name string yes First advertising campaign name visitor_city string yes Visitor city visitor_country string yes Visitor country visitor_region string yes Visitor region visitor_device enum desktop mobile tablet other yes yes User device Visitor properties visitor_custom_properties array yes Visitor properties that can be set in the client area or using JavaScript API [method CallGear.setProperty(name, value); ] property_name string Name of a property that's to be assigned to a visitor property_value string Property value Segments segments array yes Segments segment_id number Segment unique ID segment_name string Segment name UTM tags utm_source string yes Campaign source utm_medium string yes Campaign channel utm_term string yes Campaign key word utm_content string yes Campaign content utm_campaign string yes Campaign name OS tags openstat_ad string yes Ad ID openstat_campaign string yes Advertising campaign ID openstat_service string yes Service provider openstat_source string yes ID of a site, a section, a page, or a place on the page where an ad was shown Offline message attributes attributes array first - First quality through - Through first quality primary - Primary secondary - Secondary lost - Lost target - Target off-target - Off target quality - Quality rest - Recurring target communications (communications, happened during a second communication, set for a website in CallGear client area). yes Offline message attributes Expanded UTM tags eq_utm_source string yes Expanded utm_source eq_utm_medium string yes Expanded utm_medium eq_utm_term string yes Expanded utm_term eq_utm_content string yes Expanded utm_content eq_utm_campaign string yes Expanded utm_campaign eq_utm_referrer string yes Expanded utm_referrer eq_utm_expid string yes Expanded utm_expid JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.offline_messages_report\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"date_from\":\"iso8601\", \"date_till\":\"iso8601\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"date_time\":\"iso8601\", \"text\":\"string\", \"communication_number\":\"number\", \"communication_page_url\": \"string\", \"communication_type\":\"enum\", \"communication_id\":\"number\", \"ua_client_id\":\"string\", \"ym_client_id\": \"string\", \"sale_date\":\"iso8601\", \"sale_cost\":\"number\", \"status\":\"enum\", \"process_time\":\"iso8601\", \"form_type\":\"enum\", \"search_query\":\"string\", \"search_engine\":\"string\", \"referrer_domain\":\"string\", \"referrer\":\"string\", \"entrance_page\":\"string\", \"gclid\":\"string\", \"yclid\":\"string\", \"ymclid\":\"string\", \"ef_id\":\"string\", \"channel\":\"enum\", \"employee_id\":\"number\", \"employee_full_name\":\"string\", \"employee_answer_message\":\"string\", \"employee_comment\":\"string\", \"tags\":[ { \"tag_id\":\"number\", \"tag_name\":\"string\", \"tag_type\":\"enum\", \"tag_change_time\":\"iso8601\", \"tag_user_id\":\"number\", \"tag_user_login\":\"string\", \"tag_employee_id\":\"number\", \"tag_employee_full_name\":\"string\" } ], \"site_id\":\"number\", \"site_domain_name\":\"string\", \"group_id\":\"number\", \"group_name\":\"string\", \"campaign_id\":\"number\", \"campaign_name\":\"string\", \"visit_other_campaign\":\"boolean\", \"visitor_id\":\"number\", \"visitor_name\":\"string\", \"visitor_phone_number\":\"number\", \"visitor_email\":\"string\", \"person_id\":\"number\", \"visitor_type\":\"enum\", \"visitor_session_id\":\"number\", \"visits_count\":\"number\", \"visitor_first_campaign_id\":\"number\", \"visitor_first_campaign_name\":\"string\", \"visitor_city\":\"string\", \"visitor_region\":\"string\", \"visitor_country\":\"string\", \"visitor_device\":\"enum\", \"visitor_custom_properties\":[ { \"property_name\":\"string\", \"property_value\":\"string\" } ], \"segments\":[ { \"segment_id\":\"number\", \"segment_name\":\"string\" } ], \"utm_source\":\"string\", \"utm_medium\":\"string\", \"utm_term\":\"string\", \"utm_content\":\"string\", \"utm_campaign\":\"string\", \"openstat_ad\":\"string\", \"openstat_campaign\":\"string\", \"openstat_service\":\"string\", \"openstat_source\":\"string\", \"eq_utm_source\": \"string\", \"eq_utm_medium\": \"string\", \"eq_utm_term\": \"string\", \"eq_utm_content\": \"string\", \"eq_utm_campaign\": \"string\", \"eq_utm_referrer\": \"string\", \"eq_utm_expid\": \"string\", \"attributes\":[ ] } ] } } List of returning errors Refer to the section \"List of errors for the methods with the verb get\"","title":"Get offline messages report"},{"location":"report/get_offline_messages_report/#getting-information-about-offline-messages","text":"Method get.offline_messages_report Description Getting information about offline messages Who has access Partner, Customer","title":"Getting information about offline messages"},{"location":"report/get_offline_messages_report/#parameters-of-a-request","text":"Title Type Required Valid value Description access_token string yes Authentication session key user_id number no Unique user ID of agent's customer who makes request Is required for agent To get a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" date_from iso8601 yes YYYY-MM-DD hh:mm:ss Sampling start date date_till iso8601 yes YYYY-MM-DD hh:mm:ss Sampling end date","title":"Parameters of a request"},{"location":"report/get_offline_messages_report/#parameters-of-a-reply","text":"Title Type Valid values Filtering Sorting Default reply Description id number yes yes Offline message unique ID date_time iso8601 YYYY-MM-DD hh:mm:ss Date and time when an offline message was received text string yes Offline message text communication_number number yes yes Offline message number. Estimated whithin a person. communication_page_url string no no no URL of the webpage where a visitor was at the time of communication or the page of the last interaction with a visitor before comminication. communication_id number yes yes Communication unique ID communication_type enum offline_message Communication type ua_client_id string Unique ID in Universal Analytics ym_client_id string User ID in Yandex.Metrika sale_date iso8601 YYY-MM-DD hh:mm:ss yes yes Sale date sale_cost number yes yes Sale cost status enum processing processed not_processed yes yes yes Offline message status process_time iso8601 YYYY-MM-DD hh:mm:ss Date and time when an offline message was transferred to the status \"Processed\" (refer to the parameter \"status\" ) form_type enum User, Standard, DataAPI yes yes yes Type of the form from which an offline message was sent search_query string yes Search query search_engine string yes Search engine name referrer_domain string yes Referrer domain referrer string yes Referral source entrance_page string yes Entrance page gclid string yes Google Click Identifier yclid string yes Yandex Click Identifier ymclid string yes Yandex Market Click Identifier ef_id string yes Used to mark up links in contextual management system AdLense channel enum display paid affiliate messenger social email organic internal recommendation cashed referral direct yes Channel. Group, chosen by visitors group_id number yes yes Unique ID of a selected group group_name string yes yes Name of a selected group Employee employee_id number yes yes yes Unique ID of an employee who processed an offline message employee_full_name string yes yes Full name of an employee who processed an offline message employee_answer_message string Reply of an employee sent to visitor's email employee_comment string Comment of an employee when transferring an offline message into the status \"Processed\" (refer to the field \"status\" ) Used tags tags array yes Tags, refer to the method \"get.tags\" tag_id number Tag ID tag_name string Tag name tag_change_time iso8601 YYYY-MM-DD hh:mm:ss Time when a tag was used tag_type enum auto , manual Tag type tag_user_id number Unique ID of a user who used a tag tag_user_login string Login of a user who used a tag tag_employee_id number Unique ID of an employee who used a tag tag_employee_full_name string Full name of an employee who used a tag Website site_id number yes yes yes Website unique ID site_domain_name string yes Website address on the internet. Without protocol - \"http://\" or \"https://\" Advertising campaign campaign_id number yes yes yes Advertising campaign unique ID campaign_name string yes Advertising campaign name visit_other_campaign boolean Flag that shows whether or not a visitor visited website from other advertising campaigns (within person) Information about visitor visitor_phone_number number yes yes Visitor phone number left in the offline message visitor_email string yes yes Email left by a visitor visitor_name string yes yes Visitor name left in the offline message visitor_id number yes yes yes Visitor unique ID person_id number yes yes Person unique ID visitor_type enum New, Returned, Not filled in yes yes Visitor type visitor_session_id number yes yes Visitor session unique ID, refer to \"get.visitor_sessions_report\" visits_count number yes Visitor's visits total count visitor_first_campaign_id number yes First advertising campaign unique ID. visitor_first_campaign_name string yes First advertising campaign name visitor_city string yes Visitor city visitor_country string yes Visitor country visitor_region string yes Visitor region visitor_device enum desktop mobile tablet other yes yes User device Visitor properties visitor_custom_properties array yes Visitor properties that can be set in the client area or using JavaScript API [method CallGear.setProperty(name, value); ] property_name string Name of a property that's to be assigned to a visitor property_value string Property value Segments segments array yes Segments segment_id number Segment unique ID segment_name string Segment name UTM tags utm_source string yes Campaign source utm_medium string yes Campaign channel utm_term string yes Campaign key word utm_content string yes Campaign content utm_campaign string yes Campaign name OS tags openstat_ad string yes Ad ID openstat_campaign string yes Advertising campaign ID openstat_service string yes Service provider openstat_source string yes ID of a site, a section, a page, or a place on the page where an ad was shown Offline message attributes attributes array first - First quality through - Through first quality primary - Primary secondary - Secondary lost - Lost target - Target off-target - Off target quality - Quality rest - Recurring target communications (communications, happened during a second communication, set for a website in CallGear client area). yes Offline message attributes Expanded UTM tags eq_utm_source string yes Expanded utm_source eq_utm_medium string yes Expanded utm_medium eq_utm_term string yes Expanded utm_term eq_utm_content string yes Expanded utm_content eq_utm_campaign string yes Expanded utm_campaign eq_utm_referrer string yes Expanded utm_referrer eq_utm_expid string yes Expanded utm_expid","title":"Parameters of a reply"},{"location":"report/get_offline_messages_report/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.offline_messages_report\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"date_from\":\"iso8601\", \"date_till\":\"iso8601\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"report/get_offline_messages_report/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"date_time\":\"iso8601\", \"text\":\"string\", \"communication_number\":\"number\", \"communication_page_url\": \"string\", \"communication_type\":\"enum\", \"communication_id\":\"number\", \"ua_client_id\":\"string\", \"ym_client_id\": \"string\", \"sale_date\":\"iso8601\", \"sale_cost\":\"number\", \"status\":\"enum\", \"process_time\":\"iso8601\", \"form_type\":\"enum\", \"search_query\":\"string\", \"search_engine\":\"string\", \"referrer_domain\":\"string\", \"referrer\":\"string\", \"entrance_page\":\"string\", \"gclid\":\"string\", \"yclid\":\"string\", \"ymclid\":\"string\", \"ef_id\":\"string\", \"channel\":\"enum\", \"employee_id\":\"number\", \"employee_full_name\":\"string\", \"employee_answer_message\":\"string\", \"employee_comment\":\"string\", \"tags\":[ { \"tag_id\":\"number\", \"tag_name\":\"string\", \"tag_type\":\"enum\", \"tag_change_time\":\"iso8601\", \"tag_user_id\":\"number\", \"tag_user_login\":\"string\", \"tag_employee_id\":\"number\", \"tag_employee_full_name\":\"string\" } ], \"site_id\":\"number\", \"site_domain_name\":\"string\", \"group_id\":\"number\", \"group_name\":\"string\", \"campaign_id\":\"number\", \"campaign_name\":\"string\", \"visit_other_campaign\":\"boolean\", \"visitor_id\":\"number\", \"visitor_name\":\"string\", \"visitor_phone_number\":\"number\", \"visitor_email\":\"string\", \"person_id\":\"number\", \"visitor_type\":\"enum\", \"visitor_session_id\":\"number\", \"visits_count\":\"number\", \"visitor_first_campaign_id\":\"number\", \"visitor_first_campaign_name\":\"string\", \"visitor_city\":\"string\", \"visitor_region\":\"string\", \"visitor_country\":\"string\", \"visitor_device\":\"enum\", \"visitor_custom_properties\":[ { \"property_name\":\"string\", \"property_value\":\"string\" } ], \"segments\":[ { \"segment_id\":\"number\", \"segment_name\":\"string\" } ], \"utm_source\":\"string\", \"utm_medium\":\"string\", \"utm_term\":\"string\", \"utm_content\":\"string\", \"utm_campaign\":\"string\", \"openstat_ad\":\"string\", \"openstat_campaign\":\"string\", \"openstat_service\":\"string\", \"openstat_source\":\"string\", \"eq_utm_source\": \"string\", \"eq_utm_medium\": \"string\", \"eq_utm_term\": \"string\", \"eq_utm_content\": \"string\", \"eq_utm_campaign\": \"string\", \"eq_utm_referrer\": \"string\", \"eq_utm_expid\": \"string\", \"attributes\":[ ] } ] } }","title":"JSON reply structure"},{"location":"report/get_offline_messages_report/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb get\"","title":"List of returning errors"},{"location":"report/get_visitor_sessions_report/","text":"Getting information about visitors sessions Method get.visitor_sessions_report Description Getting information about visitors sessions Who has access Partner, Customer Parameters of a request Title Type Required Valid value Description access_token string yes Authentication session key user_id number no Unique user ID of agent's customer who makes request Is required for agent To get a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" date_from iso8601 yes YYYY-MM-DD hh:mm:ss Sampling start date date_till iso8601 yes YYYY-MM-DD hh:mm:ss Sampling end date Parameters of a reply Title Type Valid value Filtering Sorting Default reply Description date_time iso8601 YYYY-MM-DD hh:mm:ss Time and date of a session id number Session unique ID ua_client_id string Unique ID in Universal Analytics ym_client_id string Unique user ID in Yandex.Metrika gclid string Tag value gclid yclid string Tag value yclid ef_id string Tag value ef_id ymclid string Tag value ymclid cm_id string yes cm_id - is the ValueTrack set . ValueTrack are URL parameters that can be added to landing pages URLs to collect click source information. integrated_campaign_data object yes Integrated campaign data adv_system - Advertising system ext_campaign_id - Advertising campaign ID in the advertising system ext_campaign_name - Advertising campaign name in the advertising system keyword_id - Phrase ID in the advertising system keyword - Phrase name in the advertising system current_banner_id - Current ad ID in the advertising system old_banner_ids - Current ad IDs in the advertising system banner_name - Ad name in the advertising system group_id - Group ID in the advertising system group_name - Group name in the advertising system auditory_id - Auditory ID in the advertising system auditory_name - Auditory name in the advertising system placement_name - Placement name in the advertising system yandex_placement_type - Placement type in the advertising system campaign_type - Campaign type in the advertising system device_type - Device type in the advertising system position_type - Click position in the advertising system yandex_region_id - Region ID in the advertising system yandex_region_name - Region name yandex_region_type - Region type referrer_domain string Referrer domain referrer string Referrer source search_engine string Search engine search_query string Search query entrance_page string Entrance page exit_page Exit page duration number Session duration. Value is in seconds channel enum display paid affiliate messenger social email organic internal recommendation cashed referral direct Channel. engine enum yandex.metrika yandex.direct google.analytics google.adwords Advertising engine pcc.engine_mnemonic Advertising campaign campaign_id number yes yes yes Advertising campaign unique ID campaign_name string yes yes Advertising campaign name Website site_id number yes yes yes Website unique ID site_domain_name string yes yes Website address on the internet. Without protocol - \"http://\" or \"https://\" Information about visitors person_id number yes yes Person unique ID visitor_id number yes yes yes Visitor unique ID visitor_device enum desktop mobile tablet other yes yes yes User device visitor_country string yes yes Visitor country visitor_city string yes yes Visitor city visitor_region string yes yes Visitor region visitor_ip_address string Visitor IP-address visitor_type enum New, Returned yes yes Visitor type visitor_browser_name string yes yes Visitor browser visitor_browser_version string yes yes Visitor browser version visitor_os_name string yes yes Visitor operating system name visitor_os_version string Visitor operating system version visitor_provider string Visitor internet provider visitor_screen string yes yes Visitor screen resolution visitor_language string yes yes Visitor device localization Visitor properties visitor_custom_properties array yes Visitor properties that can be set in the client area or using JavaScript API [method CallGear.setProperty(name, value); ] property_name string Name of a property that's to be assigned to a visitor property_value string Property value UTM tags utm_source string yes UTM-source utm_medium string yes UTM-medium utm_term string yes UTM-term utm_content string yes UTM-content utm_campaign string yes UTM-campaign Openstat-tags openstat_ad string yes Ad ID openstat_campaign string yes Advertising campaign ID openstat_service string yes Service provider ID openstat_source string yes ID of a site, a section, a page, or a place on the page where an ad was shown List of visited pages hits_count number Visited pages count hits array List of visited pages hit_time string Transition to page time hit_duration string Page visit duration. Format \"HH:MM:SS\" hit_url string Page address Segments list segments array yes Segments segment_name string Segment name segment_id number Segment unique ID List of communications communications array yes Communication type, refer to the method \"get.communications_report\" communication_type enum chat , call , goal , offline_message Type of communication. To get detailed information on each type of communication you can use the following methods: \"get.communications_report\" , \"get.chats_report\" , \"get.goals_report\" , \"get.offline_messages_report\" , \"get.calls_report\" communication_id number Unique ID of a communication. With this ID, you can get detailed information using the following methods: \"get.communications_report\" , \"get.chats_report \" , \"get.goals_report \" , \"get.offline_messages_report \" , \"get.calls_report\" communication_date_time iso8601 YYYY-MM-DD hh:mm:ss Time and date of communication JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.visitor_sessions_report\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"date_from\":\"iso8601\", \"date_till\":\"iso8601\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"metadata\": { }, \"data\": [ { \"id\": \"number\", \"date_time\": \"iso8601\", \"gclid\": \"string\", \"ua_client_id\": \"string\", \"ym_client_id\": \"string\", \"yclid\": \"string\", \"ef_id\": \"string\", \"ymclid\": \"string\", \"engine\": \"enum\", \"integrated_campaign_data\": { \"adv_system\": \"enum\", \"ext_campaign_id\": \"string\", \"ext_campaign_name\": \"string\", \"keyword_id\": \"string\", \"keyword\": \"string\", \"banner_id\": \"number\", \"banner_name\": \"string\", \"group_id\": \"number\", \"group_name\": \"string\", \"auditory_id\": \"number\", \"auditory_name\": \"string\", \"placement_name\": \"string\", \"yandex_placement_type\": \"string\", \"campaign_type\": \"string\", \"device_type\": \"string\", \"position_type\": \"string\", \"yandex_region_id\": \"number\", \"yandex_region_name\": \"string\", \"yandex_region_type\": \"string\" }, \"cm_id\": \"string\", \"referrer_domain\": \"string\", \"referrer\": \"string\", \"search_engine\": \"string\", \"search_query\": \"string\", \"entrance_page\": \"string\", \"duration\": \"string\", \"site_id\": \"number\", \"site_domain_name\": \"string\", \"camapign_id\": \"number\", \"campaign_name\": \"string\", \"channel\": \"enum\", \"visitor_device\": \"enum\", \"visitor_id\": \"number\", \"visitor_country\": \"string\", \"visitor_city\": \"string\", \"visitor_region\": \"string\", \"visitor_ip_address\": \"string\", \"visitor_type\": \"enum\", \"visitor_browser_name\": \"string\", \"visitor_browser_version\": \"string\", \"visitor_os_name\": \"string\", \"visitor_os_version\": \"string\", \"visitor_provider\": \"string\", \"visitor_screen\": \"string\", \"visitor_language\": \"string\", \"visitor_custom_properties\": [ { \"property_name\": \"string\", \"property_value\": \"string\" } ], \"utm_source\": \"string\", \"utm_medium\": \"string\", \"utm_term\": \"string\", \"utm_content\": \"string\", \"utm_campaign\": \"string\", \"openstat_ad\": \"string\", \"openstat_campaign\": \"string\", \"openstat_service\": \"string\", \"openstat_source\": \"string\", \"hits_count\": \"number\", \"hist\": { \"hit_time\": \"string\", \"hit_duration\": \"string\", \"hit_url\": \"string\" }, \"segments\": [ { \"segment_name\": \"string\", \"segment_id\": \"number\" } ], \"communications\": [ { \"communication_type\": \"enum\", \"communication_id\": \"number\", \"communication_date_time\": \"iso8601\" } ] } ] } } List of returning errors Refer to the section \"List of errors for the methods with the verb get\"","title":"Get visitor sessions report"},{"location":"report/get_visitor_sessions_report/#getting-information-about-visitors-sessions","text":"Method get.visitor_sessions_report Description Getting information about visitors sessions Who has access Partner, Customer","title":"Getting information about visitors sessions"},{"location":"report/get_visitor_sessions_report/#parameters-of-a-request","text":"Title Type Required Valid value Description access_token string yes Authentication session key user_id number no Unique user ID of agent's customer who makes request Is required for agent To get a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" date_from iso8601 yes YYYY-MM-DD hh:mm:ss Sampling start date date_till iso8601 yes YYYY-MM-DD hh:mm:ss Sampling end date","title":"Parameters of a request"},{"location":"report/get_visitor_sessions_report/#parameters-of-a-reply","text":"Title Type Valid value Filtering Sorting Default reply Description date_time iso8601 YYYY-MM-DD hh:mm:ss Time and date of a session id number Session unique ID ua_client_id string Unique ID in Universal Analytics ym_client_id string Unique user ID in Yandex.Metrika gclid string Tag value gclid yclid string Tag value yclid ef_id string Tag value ef_id ymclid string Tag value ymclid cm_id string yes cm_id - is the ValueTrack set . ValueTrack are URL parameters that can be added to landing pages URLs to collect click source information. integrated_campaign_data object yes Integrated campaign data adv_system - Advertising system ext_campaign_id - Advertising campaign ID in the advertising system ext_campaign_name - Advertising campaign name in the advertising system keyword_id - Phrase ID in the advertising system keyword - Phrase name in the advertising system current_banner_id - Current ad ID in the advertising system old_banner_ids - Current ad IDs in the advertising system banner_name - Ad name in the advertising system group_id - Group ID in the advertising system group_name - Group name in the advertising system auditory_id - Auditory ID in the advertising system auditory_name - Auditory name in the advertising system placement_name - Placement name in the advertising system yandex_placement_type - Placement type in the advertising system campaign_type - Campaign type in the advertising system device_type - Device type in the advertising system position_type - Click position in the advertising system yandex_region_id - Region ID in the advertising system yandex_region_name - Region name yandex_region_type - Region type referrer_domain string Referrer domain referrer string Referrer source search_engine string Search engine search_query string Search query entrance_page string Entrance page exit_page Exit page duration number Session duration. Value is in seconds channel enum display paid affiliate messenger social email organic internal recommendation cashed referral direct Channel. engine enum yandex.metrika yandex.direct google.analytics google.adwords Advertising engine pcc.engine_mnemonic Advertising campaign campaign_id number yes yes yes Advertising campaign unique ID campaign_name string yes yes Advertising campaign name Website site_id number yes yes yes Website unique ID site_domain_name string yes yes Website address on the internet. Without protocol - \"http://\" or \"https://\" Information about visitors person_id number yes yes Person unique ID visitor_id number yes yes yes Visitor unique ID visitor_device enum desktop mobile tablet other yes yes yes User device visitor_country string yes yes Visitor country visitor_city string yes yes Visitor city visitor_region string yes yes Visitor region visitor_ip_address string Visitor IP-address visitor_type enum New, Returned yes yes Visitor type visitor_browser_name string yes yes Visitor browser visitor_browser_version string yes yes Visitor browser version visitor_os_name string yes yes Visitor operating system name visitor_os_version string Visitor operating system version visitor_provider string Visitor internet provider visitor_screen string yes yes Visitor screen resolution visitor_language string yes yes Visitor device localization Visitor properties visitor_custom_properties array yes Visitor properties that can be set in the client area or using JavaScript API [method CallGear.setProperty(name, value); ] property_name string Name of a property that's to be assigned to a visitor property_value string Property value UTM tags utm_source string yes UTM-source utm_medium string yes UTM-medium utm_term string yes UTM-term utm_content string yes UTM-content utm_campaign string yes UTM-campaign Openstat-tags openstat_ad string yes Ad ID openstat_campaign string yes Advertising campaign ID openstat_service string yes Service provider ID openstat_source string yes ID of a site, a section, a page, or a place on the page where an ad was shown List of visited pages hits_count number Visited pages count hits array List of visited pages hit_time string Transition to page time hit_duration string Page visit duration. Format \"HH:MM:SS\" hit_url string Page address Segments list segments array yes Segments segment_name string Segment name segment_id number Segment unique ID List of communications communications array yes Communication type, refer to the method \"get.communications_report\" communication_type enum chat , call , goal , offline_message Type of communication. To get detailed information on each type of communication you can use the following methods: \"get.communications_report\" , \"get.chats_report\" , \"get.goals_report\" , \"get.offline_messages_report\" , \"get.calls_report\" communication_id number Unique ID of a communication. With this ID, you can get detailed information using the following methods: \"get.communications_report\" , \"get.chats_report \" , \"get.goals_report \" , \"get.offline_messages_report \" , \"get.calls_report\" communication_date_time iso8601 YYYY-MM-DD hh:mm:ss Time and date of communication","title":"Parameters of a reply"},{"location":"report/get_visitor_sessions_report/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.visitor_sessions_report\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"date_from\":\"iso8601\", \"date_till\":\"iso8601\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"report/get_visitor_sessions_report/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"metadata\": { }, \"data\": [ { \"id\": \"number\", \"date_time\": \"iso8601\", \"gclid\": \"string\", \"ua_client_id\": \"string\", \"ym_client_id\": \"string\", \"yclid\": \"string\", \"ef_id\": \"string\", \"ymclid\": \"string\", \"engine\": \"enum\", \"integrated_campaign_data\": { \"adv_system\": \"enum\", \"ext_campaign_id\": \"string\", \"ext_campaign_name\": \"string\", \"keyword_id\": \"string\", \"keyword\": \"string\", \"banner_id\": \"number\", \"banner_name\": \"string\", \"group_id\": \"number\", \"group_name\": \"string\", \"auditory_id\": \"number\", \"auditory_name\": \"string\", \"placement_name\": \"string\", \"yandex_placement_type\": \"string\", \"campaign_type\": \"string\", \"device_type\": \"string\", \"position_type\": \"string\", \"yandex_region_id\": \"number\", \"yandex_region_name\": \"string\", \"yandex_region_type\": \"string\" }, \"cm_id\": \"string\", \"referrer_domain\": \"string\", \"referrer\": \"string\", \"search_engine\": \"string\", \"search_query\": \"string\", \"entrance_page\": \"string\", \"duration\": \"string\", \"site_id\": \"number\", \"site_domain_name\": \"string\", \"camapign_id\": \"number\", \"campaign_name\": \"string\", \"channel\": \"enum\", \"visitor_device\": \"enum\", \"visitor_id\": \"number\", \"visitor_country\": \"string\", \"visitor_city\": \"string\", \"visitor_region\": \"string\", \"visitor_ip_address\": \"string\", \"visitor_type\": \"enum\", \"visitor_browser_name\": \"string\", \"visitor_browser_version\": \"string\", \"visitor_os_name\": \"string\", \"visitor_os_version\": \"string\", \"visitor_provider\": \"string\", \"visitor_screen\": \"string\", \"visitor_language\": \"string\", \"visitor_custom_properties\": [ { \"property_name\": \"string\", \"property_value\": \"string\" } ], \"utm_source\": \"string\", \"utm_medium\": \"string\", \"utm_term\": \"string\", \"utm_content\": \"string\", \"utm_campaign\": \"string\", \"openstat_ad\": \"string\", \"openstat_campaign\": \"string\", \"openstat_service\": \"string\", \"openstat_source\": \"string\", \"hits_count\": \"number\", \"hist\": { \"hit_time\": \"string\", \"hit_duration\": \"string\", \"hit_url\": \"string\" }, \"segments\": [ { \"segment_name\": \"string\", \"segment_id\": \"number\" } ], \"communications\": [ { \"communication_type\": \"enum\", \"communication_id\": \"number\", \"communication_date_time\": \"iso8601\" } ] } ] } }","title":"JSON reply structure"},{"location":"report/get_visitor_sessions_report/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb get\"","title":"List of returning errors"},{"location":"scenario/get_scenarios/","text":"Getting list of scenarios Method get.scenarios Description Getting a list of scenarios Who has access Agent, Customer Parameters of a request Name Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" limit number no Count of returning entries. Refer to Paging offset number no Offset that defines from which entry number to return the limit of entries. Default value is 0. Refer to Paging filter object no Refer to Filters fields array no Refer to Viewing returning data sort array no Refer to Data sorting Parameters of a reply Title Type Valid values Filtering Sorting Description id number yes yes Scenario unique ID name string yes yes Scenario name virtual_phone_numbers array yes Virtual phone numbers that use the scenario sites array yes List of websites for which the scenario is selected as the default scenario campaigns array yes List of advertising campaigns that virtual numbers with active rule to tie with the scenario are bind to JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.scenarios\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"id\": \"number\", \"jsonrpc\": \"2.0\", \"result\": { \"data\": [ { \"id\": \"number\", \"name\": \"string\", \"virtual_phone_numbers\" :[\"string\"], \"sites\":[ { \"site_id\": \"number\", \"site_domain_name\": \"string\" } ], \"campaigns\":[ { \"site_id\": \"number\", \"site_domain_name\": \"string\", \"campaign_id\": \"number\", \"campaign_name\": \"string\" } ] } ], \"metadata\": { } } } List of returning errors Refer to the section \"List of errors for methods with the verb get\"","title":"Get scenarios"},{"location":"scenario/get_scenarios/#getting-list-of-scenarios","text":"Method get.scenarios Description Getting a list of scenarios Who has access Agent, Customer","title":"Getting list of scenarios"},{"location":"scenario/get_scenarios/#parameters-of-a-request","text":"Name Type Required Description access_token string yes Authentication session key user_id number no Unique user ID of a customer or an agent who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" limit number no Count of returning entries. Refer to Paging offset number no Offset that defines from which entry number to return the limit of entries. Default value is 0. Refer to Paging filter object no Refer to Filters fields array no Refer to Viewing returning data sort array no Refer to Data sorting","title":"Parameters of a request"},{"location":"scenario/get_scenarios/#parameters-of-a-reply","text":"Title Type Valid values Filtering Sorting Description id number yes yes Scenario unique ID name string yes yes Scenario name virtual_phone_numbers array yes Virtual phone numbers that use the scenario sites array yes List of websites for which the scenario is selected as the default scenario campaigns array yes List of advertising campaigns that virtual numbers with active rule to tie with the scenario are bind to","title":"Parameters of a reply"},{"location":"scenario/get_scenarios/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.scenarios\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"scenario/get_scenarios/#json-reply-structure","text":"{ \"id\": \"number\", \"jsonrpc\": \"2.0\", \"result\": { \"data\": [ { \"id\": \"number\", \"name\": \"string\", \"virtual_phone_numbers\" :[\"string\"], \"sites\":[ { \"site_id\": \"number\", \"site_domain_name\": \"string\" } ], \"campaigns\":[ { \"site_id\": \"number\", \"site_domain_name\": \"string\", \"campaign_id\": \"number\", \"campaign_name\": \"string\" } ] } ], \"metadata\": { } } }","title":"JSON reply structure"},{"location":"scenario/get_scenarios/#list-of-returning-errors","text":"Refer to the section \"List of errors for methods with the verb get\"","title":"List of returning errors"},{"location":"schedule/create_schedules/","text":"Creating activity schedules Method create.schedules Description Creating activity schedules Who has access Partner, Customer Parameters of a request Title Type Required Valid values Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" name string yes Activity schedule name Work schedule schedules array yes Work schedules activity_days object yes Days when a schedule is active type enum yes days_of_week days_of_month business_calendar cycle Type. days_of_week - Weekly schedule days_of_month - Monthly schedule business_calendar - Business calendar cycle - Cycle calendar days array If \"type\" = \"days_of_week\" : 1 - Monday; 2 - Tuesday; 3 - Wednesday; 4 - Thursday; 5 - Friday; 6 - Saturday 0 - Sunday; 8 - day off; 7 - working day; If \"type\" = \"days_of_month\" : numbers from 1 to 31 If \"type\" = \"cycle\" : Number of working days per cycle; Number of days off per cycle; If \"type\" = \"business_calendar\" : 8 - day off; 7 - working day; Days of week or days of month Example of a cycle calendar: [2,2] - there is two working days in a cycle, and two days off. In sum we have a \"two after two\" schedule. Example of a business calendar: [7] - Calendar is active on working days according to the business calendar; [8] - Calendar is active on days off according to the business calendar Activity time of a schedule activity_time array Activity time of a schedule If the parameter is not specified, a schedule works with no limit time_from string HH:MM Time when schedule activity started time_till string yes HH:MM Time when schedule activity ended It must be more than mentioned in the parameter \"time_from\" Activity period of a schedule activity_date_from string YYYY-MM-DD Date when schedule activity started activity_date_till string YYYY-MM-DD Date when schedule activity ended Parameters of a reply Title Type Required Description id number yes Unique ID of an activity schedule JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"create.schedules\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"name\":\"string\", \"schedules\":[ { \"activity_days\":{ \"type\":\"enum\", \"days\":[ ] }, \"activity_time\":[ { \"time_from\":\"string\", \"time_till\":\"string\" } ], \"activity_date_from\":\"string\", \"activity_date_till\":\"string\" } ] } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"id\":\"number\" } } List of returning error Refer to \"List of errors for the methods with the verb create\"","title":"Create schedules"},{"location":"schedule/create_schedules/#creating-activity-schedules","text":"Method create.schedules Description Creating activity schedules Who has access Partner, Customer","title":"Creating activity schedules"},{"location":"schedule/create_schedules/#parameters-of-a-request","text":"Title Type Required Valid values Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" name string yes Activity schedule name Work schedule schedules array yes Work schedules activity_days object yes Days when a schedule is active type enum yes days_of_week days_of_month business_calendar cycle Type. days_of_week - Weekly schedule days_of_month - Monthly schedule business_calendar - Business calendar cycle - Cycle calendar days array If \"type\" = \"days_of_week\" : 1 - Monday; 2 - Tuesday; 3 - Wednesday; 4 - Thursday; 5 - Friday; 6 - Saturday 0 - Sunday; 8 - day off; 7 - working day; If \"type\" = \"days_of_month\" : numbers from 1 to 31 If \"type\" = \"cycle\" : Number of working days per cycle; Number of days off per cycle; If \"type\" = \"business_calendar\" : 8 - day off; 7 - working day; Days of week or days of month Example of a cycle calendar: [2,2] - there is two working days in a cycle, and two days off. In sum we have a \"two after two\" schedule. Example of a business calendar: [7] - Calendar is active on working days according to the business calendar; [8] - Calendar is active on days off according to the business calendar Activity time of a schedule activity_time array Activity time of a schedule If the parameter is not specified, a schedule works with no limit time_from string HH:MM Time when schedule activity started time_till string yes HH:MM Time when schedule activity ended It must be more than mentioned in the parameter \"time_from\" Activity period of a schedule activity_date_from string YYYY-MM-DD Date when schedule activity started activity_date_till string YYYY-MM-DD Date when schedule activity ended","title":"Parameters of a request"},{"location":"schedule/create_schedules/#parameters-of-a-reply","text":"Title Type Required Description id number yes Unique ID of an activity schedule","title":"Parameters of a reply"},{"location":"schedule/create_schedules/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"create.schedules\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"name\":\"string\", \"schedules\":[ { \"activity_days\":{ \"type\":\"enum\", \"days\":[ ] }, \"activity_time\":[ { \"time_from\":\"string\", \"time_till\":\"string\" } ], \"activity_date_from\":\"string\", \"activity_date_till\":\"string\" } ] } }","title":"JSON request structure"},{"location":"schedule/create_schedules/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"id\":\"number\" } }","title":"JSON reply structure"},{"location":"schedule/create_schedules/#list-of-returning-error","text":"Refer to \"List of errors for the methods with the verb create\"","title":"List of returning error"},{"location":"schedule/delete_schedules/","text":"Deleting activity schedules Method delete.schedules Description Deleting activity schedules Who has access Partner, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key id number yes Unique ID of an activity schedule user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"delete.schedules\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } } List of returning errors Refer to the section \"List of errors for the methods with the verb delete\"","title":"Delete schedules"},{"location":"schedule/delete_schedules/#deleting-activity-schedules","text":"Method delete.schedules Description Deleting activity schedules Who has access Partner, Customer","title":"Deleting activity schedules"},{"location":"schedule/delete_schedules/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key id number yes Unique ID of an activity schedule user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\"","title":"Parameters of a request"},{"location":"schedule/delete_schedules/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"delete.schedules\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\" } }","title":"JSON request structure"},{"location":"schedule/delete_schedules/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } }","title":"JSON reply structure"},{"location":"schedule/delete_schedules/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb delete\"","title":"List of returning errors"},{"location":"schedule/get_schedules/","text":"Getting a list of activity schedules Method get.schedules Description Getting a list of activity schedules Who has access Partner, Customer Parameter of a request Title Type Required Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" Parameters of a reply Title Type Valid values Filtering Sorting Description id number yes Activity schedule unique ID name string yes yes Activity schedule name Work schedules schedules array yes Work schedules activity_days object Days when a schedule is active type enum days_of_week days_of_month business_calendar cycle Type. days_of_week - Weekly schedule days_of_month - Monthly schedule business_calendar - Business calendar cycle - Cycle calendar days array If \"type\" = \"days_of_week\" : 1 - Monday; 2 - Tuesday; 3 - Wednesday; 4 - Thursday; 5 - Friday; 6 - Saturday 0 - Sunday; 8 - day off; 7 - working day; If \"type\" = \"days_of_month\" : numbers from 1 to 31 If \"type\" = \"cycle\" : Number of working days per cycle; Number of days off per cycle; If \"type\" = \"business_calendar\" : 8 - day off; 7 - working day; Days of week or days of month Example of a cycle calendar: [2,2] - there is two working days in a cycle, and two days off. In sum we have a \"two after two\" schedule. Example of a business calendar: [7] - Calendar is active on working days according to the business calendar; [8] - Calendar is active on days off according to the business calendar Activity time of a schedule activity_time array Activity time of a schedule If the parameter is not specified, a schedule works with no limit time_from string HH:MM Time when schedule activity started time_till string HH:MM Time when schedule activity ended It must be more than mentioned in the parameter \"time_from\" Activity period of a schedule activity_date_from string YYYY-MM-DD Date when schedule activity started activity_date_till string YYYY-MM-DD Date when schedule activity ended JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.schedules\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"name\":\"string\", \"schedules\":[ { \"activity_days\":{ \"type\":\"enum\", \"days\":[ ] }, \"activity_time\":[ { \"time_from\":\"string\", \"time_till\":\"string\" } ], \"activity_date_from\":\"string\", \"activity_date_till\":\"string\" } ] } ] } } List of returning errors Refer to the section \"List of errors for the methods with the verb get\"","title":"Get schedules"},{"location":"schedule/get_schedules/#getting-a-list-of-activity-schedules","text":"Method get.schedules Description Getting a list of activity schedules Who has access Partner, Customer","title":"Getting a list of activity schedules"},{"location":"schedule/get_schedules/#parameter-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\"","title":"Parameter of a request"},{"location":"schedule/get_schedules/#parameters-of-a-reply","text":"Title Type Valid values Filtering Sorting Description id number yes Activity schedule unique ID name string yes yes Activity schedule name Work schedules schedules array yes Work schedules activity_days object Days when a schedule is active type enum days_of_week days_of_month business_calendar cycle Type. days_of_week - Weekly schedule days_of_month - Monthly schedule business_calendar - Business calendar cycle - Cycle calendar days array If \"type\" = \"days_of_week\" : 1 - Monday; 2 - Tuesday; 3 - Wednesday; 4 - Thursday; 5 - Friday; 6 - Saturday 0 - Sunday; 8 - day off; 7 - working day; If \"type\" = \"days_of_month\" : numbers from 1 to 31 If \"type\" = \"cycle\" : Number of working days per cycle; Number of days off per cycle; If \"type\" = \"business_calendar\" : 8 - day off; 7 - working day; Days of week or days of month Example of a cycle calendar: [2,2] - there is two working days in a cycle, and two days off. In sum we have a \"two after two\" schedule. Example of a business calendar: [7] - Calendar is active on working days according to the business calendar; [8] - Calendar is active on days off according to the business calendar Activity time of a schedule activity_time array Activity time of a schedule If the parameter is not specified, a schedule works with no limit time_from string HH:MM Time when schedule activity started time_till string HH:MM Time when schedule activity ended It must be more than mentioned in the parameter \"time_from\" Activity period of a schedule activity_date_from string YYYY-MM-DD Date when schedule activity started activity_date_till string YYYY-MM-DD Date when schedule activity ended","title":"Parameters of a reply"},{"location":"schedule/get_schedules/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.schedules\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"schedule/get_schedules/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"name\":\"string\", \"schedules\":[ { \"activity_days\":{ \"type\":\"enum\", \"days\":[ ] }, \"activity_time\":[ { \"time_from\":\"string\", \"time_till\":\"string\" } ], \"activity_date_from\":\"string\", \"activity_date_till\":\"string\" } ] } ] } }","title":"JSON reply structure"},{"location":"schedule/get_schedules/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb get\"","title":"List of returning errors"},{"location":"schedule/update_schedules/","text":"Updating activity schedules Method update.schedules Description Updating activity schedules Who has access Partner, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key id number yes Unique ID of an activity schedule user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" name string yes Activity schedule name JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"update.schedules\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\", \"name\":\"string\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } } List of returning errors Refer to \"List of errors for the methods with the verb update\"","title":"Update schedules"},{"location":"schedule/update_schedules/#updating-activity-schedules","text":"Method update.schedules Description Updating activity schedules Who has access Partner, Customer","title":"Updating activity schedules"},{"location":"schedule/update_schedules/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key id number yes Unique ID of an activity schedule user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" name string yes Activity schedule name","title":"Parameters of a request"},{"location":"schedule/update_schedules/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"update.schedules\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\", \"name\":\"string\" } }","title":"JSON request structure"},{"location":"schedule/update_schedules/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } }","title":"JSON reply structure"},{"location":"schedule/update_schedules/#list-of-returning-errors","text":"Refer to \"List of errors for the methods with the verb update\"","title":"List of returning errors"},{"location":"sip/create_sip_lines/","text":"Creating SIP-lines Method create.sip_lines Description Creating SIP-lines Who has access Partner, Customer Parameters of a request Title Type Required Valid values Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" employee_id number yes Employee unique ID, refer to the method \"get.employees\" virtual_phone_number string yes E164 format. Begins with 7 Virtual number displayed during an outgoing call. If a virtual number is not transferred, a SIP-line will only have the type \"incoming communication\", if it is transferred, the type will be \"incoming and outgoing\" Parameters of a reply Name Type Description phone_number string Phone number of a SIP-line password string Password for registration server string FQDN and a server port for registration id number SIP-line unique ID JSON request structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"create.sip_lines\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"employee_id\": \"number\", \"virtual_phone_number\": \"string\" } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"phone_number\": \"string\", \"password\": \"string\", \"server\": \"string\", \"id\": \"number\" } } List of returning errors Refer to \"List of errors for the methods with the verb create\"","title":"Create sip lines"},{"location":"sip/create_sip_lines/#creating-sip-lines","text":"Method create.sip_lines Description Creating SIP-lines Who has access Partner, Customer","title":"Creating SIP-lines"},{"location":"sip/create_sip_lines/#parameters-of-a-request","text":"Title Type Required Valid values Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" employee_id number yes Employee unique ID, refer to the method \"get.employees\" virtual_phone_number string yes E164 format. Begins with 7 Virtual number displayed during an outgoing call. If a virtual number is not transferred, a SIP-line will only have the type \"incoming communication\", if it is transferred, the type will be \"incoming and outgoing\"","title":"Parameters of a request"},{"location":"sip/create_sip_lines/#parameters-of-a-reply","text":"Name Type Description phone_number string Phone number of a SIP-line password string Password for registration server string FQDN and a server port for registration id number SIP-line unique ID","title":"Parameters of a reply"},{"location":"sip/create_sip_lines/#json-request-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"create.sip_lines\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"employee_id\": \"number\", \"virtual_phone_number\": \"string\" } }","title":"JSON request structure"},{"location":"sip/create_sip_lines/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"phone_number\": \"string\", \"password\": \"string\", \"server\": \"string\", \"id\": \"number\" } }","title":"JSON reply structure"},{"location":"sip/create_sip_lines/#list-of-returning-errors","text":"Refer to \"List of errors for the methods with the verb create\"","title":"List of returning errors"},{"location":"sip/delete_sip_lines/","text":"Deleting a SIP-line Method delete.sip_lines Description Deleting a SIP-line Who has access Partner, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key id number yes SIP-line unique ID user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" JSON request structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"delete.sip_lines\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"id\": \"number\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } } List of returning errors Refer to \"List of errors for the methods with the verb delete\"","title":"Delete sip lines"},{"location":"sip/delete_sip_lines/#deleting-a-sip-line","text":"Method delete.sip_lines Description Deleting a SIP-line Who has access Partner, Customer","title":"Deleting a SIP-line"},{"location":"sip/delete_sip_lines/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key id number yes SIP-line unique ID user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\"","title":"Parameters of a request"},{"location":"sip/delete_sip_lines/#json-request-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"delete.sip_lines\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"id\": \"number\" } }","title":"JSON request structure"},{"location":"sip/delete_sip_lines/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } }","title":"JSON reply structure"},{"location":"sip/delete_sip_lines/#list-of-returning-errors","text":"Refer to \"List of errors for the methods with the verb delete\"","title":"List of returning errors"},{"location":"sip/get_sip_line_virtual_numbers/","text":"Getting a list of virtual numbers for a SIP-line Method get.sip_line_virtual_numbers Description Getting a list of virtual numbers that can be used when setting a SIP-line Who has access Partner, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" Parameters of a reply Title Type Valid values Filtering Sorting Description virtual_phone_number string yes Virtual number JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.sip_line_virtual_numbers\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"metadata\": { }, \"data\": [ { \"virtual_phone_number\": \"string\" } ] } } List of returning errors Refer to the section \"List of errors for the methods with the verb get\"","title":"Get sip line virtual numbers"},{"location":"sip/get_sip_line_virtual_numbers/#getting-a-list-of-virtual-numbers-for-a-sip-line","text":"Method get.sip_line_virtual_numbers Description Getting a list of virtual numbers that can be used when setting a SIP-line Who has access Partner, Customer","title":"Getting a list of virtual numbers for a SIP-line"},{"location":"sip/get_sip_line_virtual_numbers/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\"","title":"Parameters of a request"},{"location":"sip/get_sip_line_virtual_numbers/#parameters-of-a-reply","text":"Title Type Valid values Filtering Sorting Description virtual_phone_number string yes Virtual number","title":"Parameters of a reply"},{"location":"sip/get_sip_line_virtual_numbers/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.sip_line_virtual_numbers\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"sip/get_sip_line_virtual_numbers/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"metadata\": { }, \"data\": [ { \"virtual_phone_number\": \"string\" } ] } }","title":"JSON reply structure"},{"location":"sip/get_sip_line_virtual_numbers/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb get\"","title":"List of returning errors"},{"location":"sip/get_sip_lines/","text":"Getting a list of SIP-lines Method get.sip_lines Description Getting a list of SIP-lines Who has access Partner, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" Parameters of a reply Title Type Valid values Filtering Sorting Description id number yes Unique SIP-line id phone_number string yes SIP-line's phone number type enum in in_out yes yes Incoming connection type available for a SIP-lines. in - Support of incoming connection only in_out - Support of both incoming and outgoing connection channels_count number The number of lines available on a SIP-line dial_time number from 1 to 100 Default value is \"60\". Time to dial a number from an employee's profile. Value is in seconds. billing_state enum active manual_lock limit_lock yes yes SIP-line status in the billing. active - SIP-line is active; manual_lock - SIP-line is blocked manually; limit_lock - SIP-line is blocked automatically. physical_state enum Registered Not registered yes yes Physical state of a SIP-line. virtual_phone_number string E164 yes yes Virtual number displayed during an outgoing call If a SIP-line type is \"in\", this field will be empty status enum active inactive yes yes Sip-number status in an employee's profile, refer to \"get.employees\" employee_id number yes yes Employee unique ID, refer to the methods \"get.employees\" employee_full_name string yes Employee full name, refer to the methods \"get.employees\" IP-address ip_addresses array yes IP-address of registered terminals. Relevant to SIP-lines, that have parameter's value \"physical_state\" = \"Registered\" date_time iso8601 YYYY-MM-DD hh:mm:ss Time and date of registration ip string IP-address JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.sip_lines\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"metadata\": { }, \"data\": [ { \"id\": \"number\", \"phone_number\": \"string\", \"type\": \"enum\", \"employee_id\": \"number\", \"employee_full_name\": \"string\", \"channels_count\": \"number\", \"dial_time\": \"number\", \"billing_state\": \"enum\", \"physical_state\": \"enum\", \"status\": \"enum\", \"virtual_phone_number\": \"string\", \"ip_addresses\": [ { \"date_time\": \"iso8601\", \"ip\": \"string\" } ] } ] } } List of returning errors Refer to the section \"List of errors for the methods with the verb get\"","title":"Get sip lines"},{"location":"sip/get_sip_lines/#getting-a-list-of-sip-lines","text":"Method get.sip_lines Description Getting a list of SIP-lines Who has access Partner, Customer","title":"Getting a list of SIP-lines"},{"location":"sip/get_sip_lines/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\"","title":"Parameters of a request"},{"location":"sip/get_sip_lines/#parameters-of-a-reply","text":"Title Type Valid values Filtering Sorting Description id number yes Unique SIP-line id phone_number string yes SIP-line's phone number type enum in in_out yes yes Incoming connection type available for a SIP-lines. in - Support of incoming connection only in_out - Support of both incoming and outgoing connection channels_count number The number of lines available on a SIP-line dial_time number from 1 to 100 Default value is \"60\". Time to dial a number from an employee's profile. Value is in seconds. billing_state enum active manual_lock limit_lock yes yes SIP-line status in the billing. active - SIP-line is active; manual_lock - SIP-line is blocked manually; limit_lock - SIP-line is blocked automatically. physical_state enum Registered Not registered yes yes Physical state of a SIP-line. virtual_phone_number string E164 yes yes Virtual number displayed during an outgoing call If a SIP-line type is \"in\", this field will be empty status enum active inactive yes yes Sip-number status in an employee's profile, refer to \"get.employees\" employee_id number yes yes Employee unique ID, refer to the methods \"get.employees\" employee_full_name string yes Employee full name, refer to the methods \"get.employees\" IP-address ip_addresses array yes IP-address of registered terminals. Relevant to SIP-lines, that have parameter's value \"physical_state\" = \"Registered\" date_time iso8601 YYYY-MM-DD hh:mm:ss Time and date of registration ip string IP-address","title":"Parameters of a reply"},{"location":"sip/get_sip_lines/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.sip_lines\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"sip/get_sip_lines/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"metadata\": { }, \"data\": [ { \"id\": \"number\", \"phone_number\": \"string\", \"type\": \"enum\", \"employee_id\": \"number\", \"employee_full_name\": \"string\", \"channels_count\": \"number\", \"dial_time\": \"number\", \"billing_state\": \"enum\", \"physical_state\": \"enum\", \"status\": \"enum\", \"virtual_phone_number\": \"string\", \"ip_addresses\": [ { \"date_time\": \"iso8601\", \"ip\": \"string\" } ] } ] } }","title":"JSON reply structure"},{"location":"sip/get_sip_lines/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb get\"","title":"List of returning errors"},{"location":"sip/update_sip_line_password/","text":"Generating a new password for a SIP-line Method update.sip_line_password Description Generating a new password for a SIP-line Who has access Partner, Customer Parameters of the request Title Type Required Description access_token string yes Authentication session key id number yes SIP-line unique ID user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" Parameters of reply Title Type Description password string New password for registration JSON request structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"update.sip_line_password\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"id\": \"number\" } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"password\": \"string\" } } List of returning errors Refer to the section \"List of errors for the methods with the verb update\"","title":"Update sip line password"},{"location":"sip/update_sip_line_password/#generating-a-new-password-for-a-sip-line","text":"Method update.sip_line_password Description Generating a new password for a SIP-line Who has access Partner, Customer","title":"Generating a new password for a SIP-line"},{"location":"sip/update_sip_line_password/#parameters-of-the-request","text":"Title Type Required Description access_token string yes Authentication session key id number yes SIP-line unique ID user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\"","title":"Parameters of the request"},{"location":"sip/update_sip_line_password/#parameters-of-reply","text":"Title Type Description password string New password for registration","title":"Parameters of reply"},{"location":"sip/update_sip_line_password/#json-request-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"update.sip_line_password\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"id\": \"number\" } }","title":"JSON request structure"},{"location":"sip/update_sip_line_password/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"password\": \"string\" } }","title":"JSON reply structure"},{"location":"sip/update_sip_line_password/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb update\"","title":"List of returning errors"},{"location":"sip/update_sip_lines/","text":"Updating a SIP-line Method update.sip_lines Description Updating a SIP-line Who has access Partner, Customer Parameters of a request Title Type Required Valid value Description access_token string yes Authentication session key id number yes SIP-line unique ID user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" employee_id number yes Employee unique ID, refer to the method \"get.employees\" virtual_phone_number string yes E164 format. Begins with 7 Virtual number displayed during an outgoing call. If a virtual number is not transferred, a SIP-line will only have the type \"incoming communication\", if it is transferred, the type will be \"incoming and outgoing\" billing_state enum no active manual_lock SIP-line status in billing. active - SIP-line is active; manual_lock - SIP-line is manually blocked. channels_count number no The number of available lines on a SIP-line Defined by service plan limits. JSON request structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"update.sip_lines\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"id\": \"number\", \"employee_id\": \"number\", \"virtual_phone_number\": \"string\", \"billing_state\": \"enum\", \"channels_count\": \"number\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } } List of returning errors Refer to \"List of errors for the methods with the verb update\"","title":"Update sip lines"},{"location":"sip/update_sip_lines/#updating-a-sip-line","text":"Method update.sip_lines Description Updating a SIP-line Who has access Partner, Customer","title":"Updating a SIP-line"},{"location":"sip/update_sip_lines/#parameters-of-a-request","text":"Title Type Required Valid value Description access_token string yes Authentication session key id number yes SIP-line unique ID user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" employee_id number yes Employee unique ID, refer to the method \"get.employees\" virtual_phone_number string yes E164 format. Begins with 7 Virtual number displayed during an outgoing call. If a virtual number is not transferred, a SIP-line will only have the type \"incoming communication\", if it is transferred, the type will be \"incoming and outgoing\" billing_state enum no active manual_lock SIP-line status in billing. active - SIP-line is active; manual_lock - SIP-line is manually blocked. channels_count number no The number of available lines on a SIP-line Defined by service plan limits.","title":"Parameters of a request"},{"location":"sip/update_sip_lines/#json-request-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"update.sip_lines\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"id\": \"number\", \"employee_id\": \"number\", \"virtual_phone_number\": \"string\", \"billing_state\": \"enum\", \"channels_count\": \"number\" } }","title":"JSON request structure"},{"location":"sip/update_sip_lines/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } }","title":"JSON reply structure"},{"location":"sip/update_sip_lines/#list-of-returning-errors","text":"Refer to \"List of errors for the methods with the verb update\"","title":"List of returning errors"},{"location":"site/create_site_blocks/","text":"Websites > Creating a block of numbers for a website Method create.site_blocks Description Creating a block of numbers for a website Who has access Agent, Customer Parameters of a request Title Type Required Valid value Description access_token string yes Authentication session key user_id number no The ID of an agent's customer user who makes request Is required for agent To get a list of customer users you need to use the method \"get.customer_users\" site_id number yes Website unique ID name string yes Numbers block name Parameters of a reply dd | Title | Type | Required | Description | | :---- | :----- | :: | :----------------------------- | | id | number | yes | Numbers block unique ID | JSON request structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"create.site_blocks\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"site_id\": \"number\", \"name\": \"string\" } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"id\": \"number\", \"success\": \"true\" } } List of returning errors Refer to the section \"List of errors for the methods with the verb create\"","title":"Creating website"},{"location":"site/create_site_blocks/#parameters-of-a-request","text":"Title Type Required Valid value Description access_token string yes Authentication session key user_id number no The ID of an agent's customer user who makes request Is required for agent To get a list of customer users you need to use the method \"get.customer_users\" site_id number yes Website unique ID name string yes Numbers block name","title":"Parameters of a request"},{"location":"site/create_site_blocks/#parameters-of-a-reply","text":"dd | Title | Type | Required | Description | | :---- | :----- | :: | :----------------------------- | | id | number | yes | Numbers block unique ID |","title":"Parameters of a reply"},{"location":"site/create_site_blocks/#json-request-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"create.site_blocks\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"site_id\": \"number\", \"name\": \"string\" } }","title":"JSON request structure"},{"location":"site/create_site_blocks/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"id\": \"number\", \"success\": \"true\" } }","title":"JSON reply structure"},{"location":"site/create_site_blocks/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb create\"","title":"List of returning errors"},{"location":"site/create_sites/","text":"Websites > Creating a website Method create.sites Description Creating a website Who has access Agent, Customer Parameters of a request Title Type Required Valid value Description access_token string yes Authentication session key domain_name string yes Website address on the internet. Without protocol - \"http://\" or \"https://\". default_phone_number string yes Phone number, calls are forwarded to by default. A scenario with the number is made, the scenario's name should comply with the template \"Call forwarding to phone_number\". default_scenario_id number no Scenario ID. All the calls to the number will be processed according to the logic of the default scenario user_id number no The ID of an agent's customer user who makes request Is required for agent To get a list of customer users, you need to use the method \"get.customer_users\" industry_id number yes The industry the website belongs to. 1 Auto, moto 2 Audio, video, photo 3 Entertainment affiche 4 Business services 5 Household appliances 6 Dating 7 Internet technologies 8 Computers, office appliances 9 Beauty and wellbeing 10 Healthcare 11 Real estate 12 Clothing, accessories 13 Telecomminications 14 Construction, renovations 15 Transport 16 Tourism and leisure 17 Learning and education 18 Finance 19 Banks, loans 20 Insurance 21 Securities target_call_min_duration number no Default value is \"30\". Minimal time after which a call is considered targeted. Value is in seconds. track_subdomains_enabled boolean no false, true Default value is \"true\". Track website subdomains. cookie_lifetime number no Default value is \"90\". Lifespan of a \"cookie\". Value is in days. campaign_lifetime number no Default value is \"90\". Lifespan of an advertising campaign. Value is in days. sales_enabled boolean no false, true Default value is \"false\". Whether or not sales should be taken into account. second_communication_period number no 1-365 Default value is \"1\". Time period for return visit. Value is in days. services_enabled boolean no false, true Default value is \"true\". You can disable service for a specific website. When the service is disabled, all the services, such as call tracking and live support, are switched off and not working, except website statistics gathering. replacement_dynamical_block_enabled boolean no false, true Replacing numbers in dynamical blocks. (Default value is False) widget_link object no When activating the option, a link appears in inquiry forms, chats and profile details. When a user clicks it, he or she is redirected to the specified URL. enabled boolean yes Link in widgets text string yes Text of the link (up to 100 symbols) url string yes URL Show customer ID on the website show_visitor_id object no Displaying visitor ID on the website and asking for it during phone call, you can connect visit data with a call. This will help you to find out comprehensive data about the callers (for example, which search queries led them). enabled boolean yes false, true Default value is \"false\". element_id_value string yes For a visitor's ID to appear on the website, you need to specify the ID of an HTML element of the website. You also need to add a container with the ID data on the website's pages where you would place user ID (for example, <div id=\"callgearID\"></div> . ) message string no Defines text, that will be displayed alongside with a visitor's phone number on the website. length_visitor_id number no from 1 to 20 Default value is 6. Visitor ID digits count. Parameters of a reply Title Type Required Description id number yes Website unique ID JSON request structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"create.sites\", \"params\": { \"access_token\": \"string\", \"domain_name\": \"string\", \"default_phone_number\": \"string\", \"default_scenario_id\": \"number\", \"user_id\": \"number\", \"industry_id\": \"number\", \"target_call_min_duration\": \"number\", \"track_subdomains_enabled\": \"boolean\", \"cookie_lifetime\": \"number\", \"campaign_lifetime\": \"number\", \"sales_enabled\": \"boolean\", \"second_communication_period\": \"number\", \"services_enabled\": \"boolean\", \"replacement_dynamical_block_enabled\" : \"boolean\", \"widget_link\" : { \"enabled\": \"boolean\", \"text\": \"string\", \"url\": \"string\" }, \"show_visitor_id\": { \"enabled\": \"boolean\", \"element_id_value\": \"string\", \"message\": \"string\", \"length_visitor_id\": \"number\" } } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"id\": \"number\", \"success\": \"true\" } } List of returning errors Refer to the section \"List of errors for the methods with the verb create\"","title":"Creating websites"},{"location":"site/create_sites/#parameters-of-a-request","text":"Title Type Required Valid value Description access_token string yes Authentication session key domain_name string yes Website address on the internet. Without protocol - \"http://\" or \"https://\". default_phone_number string yes Phone number, calls are forwarded to by default. A scenario with the number is made, the scenario's name should comply with the template \"Call forwarding to phone_number\". default_scenario_id number no Scenario ID. All the calls to the number will be processed according to the logic of the default scenario user_id number no The ID of an agent's customer user who makes request Is required for agent To get a list of customer users, you need to use the method \"get.customer_users\" industry_id number yes The industry the website belongs to. 1 Auto, moto 2 Audio, video, photo 3 Entertainment affiche 4 Business services 5 Household appliances 6 Dating 7 Internet technologies 8 Computers, office appliances 9 Beauty and wellbeing 10 Healthcare 11 Real estate 12 Clothing, accessories 13 Telecomminications 14 Construction, renovations 15 Transport 16 Tourism and leisure 17 Learning and education 18 Finance 19 Banks, loans 20 Insurance 21 Securities target_call_min_duration number no Default value is \"30\". Minimal time after which a call is considered targeted. Value is in seconds. track_subdomains_enabled boolean no false, true Default value is \"true\". Track website subdomains. cookie_lifetime number no Default value is \"90\". Lifespan of a \"cookie\". Value is in days. campaign_lifetime number no Default value is \"90\". Lifespan of an advertising campaign. Value is in days. sales_enabled boolean no false, true Default value is \"false\". Whether or not sales should be taken into account. second_communication_period number no 1-365 Default value is \"1\". Time period for return visit. Value is in days. services_enabled boolean no false, true Default value is \"true\". You can disable service for a specific website. When the service is disabled, all the services, such as call tracking and live support, are switched off and not working, except website statistics gathering. replacement_dynamical_block_enabled boolean no false, true Replacing numbers in dynamical blocks. (Default value is False) widget_link object no When activating the option, a link appears in inquiry forms, chats and profile details. When a user clicks it, he or she is redirected to the specified URL. enabled boolean yes Link in widgets text string yes Text of the link (up to 100 symbols) url string yes URL Show customer ID on the website show_visitor_id object no Displaying visitor ID on the website and asking for it during phone call, you can connect visit data with a call. This will help you to find out comprehensive data about the callers (for example, which search queries led them). enabled boolean yes false, true Default value is \"false\". element_id_value string yes For a visitor's ID to appear on the website, you need to specify the ID of an HTML element of the website. You also need to add a container with the ID data on the website's pages where you would place user ID (for example, <div id=\"callgearID\"></div> . ) message string no Defines text, that will be displayed alongside with a visitor's phone number on the website. length_visitor_id number no from 1 to 20 Default value is 6. Visitor ID digits count.","title":"Parameters of a request"},{"location":"site/create_sites/#parameters-of-a-reply","text":"Title Type Required Description id number yes Website unique ID","title":"Parameters of a reply"},{"location":"site/create_sites/#json-request-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"create.sites\", \"params\": { \"access_token\": \"string\", \"domain_name\": \"string\", \"default_phone_number\": \"string\", \"default_scenario_id\": \"number\", \"user_id\": \"number\", \"industry_id\": \"number\", \"target_call_min_duration\": \"number\", \"track_subdomains_enabled\": \"boolean\", \"cookie_lifetime\": \"number\", \"campaign_lifetime\": \"number\", \"sales_enabled\": \"boolean\", \"second_communication_period\": \"number\", \"services_enabled\": \"boolean\", \"replacement_dynamical_block_enabled\" : \"boolean\", \"widget_link\" : { \"enabled\": \"boolean\", \"text\": \"string\", \"url\": \"string\" }, \"show_visitor_id\": { \"enabled\": \"boolean\", \"element_id_value\": \"string\", \"message\": \"string\", \"length_visitor_id\": \"number\" } } }","title":"JSON request structure"},{"location":"site/create_sites/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"id\": \"number\", \"success\": \"true\" } }","title":"JSON reply structure"},{"location":"site/create_sites/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb create\"","title":"List of returning errors"},{"location":"site/delete_site_blocks/","text":"Websites > Deleting blocks of numbers from a website Method delete.site_blocks Description Deleting blocks of numbers from a website WHo has access Agent, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key id number yes Block of numbers unique ID user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users you need to use the method \"get.customer_users\" JSON request structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"delete.site_blocks\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"id\": \"number\" } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"success\": \"true\" } } List of returning errors Refer to the section \"List of errors for the methods with the verb delete\"","title":"Deleting blocks of numbers from a website"},{"location":"site/delete_site_blocks/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key id number yes Block of numbers unique ID user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users you need to use the method \"get.customer_users\"","title":"Parameters of a request"},{"location":"site/delete_site_blocks/#json-request-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"delete.site_blocks\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"id\": \"number\" } }","title":"JSON request structure"},{"location":"site/delete_site_blocks/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"success\": \"true\" } }","title":"JSON reply structure"},{"location":"site/delete_site_blocks/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb delete\"","title":"List of returning errors"},{"location":"site/delete_sites/","text":"Websites > Deleting websites Method delete.sites Description Deleting websites Who has access Agent, Customer Parametres of the request Title Type Required Description access_token string yes Authentication session key id number yes Website unique ID user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users use the method \"get.customer_users\" JSON request structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"delete.sites\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"id\": \"number\" } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"success\": \"true\" } } List of returning errors Refer to the section \"List of errors for the methods with the verb delete\"","title":"Deleting websites"},{"location":"site/delete_sites/#parametres-of-the-request","text":"Title Type Required Description access_token string yes Authentication session key id number yes Website unique ID user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users use the method \"get.customer_users\"","title":"Parametres of the request"},{"location":"site/delete_sites/#json-request-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"delete.sites\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"id\": \"number\" } }","title":"JSON request structure"},{"location":"site/delete_sites/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"success\": \"true\" } }","title":"JSON reply structure"},{"location":"site/delete_sites/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb delete\"","title":"List of returning errors"},{"location":"site/get_site_blocks/","text":"Websites > Getting a list of numbers blocks Methods get.site_blocks Description Getting a list of numbers blocks for a website Who has access Agent, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key user_id number no The ID of an agent's customer user who makes request Is required for agent To get a list of customer user you need to use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" Parameters of a reply Title Type Valid values Filtering Sorting Description id number yes Block unique ID name string yes Block name site_id number yes yes Website unique ID site_domain_name string yes Website address in the internet. Whithout protocol - \"http://\" or \"https://\". Template for a number templates array Template for numbers in a block template_id number Unique ID of a template for a virtual number. template_type enum image text Template type image; text. element_attribute enum id class name selector phone_number Attribute of the substituted website page element id; class; name; selector; phone_number. element_attribute_value string Title, value of a substitute element on a website page phone_number_template string If the parameter `template_type` has value \"text\", the field has value. Template for a displayed number. You can put any text in a template, as well as special tags: {country} - country code, {city} - city code, {phone} - phone number phone_number_mask string If the parameter `template_type` has value \"text\", a field has value. The field defines the format of how {phone} is displayed (refer to the parameter `phone_number_template`) For digits use the symbol #. The length of a number can be anywhere between 5 and 7 symbols. If a substitute number is longer/shorter than a specified mask, any excess/missing symbols will be deleted from the beginning/added to the beginning. For example, a mask ##-##-## for number 123456 means that the number is displayed on the website as 12-34-56, the number 1234567 is displayed as 123-45-67, and the number 12345 is displayed as 1-23-45. Virtual numbers and advertising campaign phone_numbers array yes If a block is set in an advertising campaign, it can contain a list of virtual numbers connected with the block phone_number string Virtual phone number phone_number_id number Virtual number unique ID campaign_id number Unique ID of an advertising campaign that has a preset block, i.e. the block has a set substitute number. campaign_name string The name of an advertising campaign that has a preset block, i.e. the block has a set substitute number. image_url string Image URL if the parameter `template_type` = `image` JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.site_blocks\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"meta_data\": { }, \"data\": [ { \"id\": \"number\", \"site_id\": \"number\", \"site_domain_name\": \"string\", \"templates\": [ { \"template_id\": \"number\", \"template_type\": \"enum\", \"element_attribute\": \"enum\", \"element_attribute_value\": \"string\", \"phone_number_template\": \"string\", \"phone_number_mask\": \"string\" } ], \"phone_numbers\": [ { \"phone_number\": \"string\", \"phone_number_id\": \"number\", \"campaign_id\": \"number\", \"campaign_name\": \"string\", \"image_url\": \"string\" } ] } ] } } List of returning errors Refer to the section \"List of errors for the methods with the verb get\"","title":"Getting a list of numbers blocks"},{"location":"site/get_site_blocks/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no The ID of an agent's customer user who makes request Is required for agent To get a list of customer user you need to use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\"","title":"Parameters of a request"},{"location":"site/get_site_blocks/#parameters-of-a-reply","text":"Title Type Valid values Filtering Sorting Description id number yes Block unique ID name string yes Block name site_id number yes yes Website unique ID site_domain_name string yes Website address in the internet. Whithout protocol - \"http://\" or \"https://\". Template for a number templates array Template for numbers in a block template_id number Unique ID of a template for a virtual number. template_type enum image text Template type image; text. element_attribute enum id class name selector phone_number Attribute of the substituted website page element id; class; name; selector; phone_number. element_attribute_value string Title, value of a substitute element on a website page phone_number_template string If the parameter `template_type` has value \"text\", the field has value. Template for a displayed number. You can put any text in a template, as well as special tags: {country} - country code, {city} - city code, {phone} - phone number phone_number_mask string If the parameter `template_type` has value \"text\", a field has value. The field defines the format of how {phone} is displayed (refer to the parameter `phone_number_template`) For digits use the symbol #. The length of a number can be anywhere between 5 and 7 symbols. If a substitute number is longer/shorter than a specified mask, any excess/missing symbols will be deleted from the beginning/added to the beginning. For example, a mask ##-##-## for number 123456 means that the number is displayed on the website as 12-34-56, the number 1234567 is displayed as 123-45-67, and the number 12345 is displayed as 1-23-45. Virtual numbers and advertising campaign phone_numbers array yes If a block is set in an advertising campaign, it can contain a list of virtual numbers connected with the block phone_number string Virtual phone number phone_number_id number Virtual number unique ID campaign_id number Unique ID of an advertising campaign that has a preset block, i.e. the block has a set substitute number. campaign_name string The name of an advertising campaign that has a preset block, i.e. the block has a set substitute number. image_url string Image URL if the parameter `template_type` = `image`","title":"Parameters of a reply"},{"location":"site/get_site_blocks/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.site_blocks\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"site/get_site_blocks/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"meta_data\": { }, \"data\": [ { \"id\": \"number\", \"site_id\": \"number\", \"site_domain_name\": \"string\", \"templates\": [ { \"template_id\": \"number\", \"template_type\": \"enum\", \"element_attribute\": \"enum\", \"element_attribute_value\": \"string\", \"phone_number_template\": \"string\", \"phone_number_mask\": \"string\" } ], \"phone_numbers\": [ { \"phone_number\": \"string\", \"phone_number_id\": \"number\", \"campaign_id\": \"number\", \"campaign_name\": \"string\", \"image_url\": \"string\" } ] } ] } }","title":"JSON reply structure"},{"location":"site/get_site_blocks/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb get\"","title":"List of returning errors"},{"location":"site/get_sites/","text":"Websites > Getting a list of websites Method get.sites Description Getting a list of websites Who has access Agent, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key user_id number no the ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" Parameters of a reply Title Type Valid values Filtering Sorting Description id number yes Website unique ID domain_name string yes Website address on the internet. Whithout protocol - \"http://\" or \"https://\". default_phone_number string E164 format yes Phone number, calls from the web callback will be transferred to, by default. Also analytics numbers that are used in the advertising campaigns. default_scenario object Scenario according to which calls to the numbers whithout active settings will be proccessed by default. Default value is none. scenario_id number Scenario unique ID scenario_name string yes Scenario name site_key string Key for website patch code You need to insert this parameter into a template in place of the parameter `{site_key}` <script type=\"text/javascript\"> var __cs = __cs || []; __cs.push([\"setCsAccount\", \"{site_key}\"]); </script> <script type=\"text/javascript\" async src=\"//app.callgear.com/static/cs.min.js\"></script> creation_date iso8601 YYYY-MM-DD hh:mm:ss yes Dte when a website was created target_call_min_duration number yes Default value is \"30\". Minimal duration of a call. After it's up the call is considered targeted. Value is in seconds. track_subdomains boolean false, true yes Default value is \"true\". Gathering statistics from all the subdomains (statistics from a \"www\" subdomain, related to the website's main domain, is always gathered, whether or not a flag is set). cookie_lifetime number yes Default value is \"90\". Lifespan of a \"cookie\". Value is in days. campaign_lifetime number yes Default value is \"90\". Lifespan of an advertising campaign. Value is in days. sales_enabled boolean false, true yes Default value is \"false\". Whether or not sales are taken into account second_communication_period number 1, 3, 7, 30 yes Deafault value is \"1\". Time period for a return period. Value is in days. services_enabled boolean false, true yes Default value is \"true\". A way to disable a service for a particular website. When a service is disabled, only website statistics are gathered. All the services (call tracking, live support) are swithed off and not working. replacement_dynamical_block_enabled boolean false, true Replace numbers in dynamically uploaded blocks. (Default value is False) widget_link object no As you activate this option, a link appears in the request forms, chats and questionnaire details queries. When a visitor click it, he or she will be redirected to a specified URL. enabled boolean Link in widgets text string Text of a link (up to 100 symbols) url string URL industry_id number Website's industry unique ID industry_name string Website's industry name Show visitor's ID on a website show_visitor_id object When you display a visitor's ID on your website or when you ask a visitor's ID during a call, you can tie data about the visit up with the call. This way you can get comprehensive data about your callers (for example, which search queries led them). enabled boolean false, true Default value is \"false\". Enabling visitors to be displayed on a website. element_id_value string For a visitor's ID to be displayed on a website, you need to specify the ID of the website's HTML element in this field. You also need to add a container with this ID on the pages where you placed the visitor's ID (for example, <div id=\"callgearID\"></div> ). message string Defines a text, that will be displayed next to a visitor's phone number on a website. length_visitor_id string from 1 to 20 Default value is 6. Visitor's ID digit count. List of website's numbers blocks site_blocks array yes IDs blocks bulk. one block is created for a website by default. site_block_id number Block unique ID site_block_name string Block name Connected intergrations connected_integrations array yandex.direct google.adwords yandex.metrika google.analytics Integrations connected on the website level JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.sites\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"meta_data\": {}, \"data\": [ { \"id\": \"number\", \"domain_name\": \"string\", \"default_phone_number\": \"string\", \"default_scenario\": { \"scenario_id\": \"number\", \"scenario_name\": \"string\" }, \"site_key\": \"string\", \"industry_id\": \"number\", \"industry_name\": \"string\", \"target_call_min_duration\": \"number\", \"track_subdomains\": \"boolean\", \"cookie_lifetime\": \"number\", \"campaign_lifetime\": \"number\", \"sales_enabled\": \"boolean\", \"second_communication_period\": \"number\", \"services_enabled\": \"boolean\", \"replacement_dynamical_block_enabled\": \"boolean\", \"widget_link\": { \"enabled\": \"boolean\", \"text\": \"string\", \"url\": \"string\" }, \"show_visitor_id\": { \"enabled\": \"boolean\", \"element_id_value\": \"string\", \"message\": \"string\", \"length_visitor_id\": \"number\" }, \"site_blocks\": [ { \"site_block_id\": \"number\", \"site_block_name\": \"string\" } ], \"connected_integrations\": [] } ] } } List of returning errors Refer to \"List of errors for the methods with the verb get\"","title":"Getting a list of websites"},{"location":"site/get_sites/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no the ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\"","title":"Parameters of a request"},{"location":"site/get_sites/#parameters-of-a-reply","text":"Title Type Valid values Filtering Sorting Description id number yes Website unique ID domain_name string yes Website address on the internet. Whithout protocol - \"http://\" or \"https://\". default_phone_number string E164 format yes Phone number, calls from the web callback will be transferred to, by default. Also analytics numbers that are used in the advertising campaigns. default_scenario object Scenario according to which calls to the numbers whithout active settings will be proccessed by default. Default value is none. scenario_id number Scenario unique ID scenario_name string yes Scenario name site_key string Key for website patch code You need to insert this parameter into a template in place of the parameter `{site_key}` <script type=\"text/javascript\"> var __cs = __cs || []; __cs.push([\"setCsAccount\", \"{site_key}\"]); </script> <script type=\"text/javascript\" async src=\"//app.callgear.com/static/cs.min.js\"></script> creation_date iso8601 YYYY-MM-DD hh:mm:ss yes Dte when a website was created target_call_min_duration number yes Default value is \"30\". Minimal duration of a call. After it's up the call is considered targeted. Value is in seconds. track_subdomains boolean false, true yes Default value is \"true\". Gathering statistics from all the subdomains (statistics from a \"www\" subdomain, related to the website's main domain, is always gathered, whether or not a flag is set). cookie_lifetime number yes Default value is \"90\". Lifespan of a \"cookie\". Value is in days. campaign_lifetime number yes Default value is \"90\". Lifespan of an advertising campaign. Value is in days. sales_enabled boolean false, true yes Default value is \"false\". Whether or not sales are taken into account second_communication_period number 1, 3, 7, 30 yes Deafault value is \"1\". Time period for a return period. Value is in days. services_enabled boolean false, true yes Default value is \"true\". A way to disable a service for a particular website. When a service is disabled, only website statistics are gathered. All the services (call tracking, live support) are swithed off and not working. replacement_dynamical_block_enabled boolean false, true Replace numbers in dynamically uploaded blocks. (Default value is False) widget_link object no As you activate this option, a link appears in the request forms, chats and questionnaire details queries. When a visitor click it, he or she will be redirected to a specified URL. enabled boolean Link in widgets text string Text of a link (up to 100 symbols) url string URL industry_id number Website's industry unique ID industry_name string Website's industry name Show visitor's ID on a website show_visitor_id object When you display a visitor's ID on your website or when you ask a visitor's ID during a call, you can tie data about the visit up with the call. This way you can get comprehensive data about your callers (for example, which search queries led them). enabled boolean false, true Default value is \"false\". Enabling visitors to be displayed on a website. element_id_value string For a visitor's ID to be displayed on a website, you need to specify the ID of the website's HTML element in this field. You also need to add a container with this ID on the pages where you placed the visitor's ID (for example, <div id=\"callgearID\"></div> ). message string Defines a text, that will be displayed next to a visitor's phone number on a website. length_visitor_id string from 1 to 20 Default value is 6. Visitor's ID digit count. List of website's numbers blocks site_blocks array yes IDs blocks bulk. one block is created for a website by default. site_block_id number Block unique ID site_block_name string Block name Connected intergrations connected_integrations array yandex.direct google.adwords yandex.metrika google.analytics Integrations connected on the website level","title":"Parameters of a reply"},{"location":"site/get_sites/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.sites\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"site/get_sites/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"meta_data\": {}, \"data\": [ { \"id\": \"number\", \"domain_name\": \"string\", \"default_phone_number\": \"string\", \"default_scenario\": { \"scenario_id\": \"number\", \"scenario_name\": \"string\" }, \"site_key\": \"string\", \"industry_id\": \"number\", \"industry_name\": \"string\", \"target_call_min_duration\": \"number\", \"track_subdomains\": \"boolean\", \"cookie_lifetime\": \"number\", \"campaign_lifetime\": \"number\", \"sales_enabled\": \"boolean\", \"second_communication_period\": \"number\", \"services_enabled\": \"boolean\", \"replacement_dynamical_block_enabled\": \"boolean\", \"widget_link\": { \"enabled\": \"boolean\", \"text\": \"string\", \"url\": \"string\" }, \"show_visitor_id\": { \"enabled\": \"boolean\", \"element_id_value\": \"string\", \"message\": \"string\", \"length_visitor_id\": \"number\" }, \"site_blocks\": [ { \"site_block_id\": \"number\", \"site_block_name\": \"string\" } ], \"connected_integrations\": [] } ] } }","title":"JSON reply structure"},{"location":"site/get_sites/#list-of-returning-errors","text":"Refer to \"List of errors for the methods with the verb get\"","title":"List of returning errors"},{"location":"site/update_site_blocks/","text":"Websites > Updating blocks of numbers Method update.site_blocks Description Updating blocks of numbers for a website Who has access Agent, Customer Parameters of a request Title Type Required Valid values Description access_token string yes Authentication session key id number yes Unique ID of a numbers block name string no Name of a numbers block JSON request structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"update.site_blocks\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"id\": \"number\", \"name\": \"string\" } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { } } List of returning errors Refer to the section \"List of errors for the methods with the verb update\"","title":"Updating websites"},{"location":"site/update_site_blocks/#parameters-of-a-request","text":"Title Type Required Valid values Description access_token string yes Authentication session key id number yes Unique ID of a numbers block name string no Name of a numbers block","title":"Parameters of a request"},{"location":"site/update_site_blocks/#json-request-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"update.site_blocks\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"id\": \"number\", \"name\": \"string\" } }","title":"JSON request structure"},{"location":"site/update_site_blocks/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { } }","title":"JSON reply structure"},{"location":"site/update_site_blocks/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb update\"","title":"List of returning errors"},{"location":"site/update_sites/","text":"Websites > Updating websites Method update.sites Description Updating websites Who has access Agent, Customer Parameters of a request Title Type Required Valid values Description access_token string yes Authentication session key id number yes Website unique ID domain_name string no Website address on the internet. Without protocol - \"http://\" or \"https://\". default_phone_number number yes Phone number, calls are forwarded to by default. A scenario with the number is made, the scenario's name should comply with the template \"Call forwarding to phone_number\". default_scenario_id number no Scenario ID. All the calls to the number will be processed according to the logic of the default scenario user_id number no The ID of an agent's customer user who makes request Is required for agent To get a list of customer users, you need to use the method \"get.customer_users\" industry_id number yes The industry the website belongs to. 1 Auto, moto 2 Audio, video, photo 3 Entertainment affiche 4 Business services 5 Household appliances 6 Dating 7 Internet technologies 8 Computers, office appliances 9 Beauty and wellbeing 10 Healthcare 11 Real estate 12 Clothing, accessories 13 Telecomminications 14 Construction, renovations 15 Transport 16 Tourism and leisure 17 Learning and education 18 Finance 19 Banks, loans 20 Insurance 21 Securities target_call_min_duration number no Default value is \"30\". Minimal time after which a call is considered targeted. Value is in seconds. track_subdomains_enabled boolean no false, true Default value is \"true\". Track website subdomains. cookie_lifetime number no Default value is \"90\". Lifespan of a \"cookie\". Value is in days. campaign_lifetime number no Default value is \"90\". Lifespan of an advertising campaign. Value is in days. sales_enabled boolean no false, true Default value is \"false\". Whether or not sales should be taken into account. second_communication_period number no 1-365 Default value is \"1\". Time period for return visit. Value is in days. services_enabled boolean no false, true Default value is \"true\". You can disable service for a specific website. When the service is disabled, all the services, such as call tracking and live support, are switched off and not working, except website statistics gathering. replacement_dynamical_block_enabled boolean no false, true Replacing numbers in dynamically uploaded blocks. Link on widgets widget_link object no When activating the option, a link appears in inquiry forms, chats and profile details. When a user clicks it, he or she is redirected to the specified URL. enabled boolean yes Link on widgets text string yes Text of a link (up to 100 symbols) url string yes URL Show visitor ID on the website show_visitor_id object no Displaying visitor ID on the website and asking for it during phone call, you can connect visit data with a call. This will help you to find out comprehensive data about the callers (for example, which search queries led them). enabled boolean yes false, true Default value is \"false\". element_id_value string yes For a visitor's ID to appear on the website, you need to specify the ID of an HTML element of the website. You also need to add a container with the ID data on the website's pages where you would place user ID (for example, <div id=\"callgearID\"></div> . ) message string no Defines text, that will be displayed alongside with a visitor's phone number on the website. length_visitor_id number no from 1 to 20 Default value is 6. Visitor ID digits count. JSON request structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"create.sites\", \"params\": { \"access_token\": \"string\", \"id\": \"number\", \"domain_name\": \"string\", \"default_phone_number\": \"number\", \"default_scenario_id\": \"number\", \"user_id\": \"number\", \"industry_id\": \"number\", \"target_call_min_duration\": \"number\", \"track_subdomains_enabled\": \"boolean\", \"cookie_lifetime\": \"number\", \"campaign_lifetime\": \"number\", \"sales_enabled\": \"boolean\", \"second_communication_period\": \"number\", \"services_enabled\": \"boolean\", \"replacement_dynamical_block_enabled\" : \"boolean\", \"widget_link\" : { \"enabled\": \"boolean\", \"text\": \"string\", \"url\": \"string\" }, \"show_visitor_id\": { \"enabled\": \"boolean\", \"element_id_value\": \"string\", \"message\": \"string\", \"length_visitor_id\": \"number\" } } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { } } List of returning errors Refer to \"List of errors for the methods with the verb update\"","title":"Updating websites"},{"location":"site/update_sites/#parameters-of-a-request","text":"Title Type Required Valid values Description access_token string yes Authentication session key id number yes Website unique ID domain_name string no Website address on the internet. Without protocol - \"http://\" or \"https://\". default_phone_number number yes Phone number, calls are forwarded to by default. A scenario with the number is made, the scenario's name should comply with the template \"Call forwarding to phone_number\". default_scenario_id number no Scenario ID. All the calls to the number will be processed according to the logic of the default scenario user_id number no The ID of an agent's customer user who makes request Is required for agent To get a list of customer users, you need to use the method \"get.customer_users\" industry_id number yes The industry the website belongs to. 1 Auto, moto 2 Audio, video, photo 3 Entertainment affiche 4 Business services 5 Household appliances 6 Dating 7 Internet technologies 8 Computers, office appliances 9 Beauty and wellbeing 10 Healthcare 11 Real estate 12 Clothing, accessories 13 Telecomminications 14 Construction, renovations 15 Transport 16 Tourism and leisure 17 Learning and education 18 Finance 19 Banks, loans 20 Insurance 21 Securities target_call_min_duration number no Default value is \"30\". Minimal time after which a call is considered targeted. Value is in seconds. track_subdomains_enabled boolean no false, true Default value is \"true\". Track website subdomains. cookie_lifetime number no Default value is \"90\". Lifespan of a \"cookie\". Value is in days. campaign_lifetime number no Default value is \"90\". Lifespan of an advertising campaign. Value is in days. sales_enabled boolean no false, true Default value is \"false\". Whether or not sales should be taken into account. second_communication_period number no 1-365 Default value is \"1\". Time period for return visit. Value is in days. services_enabled boolean no false, true Default value is \"true\". You can disable service for a specific website. When the service is disabled, all the services, such as call tracking and live support, are switched off and not working, except website statistics gathering. replacement_dynamical_block_enabled boolean no false, true Replacing numbers in dynamically uploaded blocks. Link on widgets widget_link object no When activating the option, a link appears in inquiry forms, chats and profile details. When a user clicks it, he or she is redirected to the specified URL. enabled boolean yes Link on widgets text string yes Text of a link (up to 100 symbols) url string yes URL Show visitor ID on the website show_visitor_id object no Displaying visitor ID on the website and asking for it during phone call, you can connect visit data with a call. This will help you to find out comprehensive data about the callers (for example, which search queries led them). enabled boolean yes false, true Default value is \"false\". element_id_value string yes For a visitor's ID to appear on the website, you need to specify the ID of an HTML element of the website. You also need to add a container with the ID data on the website's pages where you would place user ID (for example, <div id=\"callgearID\"></div> . ) message string no Defines text, that will be displayed alongside with a visitor's phone number on the website. length_visitor_id number no from 1 to 20 Default value is 6. Visitor ID digits count.","title":"Parameters of a request"},{"location":"site/update_sites/#json-request-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"create.sites\", \"params\": { \"access_token\": \"string\", \"id\": \"number\", \"domain_name\": \"string\", \"default_phone_number\": \"number\", \"default_scenario_id\": \"number\", \"user_id\": \"number\", \"industry_id\": \"number\", \"target_call_min_duration\": \"number\", \"track_subdomains_enabled\": \"boolean\", \"cookie_lifetime\": \"number\", \"campaign_lifetime\": \"number\", \"sales_enabled\": \"boolean\", \"second_communication_period\": \"number\", \"services_enabled\": \"boolean\", \"replacement_dynamical_block_enabled\" : \"boolean\", \"widget_link\" : { \"enabled\": \"boolean\", \"text\": \"string\", \"url\": \"string\" }, \"show_visitor_id\": { \"enabled\": \"boolean\", \"element_id_value\": \"string\", \"message\": \"string\", \"length_visitor_id\": \"number\" } } }","title":"JSON request structure"},{"location":"site/update_sites/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { } }","title":"JSON reply structure"},{"location":"site/update_sites/#list-of-returning-errors","text":"Refer to \"List of errors for the methods with the verb update\"","title":"List of returning errors"},{"location":"tag/create_tags/","text":"Creating tags Method create.tags Description Creating tags Who has access Partner, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" name string yes Tag name Parameters of a reply Title Type Required Description id number yes Tag unique ID JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"create.tags\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"name\":\"string\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"id\":\"number\" } } List of returning errors Refer to the section \"List of errors for the methods with the verb create\"","title":"Create tags"},{"location":"tag/create_tags/#creating-tags","text":"Method create.tags Description Creating tags Who has access Partner, Customer","title":"Creating tags"},{"location":"tag/create_tags/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" name string yes Tag name","title":"Parameters of a request"},{"location":"tag/create_tags/#parameters-of-a-reply","text":"Title Type Required Description id number yes Tag unique ID","title":"Parameters of a reply"},{"location":"tag/create_tags/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"create.tags\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"name\":\"string\" } }","title":"JSON request structure"},{"location":"tag/create_tags/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"id\":\"number\" } }","title":"JSON reply structure"},{"location":"tag/create_tags/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb create\"","title":"List of returning errors"},{"location":"tag/delete_tags/","text":"Deleting tags Method delete.tags Description Deleting tags Who has access Partner, Customer You cannot delete system tags - tags with the lag \"is_system\" = true Parameters of a request Title Type Required Description access_token string yes Authentication session key id number yes Tag unique ID user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"delete.tags\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } } List of returning errors Refer to the section \"List of errors for the methods with the verb delete\"","title":"Delete tags"},{"location":"tag/delete_tags/#deleting-tags","text":"Method delete.tags Description Deleting tags Who has access Partner, Customer You cannot delete system tags - tags with the lag \"is_system\" = true","title":"Deleting tags"},{"location":"tag/delete_tags/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key id number yes Tag unique ID user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\"","title":"Parameters of a request"},{"location":"tag/delete_tags/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"delete.tags\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\" } }","title":"JSON request structure"},{"location":"tag/delete_tags/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } }","title":"JSON reply structure"},{"location":"tag/delete_tags/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb delete\"","title":"List of returning errors"},{"location":"tag/get_tags/","text":"Getting a list of tags Method get.tags Description Getting a list of tags Who has access Partner, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" Parameters of a reply Title Type Filtering Sorting Description id number yes Tag unique ID name string yes yes Tag name is_system boolean Sign of a system tag that cannot be deleted JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.tags\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"name\":\"string\", \"is_system\":\"boolean\" } ] } } List of returning errors Refer to the section \"List of errors for the methods with the verb get\"","title":"Get tags"},{"location":"tag/get_tags/#getting-a-list-of-tags","text":"Method get.tags Description Getting a list of tags Who has access Partner, Customer","title":"Getting a list of tags"},{"location":"tag/get_tags/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\"","title":"Parameters of a request"},{"location":"tag/get_tags/#parameters-of-a-reply","text":"Title Type Filtering Sorting Description id number yes Tag unique ID name string yes yes Tag name is_system boolean Sign of a system tag that cannot be deleted","title":"Parameters of a reply"},{"location":"tag/get_tags/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.tags\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"tag/get_tags/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"metadata\":{ }, \"data\":[ { \"id\":\"number\", \"name\":\"string\", \"is_system\":\"boolean\" } ] } }","title":"JSON reply structure"},{"location":"tag/get_tags/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb get\"","title":"List of returning errors"},{"location":"tag/set_tag_communications/","text":"Setting communications tags Method set.tag_communications Description Setting communications tags Who has access Partner, Customer Parameters of a request Title Type Required Valid values Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" communication_id number yes Communication unique ID. With this ID you can get detailed information using the following methods \"get.communications_report\" , \"get.chats_report \" , \"get.goals_report\" , \"get.offline_messages_report \" , \"get.calls_report\" communication_type enum yes chat , call , goal , offline_message Communication type tag_id number yes Tag unique ID, refer to the method \"get.tags\" JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"set.tag_communications\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"communication_id\":\"number\", \"communication_type\":\"enum\", \"tag_id\":\"number\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } } List of returning errors Refer to the section \"List of errors for the methods withe verb set\"","title":"Set tag communications"},{"location":"tag/set_tag_communications/#setting-communications-tags","text":"Method set.tag_communications Description Setting communications tags Who has access Partner, Customer","title":"Setting communications tags"},{"location":"tag/set_tag_communications/#parameters-of-a-request","text":"Title Type Required Valid values Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" communication_id number yes Communication unique ID. With this ID you can get detailed information using the following methods \"get.communications_report\" , \"get.chats_report \" , \"get.goals_report\" , \"get.offline_messages_report \" , \"get.calls_report\" communication_type enum yes chat , call , goal , offline_message Communication type tag_id number yes Tag unique ID, refer to the method \"get.tags\"","title":"Parameters of a request"},{"location":"tag/set_tag_communications/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"set.tag_communications\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"communication_id\":\"number\", \"communication_type\":\"enum\", \"tag_id\":\"number\" } }","title":"JSON request structure"},{"location":"tag/set_tag_communications/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } }","title":"JSON reply structure"},{"location":"tag/set_tag_communications/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods withe verb set\"","title":"List of returning errors"},{"location":"tag/set_tag_sales/","text":"Setting sales tags for communications Method set.tag_sales Description Setting sales tags for communications Who has access Partner, Customer You can access this method if your website has the active option \"Account sales\" Parameters of a request Title Type Required Valid values Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" communication_id number yes Communication unique ID. With this ID you can get detailed information using the following methods \"get.communications_report\" , \"get.chats_report \" , \"get.goals_report\" , \"get.offline_messages_report \" , \"get.calls_report\" communication_type enum yes chat , call , goal , offline_message Communication type date_time iso8601 yes YYYY-MM-DD hh:mm:ss Date and time of a transaction Cannot be earlier than the communication date transaction_value number yes Transaction value comment string no Maximum length is 255 symbols Comment to a transaction Parameters of a reply Title Type Required Description id number yes Sales unique ID JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"set.tag_sales\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"communication_id\":\"number\", \"communication_type\":\"enum\", \"date_time\":\"iso8601\", \"transaction_value\":\"number\", \"comment\":\"string\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"id\":\"number\" } } List of returning errors Refer to the section \"List of errors for the methods with the verb set\"","title":"Set tag sales"},{"location":"tag/set_tag_sales/#setting-sales-tags-for-communications","text":"Method set.tag_sales Description Setting sales tags for communications Who has access Partner, Customer You can access this method if your website has the active option \"Account sales\"","title":"Setting sales tags for communications"},{"location":"tag/set_tag_sales/#parameters-of-a-request","text":"Title Type Required Valid values Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" communication_id number yes Communication unique ID. With this ID you can get detailed information using the following methods \"get.communications_report\" , \"get.chats_report \" , \"get.goals_report\" , \"get.offline_messages_report \" , \"get.calls_report\" communication_type enum yes chat , call , goal , offline_message Communication type date_time iso8601 yes YYYY-MM-DD hh:mm:ss Date and time of a transaction Cannot be earlier than the communication date transaction_value number yes Transaction value comment string no Maximum length is 255 symbols Comment to a transaction","title":"Parameters of a request"},{"location":"tag/set_tag_sales/#parameters-of-a-reply","text":"Title Type Required Description id number yes Sales unique ID","title":"Parameters of a reply"},{"location":"tag/set_tag_sales/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"set.tag_sales\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"communication_id\":\"number\", \"communication_type\":\"enum\", \"date_time\":\"iso8601\", \"transaction_value\":\"number\", \"comment\":\"string\" } }","title":"JSON request structure"},{"location":"tag/set_tag_sales/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ \"id\":\"number\" } }","title":"JSON reply structure"},{"location":"tag/set_tag_sales/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb set\"","title":"List of returning errors"},{"location":"tag/unset_tag_communications/","text":"Unsetting communications tags Method unset.tag_communications Description Unsetting communications tags (is also used to unset sales tags) Who has access Partner, Customer Parameters of a request Title Type Required Valid values Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" communication_id number yes Communication unique ID. With this ID you can get detailed information using the following methods \"get.communications_report\" , \"get.chats_report \" , \"get.goals_report\" , \"get.offline_messages_report \" , \"get.calls_report\" communication_type enum yes chat , call , goal , offline_message Communication type tag_id number yes Tag unique ID, refer to the method \"get.tags\" JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"unset.tag_communications\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"communication_id\":\"number\", \"communication_type\":\"enum\", \"tag_id\":\"number\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } } List of returning errors Refer to the section \"List of errors for the methods with the verb unset\"","title":"Unset tag communications"},{"location":"tag/unset_tag_communications/#unsetting-communications-tags","text":"Method unset.tag_communications Description Unsetting communications tags (is also used to unset sales tags) Who has access Partner, Customer","title":"Unsetting communications tags"},{"location":"tag/unset_tag_communications/#parameters-of-a-request","text":"Title Type Required Valid values Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" communication_id number yes Communication unique ID. With this ID you can get detailed information using the following methods \"get.communications_report\" , \"get.chats_report \" , \"get.goals_report\" , \"get.offline_messages_report \" , \"get.calls_report\" communication_type enum yes chat , call , goal , offline_message Communication type tag_id number yes Tag unique ID, refer to the method \"get.tags\"","title":"Parameters of a request"},{"location":"tag/unset_tag_communications/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"unset.tag_communications\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"communication_id\":\"number\", \"communication_type\":\"enum\", \"tag_id\":\"number\" } }","title":"JSON request structure"},{"location":"tag/unset_tag_communications/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } }","title":"JSON reply structure"},{"location":"tag/unset_tag_communications/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb unset\"","title":"List of returning errors"},{"location":"tag/update_tags/","text":"Updating tags Method update.tags Description Updating tags Who has access Partner, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key id number yes Tag unique ID user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" name string no Tag name JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"update.tags\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\", \"name\":\"string\" } } JSON reply structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } } List of returning errors Refer to the section \"List of errors for methods with the verb update\"","title":"Update tags"},{"location":"tag/update_tags/#updating-tags","text":"Method update.tags Description Updating tags Who has access Partner, Customer","title":"Updating tags"},{"location":"tag/update_tags/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key id number yes Tag unique ID user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" name string no Tag name","title":"Parameters of a request"},{"location":"tag/update_tags/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"update.tags\", \"params\":{ \"access_token\":\"string\", \"id\":\"number\", \"user_id\":\"number\", \"name\":\"string\" } }","title":"JSON request structure"},{"location":"tag/update_tags/#json-reply-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"result\":{ } }","title":"JSON reply structure"},{"location":"tag/update_tags/#list-of-returning-errors","text":"Refer to the section \"List of errors for methods with the verb update\"","title":"List of returning errors"},{"location":"user_media/get_media_files/","text":"Getting a list of media files Method get.media_files Description Getting media files Who has access Agent, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" Parameters of a reply Title Type Valid values Filters Sorting Description id number Yes Yes Media file ID name string Yes Yes Media name. Is unique for each customer. duration number Yes Yes Media file duration in seconds play_link string Link to play a media file normalization boolean Yes Yes Media file normalization size number Yes Yes Media file size ib bytes type enum system user Yes Yes system - system media files (cannot be edited); user - user media files; JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.media_files\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"id\": \"number\", \"jsonrpc\": \"2.0\", \"result\": { \"data\": [ { \"id\": \"number\", \"name\": \"string\", \"duration\": \"number\", \"play_link\": \"string\", \"normalization\": \"boolean\", \"size\": \"number\", \"type\" : \"enum\" } ], \"metadata\": { } } } List of returning errors Refer to the section \"List of errors for the methods with the verb get\"","title":"Get media files"},{"location":"user_media/get_media_files/#getting-a-list-of-media-files","text":"Method get.media_files Description Getting media files Who has access Agent, Customer","title":"Getting a list of media files"},{"location":"user_media/get_media_files/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\"","title":"Parameters of a request"},{"location":"user_media/get_media_files/#parameters-of-a-reply","text":"Title Type Valid values Filters Sorting Description id number Yes Yes Media file ID name string Yes Yes Media name. Is unique for each customer. duration number Yes Yes Media file duration in seconds play_link string Link to play a media file normalization boolean Yes Yes Media file normalization size number Yes Yes Media file size ib bytes type enum system user Yes Yes system - system media files (cannot be edited); user - user media files;","title":"Parameters of a reply"},{"location":"user_media/get_media_files/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.media_files\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"user_media/get_media_files/#json-reply-structure","text":"{ \"id\": \"number\", \"jsonrpc\": \"2.0\", \"result\": { \"data\": [ { \"id\": \"number\", \"name\": \"string\", \"duration\": \"number\", \"play_link\": \"string\", \"normalization\": \"boolean\", \"size\": \"number\", \"type\" : \"enum\" } ], \"metadata\": { } } }","title":"JSON reply structure"},{"location":"user_media/get_media_files/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb get\"","title":"List of returning errors"},{"location":"vn/disable_virtual_numbers/","text":"Virtual numbers > Disabling virtual numbers Method disable.virtual_numbers Description Disabling virtual numbers Who has access Agent, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key virtual_phone_number string yes Virtual number user_id number no Unique user ID of an agent's customer who makes request Is required for agent You cannot disable numbers that are associated with advertising campaigns. If you disable number with the type \"uis\", all the associated settings will be deleted JSON request structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"enable.virtual_numbers\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"virtual_phone_number\": \"string\" } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"success\": true } } List of returning errors Error Text Error code Error mnemonics You have interdependet entities -32602 dependency_error Virtual phone number {virtual_phone_number} not found. -32007 virtual_phone_number_not_found Refer to the section \"List of errors for the methods with the verb get\"","title":"Disabling virtual numbers"},{"location":"vn/disable_virtual_numbers/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key virtual_phone_number string yes Virtual number user_id number no Unique user ID of an agent's customer who makes request Is required for agent You cannot disable numbers that are associated with advertising campaigns. If you disable number with the type \"uis\", all the associated settings will be deleted","title":"Parameters of a request"},{"location":"vn/disable_virtual_numbers/#json-request-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"enable.virtual_numbers\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"virtual_phone_number\": \"string\" } }","title":"JSON request structure"},{"location":"vn/disable_virtual_numbers/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"success\": true } }","title":"JSON reply structure"},{"location":"vn/disable_virtual_numbers/#list-of-returning-errors","text":"Error Text Error code Error mnemonics You have interdependet entities -32602 dependency_error Virtual phone number {virtual_phone_number} not found. -32007 virtual_phone_number_not_found Refer to the section \"List of errors for the methods with the verb get\"","title":"List of returning errors"},{"location":"vn/enable_virtual_numbers/","text":"Virtual numbers > Enabling virtual numbers Method enable.virtual_numbers Description Enabling virtual numbers Who has access Agent, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key virtual_phone_number string yes Virtual number user_id number no Unique user ID of an agent's customer who makes request Is required for agent JSON request structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"enable.virtual_numbers\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"virtual_phone_number\": \"string\" } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"success\": true } } List of returning errors Error text Error code Error mnemonics Action is not allowed for your tariff plan. You need contact support service or change your tariff plan settings in your account -32602 tariff_restrictions Virtual phone number {virtual_phone_number} not found. -32007 virtual_phone_number_not_found Refer to the section \"List of errors for the methods with the verb get\"","title":"Enabling virtual numbers"},{"location":"vn/enable_virtual_numbers/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key virtual_phone_number string yes Virtual number user_id number no Unique user ID of an agent's customer who makes request Is required for agent","title":"Parameters of a request"},{"location":"vn/enable_virtual_numbers/#json-request-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"enable.virtual_numbers\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"virtual_phone_number\": \"string\" } }","title":"JSON request structure"},{"location":"vn/enable_virtual_numbers/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"success\": true } }","title":"JSON reply structure"},{"location":"vn/enable_virtual_numbers/#list-of-returning-errors","text":"Error text Error code Error mnemonics Action is not allowed for your tariff plan. You need contact support service or change your tariff plan settings in your account -32602 tariff_restrictions Virtual phone number {virtual_phone_number} not found. -32007 virtual_phone_number_not_found Refer to the section \"List of errors for the methods with the verb get\"","title":"List of returning errors"},{"location":"vn/get_available_virtual_numbers/","text":"Virtual numbers > Getting a list of available virtual numbers Method get.available_virtual_numbers Description Getting a list of available virtual numbers Who has access Agent, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" Parameters of a reply Title Type Valid values Filtering Sorting Description phone_number string yes yes Virtual number category enum usual - usual; bronze - bronze; silver - silver; gold - gold. yes yes Number category location_mnemonic enum yes yes Location mnemonic location_name string yes Location onetime_payment number Number connection cost monthly_charge number Monthly charge min_charge number yes Minimal charge per month JSON request structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"get.available_virtual_numbers\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"offset\": \"number\", \"limit\": \"number\", \"filter\": {}, \"sort\": [ { \"field\": \"string\", \"order\": \"string\" } ], \"fields\": [ \"string\" ] } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"metadata\": { }, \"data\": [ { \"phone_number\": \"string\", \"category\": \"enum\", \"location_mnemonic\": \"enum\", \"location_name\": \"string\", \"onetime_payment\": \"number\", \"monthly_charge\": \"number\", \"min_charge\":\"number\" } ] } } List of returning errors Refer to the section \"List of errors for the methods with the verb get\"","title":"Getting a list of available virtual numbers"},{"location":"vn/get_available_virtual_numbers/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\"","title":"Parameters of a request"},{"location":"vn/get_available_virtual_numbers/#parameters-of-a-reply","text":"Title Type Valid values Filtering Sorting Description phone_number string yes yes Virtual number category enum usual - usual; bronze - bronze; silver - silver; gold - gold. yes yes Number category location_mnemonic enum yes yes Location mnemonic location_name string yes Location onetime_payment number Number connection cost monthly_charge number Monthly charge min_charge number yes Minimal charge per month","title":"Parameters of a reply"},{"location":"vn/get_available_virtual_numbers/#json-request-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"method\": \"get.available_virtual_numbers\", \"params\": { \"access_token\": \"string\", \"user_id\": \"number\", \"offset\": \"number\", \"limit\": \"number\", \"filter\": {}, \"sort\": [ { \"field\": \"string\", \"order\": \"string\" } ], \"fields\": [ \"string\" ] } }","title":"JSON request structure"},{"location":"vn/get_available_virtual_numbers/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"metadata\": { }, \"data\": [ { \"phone_number\": \"string\", \"category\": \"enum\", \"location_mnemonic\": \"enum\", \"location_name\": \"string\", \"onetime_payment\": \"number\", \"monthly_charge\": \"number\", \"min_charge\":\"number\" } ] } }","title":"JSON reply structure"},{"location":"vn/get_available_virtual_numbers/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb get\"","title":"List of returning errors"},{"location":"vn/get_virtual_number_groups/","text":"Virtual number > Getting a list of virtual number groups Method get.virtual_number_groups Description Getting a list of virtual number groups Who has access Agent, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" Parameters of a reply Title Type Valid values Filtering Sorting Description id number yes yes Virtual number group unique ID name string yes yes Virtual number group name number string yes yes Virtual number group unique identifier (number): g1,g2,g3,... Employees employees array id number Employee ID See method get.employees full_name string Employee full name Employee groups employee_groups array id number Group ID See method get.group_employees name string Group name Virtual phones virtual_phones array id number Virtual phone ID. See method get.virtual_numbers number string Virtual phone number JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.virtual_number_groups\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"metadata\": { }, \"data\": [ { \"id\": \"number\", \"name\": \"string\", \"number\": \"string\", \"employees\": [ { \"id\": \"number\", \"full_name\": \"string\" } ], \"virtual_phones\": [ { \"id\": \"number\", \"number\": \"string\" } ], \"employee_groups\": [ { \"id\": \"number\", \"name\": \"string\" } ] } ] } } List of returning errors Refer to the section \"List of errors for the methods with the verb get\"","title":"Getting a list of virtual number groups"},{"location":"vn/get_virtual_number_groups/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\"","title":"Parameters of a request"},{"location":"vn/get_virtual_number_groups/#parameters-of-a-reply","text":"Title Type Valid values Filtering Sorting Description id number yes yes Virtual number group unique ID name string yes yes Virtual number group name number string yes yes Virtual number group unique identifier (number): g1,g2,g3,... Employees employees array id number Employee ID See method get.employees full_name string Employee full name Employee groups employee_groups array id number Group ID See method get.group_employees name string Group name Virtual phones virtual_phones array id number Virtual phone ID. See method get.virtual_numbers number string Virtual phone number","title":"Parameters of a reply"},{"location":"vn/get_virtual_number_groups/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.virtual_number_groups\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"vn/get_virtual_number_groups/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"metadata\": { }, \"data\": [ { \"id\": \"number\", \"name\": \"string\", \"number\": \"string\", \"employees\": [ { \"id\": \"number\", \"full_name\": \"string\" } ], \"virtual_phones\": [ { \"id\": \"number\", \"number\": \"string\" } ], \"employee_groups\": [ { \"id\": \"number\", \"name\": \"string\" } ] } ] } }","title":"JSON reply structure"},{"location":"vn/get_virtual_number_groups/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb get\"","title":"List of returning errors"},{"location":"vn/get_virtual_numbers/","text":"Virtual number > Getting a list of connected virtual numbers Method get.virtual_numbers Description Getting a list of connected virtual numbers Who has access Agent, Customer Parameters of a request Title Type Required Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\" Parameters of a reply Title Type Valid values Filtering Sorting Description id number yes Virtual number unique ID virtual_phone_number string yes Virtual number redirection_phone_number string yes Redirection phone number Is often used for the 800 numbers activation_date iso8601 YYYY-MM-DD hh:mm:ss yes Date when a number was activated status enum active waiting cleaning prereserved reserved manual_lock limit_lock yes yes Phone number status category enum usual bronze silver gold platinum yes yes Phone number category type enum va call_tracking dynamic_call_tracking yes yes Phone number type Advertising campaigns that use a virtual number campaigns array yes List of advertising campaigns that use a virtual number campaign_id number Advertising campaign unique ID campaign_name string Advertising campaign name site_id number A unique ID of a website that's connevted to an advertising campaign site_domain_name string An address on the internet of a website, connected to an advertising campaign. Without procotol - \"http://\" or \"https://\" Blocks of advertising campaigns numbers, that use a virtual number site_blocks array List of website numbers blocks, that use a virtual number site_block_id number Numbers block unique ID site_block_name string Numbers block unique ID name Scenarios scenarios array yes List of scenarios, connected to a virtual number scenario_id number Scenario unique ID scenario_name string Scenario name JSON request structure { \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.virtual_numbers\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } } JSON reply structure { \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"metadata\": { }, \"data\": [ { \"id\": \"number\", \"virtual_phone_number\": \"string\", \"redirection_phone_number\": \"string\", \"activation_date\": \"iso8601\", \"status\": \"enum\", \"category\": \"enum\", \"type\": \"enum\", \"campaigns\": [ { \"campaign_id\": \"number\", \"site_id\": \"number\", \"site_domain_name\": \"string\", \"campaign_name\": \"string\", \"site_blocks\": [ { \"site_block_id\": \"number\", \"site_block_name\": \"string\", \"is_tracking\": \"boolean\" } ] } ], \"scenarios\": [ { \"scenario_id\": \"number\", \"scenario_name\": \"string\" } ] } ] } } List of returning errors Refer to the section \"List of errors for the methods with the verb get\"","title":"Getting a list of connected virtual numbers"},{"location":"vn/get_virtual_numbers/#parameters-of-a-request","text":"Title Type Required Description access_token string yes Authentication session key user_id number no Unique ID of an agent's customer user who makes request Is required for agent To access a list of customer users, use the method \"get.customer_users\" limit number no Returning entries count. Refer to \"Paging\" offset number no Offset that defines from which number to return the entries \"limit\" . Default value is \"0\". Refer to \"Paging\" filter object no Refer to \"Filters\" fields array no Refer to \"Viewing returning data\" sort array no Refer to \"Data sorting\"","title":"Parameters of a request"},{"location":"vn/get_virtual_numbers/#parameters-of-a-reply","text":"Title Type Valid values Filtering Sorting Description id number yes Virtual number unique ID virtual_phone_number string yes Virtual number redirection_phone_number string yes Redirection phone number Is often used for the 800 numbers activation_date iso8601 YYYY-MM-DD hh:mm:ss yes Date when a number was activated status enum active waiting cleaning prereserved reserved manual_lock limit_lock yes yes Phone number status category enum usual bronze silver gold platinum yes yes Phone number category type enum va call_tracking dynamic_call_tracking yes yes Phone number type Advertising campaigns that use a virtual number campaigns array yes List of advertising campaigns that use a virtual number campaign_id number Advertising campaign unique ID campaign_name string Advertising campaign name site_id number A unique ID of a website that's connevted to an advertising campaign site_domain_name string An address on the internet of a website, connected to an advertising campaign. Without procotol - \"http://\" or \"https://\" Blocks of advertising campaigns numbers, that use a virtual number site_blocks array List of website numbers blocks, that use a virtual number site_block_id number Numbers block unique ID site_block_name string Numbers block unique ID name Scenarios scenarios array yes List of scenarios, connected to a virtual number scenario_id number Scenario unique ID scenario_name string Scenario name","title":"Parameters of a reply"},{"location":"vn/get_virtual_numbers/#json-request-structure","text":"{ \"jsonrpc\":\"2.0\", \"id\":\"number\", \"method\":\"get.virtual_numbers\", \"params\":{ \"access_token\":\"string\", \"user_id\":\"number\", \"offset\":\"number\", \"limit\":\"number\", \"filter\":{ }, \"sort\":[ { \"field\":\"string\", \"order\":\"string\" } ], \"fields\":[ \"string\" ] } }","title":"JSON request structure"},{"location":"vn/get_virtual_numbers/#json-reply-structure","text":"{ \"jsonrpc\": \"2.0\", \"id\": \"number\", \"result\": { \"metadata\": { }, \"data\": [ { \"id\": \"number\", \"virtual_phone_number\": \"string\", \"redirection_phone_number\": \"string\", \"activation_date\": \"iso8601\", \"status\": \"enum\", \"category\": \"enum\", \"type\": \"enum\", \"campaigns\": [ { \"campaign_id\": \"number\", \"site_id\": \"number\", \"site_domain_name\": \"string\", \"campaign_name\": \"string\", \"site_blocks\": [ { \"site_block_id\": \"number\", \"site_block_name\": \"string\", \"is_tracking\": \"boolean\" } ] } ], \"scenarios\": [ { \"scenario_id\": \"number\", \"scenario_name\": \"string\" } ] } ] } }","title":"JSON reply structure"},{"location":"vn/get_virtual_numbers/#list-of-returning-errors","text":"Refer to the section \"List of errors for the methods with the verb get\"","title":"List of returning errors"}]}